webpackJsonp([1],{"34+y":function(e,t){},"63NC":function(e,t){},C9wM:function(e,t){e.exports={download:"src-components--download-2plWg_0",content:"src-components--download-2NSBQ_0",slogen:"src-components--download-247vd_0",btn:"src-components--download-EF7YX_0"}},HHTN:function(e,t){},KFxi:function(e,t){},UZj8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("34+y");var i=n("X+yh"),o=n.n(i),s=n("/5sW"),a=n("cTzj"),r=n.n(a),c={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},created:function(){window.isAnswer=!1,window.isNewUser=0,window.openid="",window.contentText="",window.isFirstAnswer="",window.answerLogId="",window.reportPic="",window.curpage=1,window.time=!0,window.activityData={}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this.isRouterAlive?t("router-view"):this._e()],1)},staticRenderFns:[]};var l=n("VU/8")(c,d,!1,function(e){n("KFxi")},null,null).exports,u=n("/ocq"),h=n("mvHQ"),v=n.n(h),w=n("BO1k"),p=n.n(w),m=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(e){this.$emit("update:show",e)}}}),f={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:e.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:e.text?"":"vux-loading-no-text"},[i("div",{staticClass:"weui-mask_transparent"}),e._v(" "),i("div",{staticClass:"weui-toast",style:{position:e.position}},[i("i",{staticClass:"weui-loading weui-icon_toast"}),e._v(" "),e.text?i("p",{staticClass:"weui-toast__content"},[e._v(e._s(e.text||"加载中")),e._t("default")],2):e._e()])])])},staticRenderFns:[]};var g=n("VU/8")(m,f,!1,function(e){n("HHTN")},null,null).exports,y=n("//Fk"),x=n.n(y),b=n("pFYg"),C=n.n(b),_=n("fZjL"),T=n.n(_),A=[],k=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new x.a(function(t,i){var n=e.url;if(!e.concurrent){if(n=n.split("?")[0],-1!==A.indexOf(n))return void i(new Error("请求并发 "+n));A.push(n)}(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=e.type?e.type.toUpperCase():"POST",a=e.url||"",r=e.contentType||"application/x-www-form-urlencoded",c=e.data||{},d=!1!==e.async;return new x.a(function(t,i){var n={};n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var o="";T()(c).forEach(function(e){o+=e+"="+c[e]+"&"}),o=o.substr(0,o.lastIndexOf("&")),"GET"==s?(a=o?a+"?"+o:a,n.open(s,a,d),n.setRequestHeader("Content-type",r),n.send()):"POST"==s?(n.open(s,a,d),n.setRequestHeader("Content-type",r),n.send(o)):i(new Error("不支持的type")),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var e=n.response;"object"!==(void 0===e?"undefined":C()(e))&&(e=JSON.parse(e)),t(e)}else i(n)}})})(e).then(function(e){0===e.code?t(e):i(e)}).catch(function(e){i(e)}).finally(function(){var e=A.indexOf(n);-1!==e&&A.splice(e,1)})})},P=envConfig.requestDomain,L=function(e){return k({url:P+"/pet-api/question/loadActivityQuestion",data:e})},S=function(e){return k({url:P+"/pet-api/question/completionActivityQuestion",data:e,type:"post"})},I=function(e){return k({url:P+"/pet-api/user/activity/isBindingOpenId",data:e})},j=function(e){return k({url:P+"/pet-api/question/isLongPress",data:e})},N=function(e){return k({url:P+"/pet-api/logcount/addActivityLog",data:e})},D=(n("q/am"),n("4VPn")),V=n.n(D);s.default.component(V.a.name,V.a);String;s.default.component(V.a.name,V.a);var q={name:"rule",props:{text:{type:String,default:""},value:{default:!1}},watch:{showPopup:function(e){this.$emit("input",e)},value:function(e){this.showPopup=e}},data:function(){return{showPopup:!1}}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mt-popup",{attrs:{zIndex:"990"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[i("div",{staticClass:"rule-popup"},[i("div",{staticClass:"rule-btn",on:{click:function(e){t.showPopup=!1}}},[i("img",{attrs:{src:n("YRwD")}})]),t._v(" "),i("div",{staticClass:"rule-content"},[i("div",{staticClass:"rule-title"},[i("div",[t._v("活动规则")])]),t._v(" "),i("div",{staticClass:"rule-text",domProps:{innerHTML:t._s(t.text)}})])])])},staticRenderFns:[]};var O=n("VU/8")(q,M,!1,function(e){n("bGua")},null,null).exports,R=function(){var e=window.location.href.split("?"),t={};if(1<e.length){var i=e[1],n=-1!==i.indexOf("%23/")?i.indexOf("%23/"):i.indexOf("#/");-1!==n&&(i=i.substr(0,n));var o=!0,s=!1,a=void 0;try{for(var r,c=p()(i.split("&"));!(o=(r=c.next()).done);o=!0){var d=r.value.split("=");d[0]&&(t[d[0]]=d[1]||"")}}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}}return t},U=R(),E=[];U.system&&(E=U.system.split("_"));var B="android"===E[0],F="ios"===E[0],W=E[1]?""+E[1]:"",Q=function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg,o=document.querySelector('meta[name="sharetitle"]'),s=document.querySelector('meta[name="description"]'),a=document.querySelector('meta[name="shareimg"]'),r=document.querySelector('meta[name="shareurl"]');o&&s&&a&&r||console.warn("setshareinfoios 缺少标签"),e&&o&&o.setAttribute("content",e),t&&s&&s.setAttribute("content",t),n&&a&&a.setAttribute("content",n),i&&r&&r.setAttribute("content",i)},H=function(e,t,i,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:config.shareImg;B?function(e,t,i,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:config.shareImg;B?e&&t&&i&&n?window.fromh5data.shareCardInfo(t,o,n,i,e):console.warn("setshareinfoandroid 缺少参数"):console.warn("setshareinfoandroid 不在安卓客户端内")}(e,t,i,n,o):F&&Q(t,i,n,o)},K=function(e,t,i,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:config.shareImg;B||F?e&&t&&i&&n?"4.9.6"<W?(B&&window.fromh5data.shareCardInfoDidlog(i,o,n,t,e),F&&(Q(t,i,n,o),window.location.href="pethome://share_"+e)):function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg;B||F?e&&t&&i?(B&&(W<"4.9.5"?window.fromh5data.shareCardInfoDidlog(t,n,i,e):W<"5.0.0"?window.fromh5data.shareCardInfoDidlogNoQQ(t,n,i,e):window.fromh5data.shareCardInfoDidlog(e,n,i,t,"1,2")),F&&(Q(e,t,i,n),window.location.href="pethome://share")):console.warn("sharepopup 缺少参数"):console.warn("sharepopup 不在客户端内")}(t,i,n,o):console.warn("openshare 缺少参数"):console.warn("openshare 不在客户端内")},X=n("fxnj"),z=n.n(X),Z=n("Xxa5"),G=n.n(Z),Y=n("exGp"),J=n.n(Y),ee=envConfig.requestDomain,te=(envConfig.manageDomain,function(e){return k({url:ee+"/pet-api/wx/ticket",data:{code:e}})}),ie=function(e,t){return k({url:ee+"/pet-api/wx/info",data:{accessToken:t,openId:e}})},ne=function(e){return ee+"/pet-api/user/activity/generateImageCode?mobileKey="+e},oe=function(e){return k({url:ee+"/pet-api/user/activity/genVerifyCode",data:e})},se=function(e){return k({url:ee+"/pet-api/user/activity/login",data:e})},ae=(envConfig.requestDomain,envConfig.requestDomain,envConfig.requestDomain,navigator.userAgent),re={android:-1<ae.indexOf("Android")||-1<ae.indexOf("Linux"),ios:-1<ae.indexOf("iPhone")||-1<ae.indexOf("iPad"),iphone:-1<ae.indexOf("iPhone"),weixin:-1<ae.toLowerCase().indexOf("micromessenger")},ce=this,de=function(o,e){return new x.a(function(t,i){var c,n;(e=e||{}).jsApiList=e.jsApiList||["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],(o=o||{}).link=o.link||window.location.href,o.imgUrl=o.imgUrl||config.shareImg,console.log("wxshare"),(c=e,new x.a((n=J()(G.a.mark(function e(i,n){var o,s,a,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("wxconfig",re),re.weixin){e.next=4;break}return n(new Error("wxconfig 非微信浏览器")),e.abrupt("return");case 4:if(o=(c=c||{}).url||location.href,s=c.signData,a=config.wxShareDebug,s){e.next=13;break}return e.next=11,(t=o,k({url:ee+"/pet-api/wx/sign",data:{url:encodeURIComponent(t)},type:"get"})).catch(function(e){n(new Error("sign error "+(e.code||"")+" "+(e.msg||"")))});case 11:r=e.sent,s={appId:r.data.appId,timestamp:r.data.timestamp,nonceStr:r.data.nonceStr,signature:r.data.signature};case 13:s.debug=!0===a,s.jsApiList=c.jsApiList,console.log(s),z.a.config(s),z.a.ready(function(e){console.log("ready"),console.log(e),i(s)}),z.a.error(function(e){console.log("error"),console.log(e),n(e)});case 19:case"end":return e.stop()}var t},e,ce)})),function(e,t){return n.apply(this,arguments)}))).then(function(e){z.a.onMenuShareTimeline(o),z.a.onMenuShareAppMessage(o),z.a.onMenuShareQQ(o),z.a.onMenuShareWeibo(o),z.a.onMenuShareQZone(o),t(e)}).catch(function(e){i(e)})})},le=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.href,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"snsapi_userinfo",i="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+envConfig.shareAppid+"&redirect_uri="+escape(e)+"&response_type=code&scope="+t+"&state=STATE#wechat_redirect";window.location.href=i},ue=n("bOdI"),he=n.n(ue),ve=config.downloadApp,we=config.downloadLogo,pe=config.downloadTitle,me=config.downloadDescription,fe=(String,config.downloadApp),ge=config.downloadLogo,ye=config.downloadTitle,xe=config.downloadDescription,be={name:"download",props:{position:{type:String,default:"bottom"}},data:function(){return{style:he()({},this.position,0),downloadLogo:ge,downloadTitle:ye,downloadDescription:xe}},methods:{downloadApp:fe}},Ce={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.$style.download,style:e.style},[i("div",{class:e.$style.content},[i("img",{attrs:{src:e.downloadLogo,alt:"宠物家"}}),e._v(" "),i("div",{class:e.$style.slogen},[i("span",{domProps:{textContent:e._s(e.downloadTitle)}}),e._v(" "),i("span",{domProps:{textContent:e._s(e.downloadDescription)}})])]),e._v(" "),i("div",{class:e.$style.btn,on:{click:e.downloadApp}},[e._v("立即打开")])])},staticRenderFns:[]};var _e=n("VU/8")(be,Ce,!1,function(e){this.$style=n("C9wM")},null,null).exports,Te=(config.downloadApp,R(),(new Date).getTime(),envConfig.shareDomain,config.downloadApp),Ae=R(),ke=re.weixin,Pe=(new Date).getTime(),Le=envConfig.shareDomain+"/static/content/html5/byvue/dist/201810/doubleeleven/index.html",Se={inject:["reload"],name:"Index",data:function(){return{loading:!1,curpage:window.curpage,activityId:"",openid:window.openid,channel:"",nickname:"",wxPic:"",isNewUser:window.isNewUser,startTimes:"",timeSlot:"",cellPhone:"",bgc:"",answerLogId:window.answerLogId,titleText:"恭喜",contentText:window.contentText,botText:"",isFirstAnswer:window.isFirstAnswer,reportPic:window.reportPic,msg:"",myvideodom:"",showRule:!1,rulebtnshow:!1,showTitleWindow:!1,showWindow:!1,showSure:!1,showBegin:!1,toastshow:!1,ruleText:"",replayStatus:!1,rebuild:!0,videotype2end:!1,showReplay:!1,showjiexi:!1,shownextbtn:!1,showoverbtn:!1,showgetreport:!1,showbtpicture:!1,closeMusic:!0,rightWeixincode:!1,appshow:"",isAndriodweixin:"",capture:"",videObj:"",startTime:"",endTime:"",answerTime:"",bindingStatus:"",isAnswer:window.isAnswer,num:0,answerLog:[],videoArray:[],anwser:[],addActivityLog:{imei:Ae.imei||"",cellPhone:Ae.cellPhone||"",type:"3",activityInfoId:Ae.activityId||"",taskId:"0",pageType:"0"},curvideo:0,player:null,touchflag:!0,timers:window.time,fullurl:"",shareTitle:"",shareDescribe:"",showMusic:!0,buildTan:!1,issubmit:!0}},computed:{curvideoobj:function(){return this.videoArray[this.curvideo]||{}},curanswer:function(){var e=!0,t=!1,i=void 0;try{for(var n,o=p()(this.answerLog);!(e=(n=o.next()).done);e=!0){var s=n.value;if(s.id==this.curvideoobj.id)return s}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}}},created:function(){var n=this;if(this.fullurl=this.getFullUrl(Le),this.isAndriodweixin=this.isAndriodWeiXin(),mediaMgr.init(),this.repush(),ke){this.appshow=2,this.channel=0,this.addActivityLog.pageType=2,N(this.addActivityLog);var e=Ae.code;e?te(e).then(function(e){return e.data.openid&&(window.openid=e.data.openid,n.rightWeixincode=!0),ie(e.data.openid,e.data.access_token)}).then(function(e){e.data.nickname&&(n.nickname=e.data.nickname||""),e.data.headimgurl&&(n.wxPic=e.data.headimgurl||"")}).catch(function(e){console.warn(e),e.msg&&Toast(e.msg)}).finally(function(){n.rightWeixincode||1==n.curpage&&le(n.fullurl)}):1==this.curpage&&le(this.fullurl)}else this.appshow=1,this.addActivityLog.pageType=1,this.cellPhone=Ae.cellPhone||window.cellPhone,(this.channel=1)==this.curpage&&N(this.addActivityLog);this.activityId=Ae.activityId||"";var t={activityId:this.activityId};t.activityId?1==this.curpage&&L(t).then(function(e){var t=e.data;if(t)if($("#toastshow").hide(),n.rulebtnshow=!0,n.infoFilter(t),ke){var i={};i.title=n.shareTitle,i.desc=n.shareDescribe,de(i)}else H("1,2",n.shareTitle,n.shareDescribe,n.fullurl)}).catch(function(e){console.warn(e),$("#toastshow").show(),e.msg&&Toast(e.msg)}):Toast("params not found")},beforeCreate:function(){},mounted:function(){},methods:{appshare:function(){K("1,2",this.shareTitle,this.shareDescribe,this.fullurl)},isAndriodWeiXin:function(){var e=navigator.userAgent.toLowerCase(),t=-1<e.indexOf("micromessenger"),i=-1<e.indexOf("android");return!(!t||!i)},repush:function(){var e=this;4==this.curpage&&this.reportPic&&(setTimeout(function(){e.showWindow=!0,e.showbtpicture=!0},500),"0"==this.isNewUser?(setTimeout(function(){e.showWindow=!1},3e3),this.showSure=!1,"1"==this.isFirstAnswer?(this.showTitleWindow=!0,this.botText="请到APP中查看"):(this.showTitleWindow=!1,this.titleText="",this.botText="")):(this.showSure=!0,this.showTitleWindow=!0,this.botText="在APP中登录还可获得100元大礼包查看"))},getFullUrl:function(e){if(e)return e+"?cellPhone="+(Ae.cellPhone||"")+"&imei="+(Ae.imei||"")+"&system="+(Ae.system||"")+"&activityId="+(Ae.activityId||"")+"&t="+Pe},sure:function(){this.showWindow=!1},longClick:function(){var e=this;this.startTimes=(new Date).getTime(),this.touchflag=!0,setTimeout(function(){e.touchflag&&e.isLongPressPic()},2e3)},touchend:function(){this.touchflag=!1,this.timeSlot=(new Date).getTime()-this.startTimes,2e3<this.timeSlot&&this.isLongPressPic()},isLongPressPic:function(){j({answerLogId:this.answerLogId}).then(function(e){}).catch(function(e){console.warn(e),e.msg&&Toast(e.msg)})},infoFilter:function(e){if(e.activityBgPic&&(this.bgc=e.activityBgPic),e.activityRule&&(this.ruleText=e.activityRule),e.shareTitle&&(this.shareTitle=e.shareTitle),e.shareDescribe&&(this.shareDescribe=e.shareDescribe),e.activityVedio1){var t={src:e.activityVedio1||"",src_ts:e.activityVedio1Ts||"",Capture:e.activityVedio1Capture||"",duration:e.activityVedio1Length||"",type:1};this.videoArray.push(t)}if(e.questionList){var i=!0,n=!1,o=void 0;try{for(var s,a=p()(e.questionList);!(i=(s=a.next()).done);i=!0){var r=s.value,c={answer:r.answer||[],id:r.id||"",question:r.question||"",src:r.questionVedio||"",src_ts:r.questionVedioTs||"",Capture:r.questionVedioCapture||"",duration:r.questionVedioLength||"",type:2};this.videoArray.push(c);var d={type:3,src:r.answerVedio||"",src_ts:r.answerVedioTs||"",Capture:r.answerVedioCapture||"",duration:r.answerVedioLength||""};this.videoArray.push(d);var l={id:r.id||"",answer:"",score:""};this.answerLog.push(l)}}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}}if(e.activityVedio2){var u={src:e.activityVedio2||"",src_ts:e.activityVedio2Ts||"",Capture:e.activityVedio2Capture||"",duration:e.activityVedio2Length||"",type:4};this.videoArray.push(u)}},updateAnswerLog:function(e,t,i){if(e&&t){var n=!0,o=!1,s=void 0;try{for(var a,r=p()(this.answerLog);!(n=(a=r.next()).done);n=!0){var c=a.value;c.id==e&&(c.answer=t,c.score=i,this.showjiexi=!0)}}catch(e){o=!0,s=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw s}}}},complete:function(e){var t=this;S(e).then(function(e){t.answerLogId=e.data.answerLogId,t.reportPic=e.data.reportPic,t.isFirstAnswer=e.data.isFirstAnswer,t.contentText=e.data.msg,t.issubmit=!0,t.curpage=4,t.repush()}).catch(function(e){t.issubmit=!0,console.warn(e),e.msg&&Toast(e.msg)})},jiexiClicked:function(){this.showReplay=!1,this.showjiexi=!1,this.curvideo++,window.videObj.pause(),this.goVideo(this.chooseVideoUrl(this.videoArray[this.curvideo]),this.videoArray[this.curvideo].Capture);var e=this.videoArray.length-2;this.curvideo==e&&(this.shownextbtn=!1)},nextBtnClicked:function(){this.shownextbtn=!1,this.curvideo++,window.videObj.pause(),this.goVideo(this.chooseVideoUrl(this.videoArray[this.curvideo]),this.videoArray[this.curvideo].Capture)},overtestClick:function(){this.addActivityLog.taskId="2",this.addActivityLog.pageType="0",N(this.addActivityLog),this.showoverbtn=!1,this.shownextbtn=!1,this.curvideo++,window.videObj.pause(),this.goVideo(this.chooseVideoUrl(this.videoArray[this.curvideo]),this.videoArray[this.curvideo].Capture)},enableMute:function(){window.videObj.muted=this.showMusic?1:0,this.showMusic=!this.showMusic},start:function(){this.addActivityLog.taskId="1",this.addActivityLog.pageType="0",N(this.addActivityLog),this.videoType=1,this.startTime=(new Date).getTime();var e=this.chooseVideoUrl(this.videoArray[0]);this.goVideo(e,this.videoArray[0].Capture),this.curpage=2},videoEnd:function(){var e=this.curvideo;if(1===this.videoArray[e].type&&(this.curvideo=1,this.showBegin=!0),2===this.videoArray[e].type&&(this.videotype2end=!0,this.showReplay=!0),4===this.videoArray[e].type){this.endTime=(new Date).getTime();var t=(this.endTime-this.startTime)%864e5%36e5,i=Math.floor(t/6e4),n=t%6e4,o=Math.round(n/1e3);this.answerTime=i+"分"+o+"秒"||"",this.showgetreport=!0}window.videostop=!0},confirm:function(){var t=this;this.videotype2end=!1,window.isAnswer=!0;var i={activityId:this.activityId,answerLog:v()(this.answerLog),cellPhone:this.cellPhone,completeTime:this.answerTime,channel:this.channel,nickName:this.nickname,wxPic:this.wxPic,isNewUser:this.isNewUser};window.activityData=i,window.openid?I({openId:window.openid}).then(function(e){t.bindingStatus=e.data.status,1==t.bindingStatus?(i.cellPhone=e.data.cellPhone,t.issubmit&&(t.issubmit=!1,t.complete(i))):t.$router.push("login")}).catch(function(e){console.warn(e),e.msg&&Toast(e.msg)}):this.cellPhone?this.complete(i):this.$router.push("login")},goVideo:function(e,t){var i=this;$("#videoimg").attr("src",t),this.showReplay=!1,mediaMgr.initQuestion(e,this.curvideo);var n=mediaMgr.video[e];window.videObj=n,window.videObj.muted=this.showMusic?0:1,$("#videodom").html(n.domElement),$("#videodom video").attr("poster",t),mediaMgr.video[e].load(),setTimeout(function(){n.play(),window.videostop=!1},300),window.videObj.addEventListener("ended",this.videoEnd),window.videObj.addEventListener("timeupdate",function(){.01<window.videObj.getCurrentTime()&&3==i.videoArray[i.curvideo].type&&(i.curvideo!==i.videoArray.length-2?i.shownextbtn=!0:i.showoverbtn=!0)})},replay:function(){var e=!(this.showjiexi=!1),t=!1,i=void 0;try{for(var n,o=p()(this.answerLog);!(e=(n=o.next()).done);e=!0){var s=n.value;s.id==this.curvideoobj.id&&(s.answer="")}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}window.videObj.pause();var a=this.chooseVideoUrl(this.videoArray[this.curvideo]);this.goVideo(a,this.videoArray[this.curvideo].Capture)},chooseVideoUrl:function(e){return e.src},beginAnswer:function(){window.videObj.pause();var e=this.chooseVideoUrl(this.videoArray[this.curvideo]);this.goVideo(e,this.videoArray[this.curvideo].Capture),this.showBegin=!1},downloadApp:Te},components:{Loading:g,rule:O,downloadComp:_e}},Ie={render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"container"},[i.loading?n("loading"):i._e(),i._v(" "),i.loading?i._e():n("div",{staticClass:"index"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==i.curpage&&1==i.appshow,expression:"curpage == 1 && appshow == 1"}],staticClass:"appclass"},[n("img",{staticClass:"appimage",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15415814156445977970.png",alt:""}}),i._v(" "),n("div",{staticClass:"joinshare",on:{click:i.appshare}},[n("div",{staticClass:"participate"},[i._v("\n                    立即分享\n                ")])])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1==i.curpage&&2==i.appshow,expression:"curpage == 1 && appshow == 2"}],staticClass:"first"},[n("div",{staticClass:"toast",attrs:{id:"toastshow"}},[i._v("活动不存在或已过期")]),i._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:i.rulebtnshow,expression:"rulebtnshow"}],staticClass:"indexbg",attrs:{src:i.bgc}}),i._v(" "),n("div",{staticClass:"join",on:{click:i.start}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.rulebtnshow,expression:"rulebtnshow"}],staticClass:"participate"},[i._v("\n                    立即参与\n                ")]),i._v(" "),n("span",[i._v("测试只适合养狗的铲屎官哦~")])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.rulebtnshow,expression:"rulebtnshow"}],staticClass:"rule",on:{click:function(e){i.showRule=!0}}},[i._v("查看规则>>")])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2==i.curpage,expression:"curpage == 2"}],staticClass:"questions-page"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!i.showReplay,expression:"!showReplay"}],class:i.showMusic?i.isAndriodweixin?"enablemute isAndriod":"enablemute":i.isAndriodweixin?"offmusic isAndriod":"offmusic",attrs:{id:"music"},on:{click:i.enableMute}}),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.showBegin,expression:"showBegin"}],staticClass:"beginAnswer",on:{click:i.beginAnswer}},[i._v("开始答题")]),i._v(" "),n("div",{staticClass:"curvideo"},[n("div",{staticClass:"mask",on:{touchmove:function(e){e.preventDefault()}}}),i._v(" "),n("img",{staticClass:"videoimg",attrs:{alt:"",id:"videoimg"}}),i._v(" "),n("div",{ref:"videodom",staticClass:"video",attrs:{id:"videodom"}})]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.videotype2end,expression:"videotype2end"}],staticClass:"modal",on:{touchmove:function(e){e.preventDefault()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.showReplay,expression:"showReplay"}],class:i.isAndriodweixin?"replay isAndriod":"replay",on:{click:i.replay}}),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.showReplay,expression:"showReplay"}],staticClass:"questions"},[n("div",{staticClass:"questions-detail"},[n("div",{domProps:{textContent:i._s(i.curvideoobj.question)}}),i._v(" "),n("div",{staticClass:"answer"},i._l(i.curvideoobj.answer,function(t,e){return n("div",{key:"a"+e,staticClass:"answers",on:{click:function(e){i.updateAnswerLog(i.curvideoobj.id,t.id,t.score)}}},[n("div",[n("span",[i._v(i._s(t.id)+".")]),n("span",[i._v(i._s(t.name))])]),i._v(" "),n("div",{staticClass:"checkbox"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.id==i.curanswer.answer,expression:"item.id == curanswer.answer"}]}),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.id!=i.curanswer.answer,expression:"item.id != curanswer.answer"}]})])])})),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.showjiexi,expression:"showjiexi"}],staticClass:"jiexi",on:{click:i.jiexiClicked}})])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.showoverbtn,expression:"showoverbtn"}],staticClass:"overtestClick"},[n("div",{on:{click:i.overtestClick}},[i._v("点击继续")])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.shownextbtn,expression:"shownextbtn"}],class:i.isAndriodweixin?"nextbtn isAndriod":"nextbtn"},[n("div",{on:{click:i.nextBtnClicked}},[i._v("下一题")])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.showgetreport,expression:"showgetreport"}],staticClass:"getreport",on:{click:i.confirm}},[i._v("生成报告领取优惠券")])])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:3==i.curpage,expression:"curpage == 3"}],staticClass:"login"},[i._v("3")]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:4==i.curpage,expression:"curpage == 4"}],staticClass:"report"},[n("download-comp"),i._v(" "),n("img",{staticClass:"reportimage",attrs:{src:i.reportPic,alt:""},on:{touchstart:i.longClick,touchend:i.touchend}}),i._v(" "),n("div",{staticClass:"bottombox"}),i._v(" "),n("img",{staticClass:"btpicture",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15415601008223676572.png",alt:""}})],1)]),i._v(" "),n("rule",{attrs:{text:i.ruleText},model:{value:i.showRule,callback:function(e){i.showRule=e},expression:"showRule"}}),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.showWindow,expression:"showWindow"}],staticClass:"window"},[n("h3",{staticClass:"titleText"},[i._v(i._s(i.titleText))]),i._v(" "),n("div",{staticClass:"contentText"},[i._v(i._s(i.contentText))]),i._v(" "),n("div",{staticClass:"botText"},[i._v(i._s(i.botText))]),i._v(" "),i.showSure?n("div",{staticClass:"sure",on:{click:i.sure}},[i._v("好的")]):i._e()])],1)},staticRenderFns:[]};var je=n("VU/8")(Se,Ie,!1,function(e){n("iPmn")},"data-v-17b8bfe7",null).exports,Ne=n("NC6I"),De=n.n(Ne),Ve=(config.cellPhoneReg,config.cellPhoneReg),qe={name:"login",props:["placeholders"],beforeMount:function(){this.updateCode()},data:function(){return{mobileKey:"",imgcodeUrl:"",cellPhone:"",imgcode:"",code:"",genVerifyCodeFlag:!1,getCodeBtnText:"获取验证码",getCodeBtnClass:""}},methods:{confirmclicked:function(){this.checkoutNum()&&this.$emit("confirm",{cellPhone:this.cellPhone,code:this.code})},getCode:function(){this.checkoutNum(1)&&this.$emit("getCode",{phone:this.cellPhone,code:this.imgcode,encryptionCode:De()("chongwujia_2018"+this.cellPhone),mobileKey:this.mobileKey})},updateCode:function(){this.mobileKey=""+(new Date).getTime()+parseInt(1e5*(9*Math.random()+1)),this.imgcodeUrl=ne(this.mobileKey)},countdown:function(e){var t=this;this.getCodeBtnClass="grey",this.countBackwards({total:60,callback:function(e){e?t.getCodeBtnText=e+"秒":(t.getCodeBtnClass="",t.getCodeBtnText="重新获取",t.genVerifyCodeFlag=!1)}}),e&&e()},checkoutNum:function(e){if(this.cellPhone)if(Ve.test(this.cellPhone))if(this.imgcode)if(this.imgcode.length<4)Toast("请检查图形验证码");else if(this.code||1===e){if(!(this.code.length<4&&1!==e))return!0;Toast("请检查短信验证码")}else Toast("请输入短信验证码");else Toast("请输入图形验证码");else Toast("请检查手机号");else Toast("请输入手机号")},countBackwards:function(e){var t=this,i=(e=e||{}).total?e.total:10,n=e.speed?e.speed:1,o=e.time?e.time:1e3,s=e.counted?e.counted:0,a=e.callback?e.callback:0,r=e.callbackOnce?e.callbackOnce:0,c=e.callbackEnd?e.callbackEnd:0,d=0<=i-s?i-s:0;setTimeout(function(){if(0!==d){var e=0<=d-n?d-n:0;s+=n,a&&a(e),r&&r(e),0==e&&c&&c(e),t.countBackwards({total:i,speed:n,time:o,counted:s,callback:a,callbackOnce:r,callbackEnd:c})}},o)}}},Me={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"user-form"},[i("div",{staticClass:"form-cellPhone"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cellPhone,expression:"cellPhone"}],attrs:{type:"number",placeholder:t.placeholders&&t.placeholders[0]||"请输入手机号"},domProps:{value:t.cellPhone},on:{input:function(e){e.target.composing||(t.cellPhone=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-imgcode"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.imgcode,expression:"imgcode"}],attrs:{type:"number",placeholder:t.placeholders&&t.placeholders[1]||"请输入图形验证码"},domProps:{value:t.imgcode},on:{input:function(e){e.target.composing||(t.imgcode=e.target.value)}}}),t._v(" "),i("img",{attrs:{src:t.imgcodeUrl},on:{click:function(e){return e.stopPropagation(),t.updateCode(e)}}})]),t._v(" "),i("div",{staticClass:"form-code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"number",placeholder:t.placeholders&&t.placeholders[2]||"请输入验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),i("span",{class:t.getCodeBtnClass,on:{click:function(e){return e.stopPropagation(),t.getCode(e)}}},[t._v(t._s(t.getCodeBtnText))])])]),t._v(" "),i("div",{staticClass:"user-btn",on:{click:t.confirmclicked}},[t._t("confirmBtn",[i("div",[t._v("确认")])])],2)])},staticRenderFns:[]};var Oe=n("VU/8")(qe,Me,!1,function(e){n("djk/")},"data-v-f8b0d934",null).exports,Re={name:"index",data:function(){return{submitFlag:!1,placeholders:["","",""],issubmits:!0}},components:{login:Oe,Loading:g},created:function(){},beforeMount:function(){},methods:{getCode:function(e){var t=this,i=e;i.openid=window.openid||"",oe(i).then(function(e){t.$refs.login.countdown()}).catch(function(e){console.warn(e),e.msg&&Toast(e.msg)})},submit:function(e){var t=this;e.openId=window.openid||"",this.issubmits&&(this.issubmits=!1,se(e).then(function(e){window.openid||(window.activityData.channel=1),window.activityData.cellPhone=e.data.cellPhone,window.activityData.isNewUser=e.data.isNewUser,window.isNewUser=e.data.isNewUser,console.log(window.activityData),S(window.activityData).then(function(e){window.answerLogId=e.data.answerLogId,window.reportPic=e.data.reportPic,window.isFirstAnswer=e.data.isFirstAnswer,window.contentText=e.data.msg,t.issubmits=!0,window.curpage=4,t.$router.go(-1)}).catch(function(e){t.issubmits=!0,console.warn(e),e.msg&&Toast(e.msg)})}).catch(function(e){console.warn(e),t.issubmits=!0,e.msg&&Toast(e.msg)}))}}},Ue={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"loginpage"},[e._m(0),e._v(" "),e._m(1),e._v(" "),i("div",{staticClass:"login-text"},[e._v("注册或登录即可查看报告还有惊喜优惠券哦~")]),e._v(" "),i("login",{ref:"login",attrs:{placeholders:e.placeholders},on:{confirm:e.submit,getCode:e.getCode}},[i("div",{staticClass:"loginbtn",attrs:{slot:"confirmBtn"},slot:"confirmBtn"},[e._v("立即领取")])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"img-top"},[t("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15415064332893807850.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"img-mid"},[t("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15415067662872695860.png",alt:""}})])}]};var Ee=n("VU/8")(Re,Ue,!1,function(e){n("63NC")},"data-v-4829a5b3",null).exports;s.default.use(u.a);var $e=new u.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:je},{path:"/login",name:"login",component:Ee}]});$e.afterEach(function(e){});var Be=$e;n("UoMW");!function(e,t){if((t=t||{}).favicon){var i=[];e.querySelector('link[rel="shortcut icon"]')&&i.push(e.querySelector('link[rel="shortcut icon"]')),e.querySelector('link[rel="icon"]')&&i.push(e.querySelector('link[rel="icon"]')),e.querySelector('link[rel="apple-touch-icon-precomposed"]')&&i.push(e.querySelector('link[rel="apple-touch-icon-precomposed"]'));var n=!0,o=!1,s=void 0;try{for(var a,r=p()(i);!(n=(a=r.next()).done);n=!0){a.value.setAttribute("href",t.favicon)}}catch(e){o=!0,s=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw s}}}}(document,config),s.default.use(r.a),window.Toast=o.a,new s.default({router:Be,components:{App:l},render:function(e){return e(l)}}).$mount("#app")},UoMW:function(e,t){var i,n,o,s,a,r;i=document,n=window,o=i.documentElement,s=n.config.pageWidth,a="orientationchange"in n?"orientationchange":"resize",r=function(){var e=o.clientWidth;o.style.fontSize=0<s?(e&&e<s?e:s)/7.5+"px":e/7.5+"px"},i.addEventListener&&(n.addEventListener(a,r,!1),i.addEventListener("DOMContentLoaded",r,!1),setTimeout(function(){0===parseInt(i.defaultView.getComputedStyle(o).fontSize)&&r()},3e3))},YRwD:function(e,t,i){e.exports=i.p+"../../../static/images/icons/clear.png"},bGua:function(e,t){},"djk/":function(e,t){},iPmn:function(e,t){},"q/am":function(e,t){}},["UZj8"]);
//# sourceMappingURL=app.7b925012db29a76f7e3f.js.map
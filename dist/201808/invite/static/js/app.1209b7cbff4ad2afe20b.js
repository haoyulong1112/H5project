webpackJsonp([1],{"34+y":function(t,e){},"8iLB":function(t,e){},IQ1c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("34+y");var n=i("X+yh"),a=i.n(n),o=(i("UoMW"),i("/5sW")),s=i("//Fk"),u=i.n(s),r=i("pFYg"),v=i.n(r),c=i("fZjL"),d=i.n(c),l=[],f=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new u.a(function(e,i){var n=t.url;if(!t.concurrent){if(n=n.split("?")[0],-1!==l.indexOf(n))return void i(new Error("请求并发 "+n));l.push(n)}(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=t.type?t.type.toUpperCase():"POST",s=t.url||"",r=t.contentType||"application/x-www-form-urlencoded",c=t.data||{},l=!1!==t.async;return new u.a(function(e,i){var n={};n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var a="";d()(c).forEach(function(t){a+=t+"="+c[t]+"&"}),a=a.substr(0,a.lastIndexOf("&")),"GET"==o?(s=a?s+"?"+a:s,n.open(o,s,l),n.setRequestHeader("Content-type",r),n.send()):"POST"==o?(c.system&&(s=0<s.indexOf("?")?s+"&system="+c.system:s+"?system="+c.system),n.open(o,s,l),n.setRequestHeader("Content-type",r),n.send(a)):i(new Error("不支持的type")),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var t=n.response;"object"!==(void 0===t?"undefined":v()(t))&&(t=JSON.parse(t)),e(t)}else i(n)}})})(t).then(function(t){0===t.code?e(t):i(t)}).catch(function(t){i(t)}).finally(function(){var t=l.indexOf(n);-1!==t&&l.splice(t,1)})})},h=envConfig.requestDomain,m=(envConfig.manageDomain,function(t){return f({url:h+"/pet-api/logcount/addActivityLog",data:t})}),p=(envConfig.requestDomain,envConfig.requestDomain),g=function(t){return f({url:p+"/pet-api/activity/invite/loadInviterPage",data:t})},y=function(t){return f({url:p+"/pet-api/activity/invite/getUserInviteCode",data:t})},_=function(t){return f({url:p+"/pet-api/activity/invite/myReward",data:t})},w=(envConfig.requestDomain,i("BO1k")),C=i.n(w),D=function(){var t=window.location.href.split("?"),e={};if(1<t.length){var i=t[1],n=-1!==i.indexOf("%23/")?i.indexOf("%23/"):i.indexOf("#/");-1!==n&&(i=i.substr(0,n));var a=!0,o=!1,s=void 0;try{for(var r,c=C()(i.split("&"));!(a=(r=c.next()).done);a=!0){var l=r.value.split("=");l[0]&&(e[l[0]]=l[1]||"")}}catch(t){o=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw s}}}return e},P=(config.cellPhoneReg,config.cellPhoneReg),b={name:"App",data:function(){return{transitionName:""}},watch:{$route:function(t,e){t.meta.index>e.meta.index?this.transitionName="slide-left":this.transitionName="slide-right"}},created:function(){var t=D(),e=t.cellPhone;e&&P.test(e)&&(this.inviteData.cellPhone=e),this.inviteData.system=t.system||"",this.inviteData.imei=t.imei||"",this.inviteData.activityId=t.activityId||"",t.redirect&&this.$router.push({name:t.redirect})},mounted:function(){m({imei:this.inviteData.imei,cellPhone:this.inviteData.cellPhone,activityInfoId:this.inviteData.activityId,shareActivityId:0,taskId:0})}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:this.transitionName}},[e("router-view")],1)],1)},staticRenderFns:[]};var I=i("VU/8")(b,x,!1,function(t){i("P15l"),i("clVc")},null,null).exports,k=i("cTzj"),T=i.n(k),L=i("/ocq"),S=D(),j=[];S.system&&(j=S.system.split("_"));var q,O="android"===j[0],z="ios"===j[0],E=j[1]?""+j[1]:"",A={platform:(q=navigator.userAgent,{android:-1<q.indexOf("Android")||-1<q.indexOf("Linux"),iPhone:-1<q.indexOf("iPhone"),iPad:-1<q.indexOf("iPad")}),language:(navigator.browserLanguage||navigator.language).toLowerCase()},R=i("Xxa5"),H=i.n(R),$=i("exGp"),U=i.n($),N=function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg;O||z?t&&e&&i?(O&&(E<"4.9.5"?window.fromh5data.shareCardInfoDidlog(e,n,i,t):E<"5.0.0"?window.fromh5data.shareCardInfoDidlogNoQQ(e,n,i,t):window.fromh5data.shareCardInfoDidlog(e,n,i,t,"1,2")),z&&(!function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg,a=document.querySelector('meta[name="sharetitle"]'),o=document.querySelector('meta[name="description"]'),s=document.querySelector('meta[name="shareimg"]'),r=document.querySelector('meta[name="shareurl"]');a&&o&&s&&r||console.warn("setshareinfoios 缺少标签"),t&&a&&a.setAttribute("content",t),e&&o&&o.setAttribute("content",e),n&&s&&s.setAttribute("content",n),i&&r&&r.setAttribute("content",i)}(t,e,i,n),window.location.href="pethome://share")):console.warn("sharepopup 缺少参数"):console.warn("sharepopup 不在客户端内")},F=function(){O&&window.fromh5data.login(),z&&(window.location.href="pethome://login")},M=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:config.kfnumber;"string"!=typeof t&&"number"!=typeof t&&(t=config.kfnumber),z?"4.9.4"<E&&(window.location.href="pethome://cellTel_"+t):window.location.href="tel:"+t},V=(config.kfnum,config.yqjlTitle,config.inviteShareTitle,config.inviteShareDesc,config.inviteShareImg,config.inviteShareUrl,config.kfnum),B=config.yqjlTitle,Q=config.inviteShareTitle,W=config.inviteShareDesc,X=config.inviteShareImg,J=config.inviteShareUrl,G={name:"index",data:function(){return{contentImg:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15732899959672647440.png",kfnum:V,yqjlTitle:B,swiperOption:{autoplay:{delay:2e3},loop:!0,direction:"vertical",autoHeight:!0},swiperList:[],headerData:{bg:"",btn:"",time:""},tasks:[],zjData:{money:0,userCount:0}}},created:function(){var e=this;return U()(H.a.mark(function t(){return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.init_roll=function(t){t&&/^1[0-9]{10}$/.test(t)&&(e.inviteData.cellPhone=t,e.cellPhone=t,e.loadInviterPage())},e.inviteData.cellPhone&&(e.cellPhone=e.inviteData.cellPhone),e.loadInviterPage();case 3:case"end":return t.stop()}},t,e)}))()},methods:{makephonecall:M,loadInviterPage:function(){var e=this,t={};this.inviteData.system&&(t.system=this.inviteData.system),this.inviteData.imei&&(t.imei=this.inviteData.imei),this.inviteData.cellPhone&&(t.cellPhone=this.inviteData.cellPhone),this.inviteData.activityId&&(t.activityId=this.inviteData.activityId),g(t).then(function(t){e.dataFilter(t.data)}).catch(function(t){t&&t.msg&&Toast(t.msg)})},invite:function(){var n=this,t=this.inviteData.cellPhone;this.isLogin()&&y({cellPhone:t,system:this.inviteData.system,imei:this.inviteData.imei,activityId:this.inviteData.activityId}).then(function(t){var e=Q(n.userName),i=J(t.data.inviteCode,n.inviteData.activityId);N(e,W,i,X)}).catch(function(t){t.status&&Toast(t.status),t.msg&&Toast(t.msg)})},toPrize:function(){this.isLogin()&&(A.platform.android&&window.fromh5lucy.coupon(null),A.platform.iPhone&&(window.location.href="pethome://coupon_null"))},isLogin:function(){return!!this.inviteData.cellPhone||(F(),!1)},dataFilter:function(t){t.broadcastList&&t.broadcastList.length&&(this.swiperList=t.broadcastList),t.activityInfo&&(t.activityInfo.activityBgPic&&(this.headerData.bg=t.activityInfo.activityBgPic),t.activityInfo.buttonPic&&(this.headerData.btn=t.activityInfo.buttonPic),t.activityInfo.startTime&&t.activityInfo.endTime&&(this.headerData.time=""+(t.activityInfo.endTime.substr(0,10).replace(/-/g,".")||"")),t.activityInfo.activityRule&&(this.inviteData.ruleHtml=t.activityInfo.activityRule)),t.tasks&&0<t.tasks.length&&(this.tasks=t.tasks),t.userCount&&(this.zjData.userCount=t.userCount),t.money&&(this.zjData.money=t.money)}}},Y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"index"},[i("div",{staticClass:"header"},[i("img",{attrs:{src:t.headerData.bg}})]),t._v(" "),i("div",{staticClass:"header-btn",on:{click:t.invite}},[i("img",{attrs:{src:t.headerData.btn}})]),t._v(" "),i("div",{staticClass:"yqjl block"},[t._m(0),t._v(" "),i("div",{staticClass:"yqjl-title"},[t._v("\n          5折优惠券赚取过程\n      ")]),t._v(" "),i("div",{staticClass:"content-img"},[i("img",{attrs:{src:t.contentImg}})])]),t._v(" "),i("div",{staticClass:"block"},[i("div",{staticClass:"block-title"},[t._v("我的邀请战绩")]),t._v(" "),i("div",{staticClass:"zj-content"},[i("div",[i("div",{staticClass:"zj-num"},[t._v("\n            "+t._s(t.zjData.userCount)),i("span",[t._v("张")])]),t._v(" "),i("span",[t._v("获得5折优惠券")])]),t._v(" "),i("div",[i("div",{staticClass:"zj-num"},[t._v("\n            "+t._s(t.zjData.userCount)),i("span",[t._v("人")])]),t._v(" "),i("span",[t._v("成功邀请")])])]),t._v(" "),i("div",{staticClass:"zj-btn",on:{click:t.toPrize}},[i("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15732899960566237241.png"}})])]),t._v(" "),i("div",{staticClass:"kf"},[i("span",[t._v("客服电话：")]),i("span",{domProps:{textContent:t._s(t.kfnum)},on:{click:t.makephonecall}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"yqjl-coupon"},[e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15732899958027141402.png"}})])}]};var Z=i("VU/8")(G,Y,!1,function(t){i("unHs")},"data-v-4022aa7c",null).exports,K=function(){O&&window.fromh5lucy.goService(16,""),z&&(window.location.href="pethome://recharge")},tt={name:"prize",data:function(){return{empty:!0,activeList:[],usedList:[]}},methods:{toRecharge:function(){this.inviteData.cellPhone?K():F()}},created:function(){var l=this;this.inviteData.cellPhone&&_({system:this.inviteData.system,imei:this.inviteData.imei,cellPhone:this.inviteData.cellPhone,activityId:this.inviteData.activityId}).then(function(t){var e=t.data.rewards||[];if(e.length){var i=!(l.empty=!1),n=!1,a=void 0;try{for(var o,s=C()(e);!(i=(o=s.next()).done);i=!0){var r=o.value,c={};c.grantTime=r.grantTime?r.grantTime:"",c.totalCost=r.totalCost?r.totalCost:"",c.reward=r.reward?JSON.parse(r.reward)[0].serialNum:"",r.grantStatus?l.usedList.push(c):l.activeList.push(c)}}catch(t){n=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw a}}}}).catch(function(t){t.status&&Toast(t.status),t.msg&&Toast(t.msg)})}},et={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"prize"},[i.empty?n("div",{staticClass:"empty"},[n("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389696677792146411.png"}}),i._v(" "),n("p",[i._v("您还没有奖励")]),i._v(" "),n("p",[i._v("邀请好友就能获得哦~")])]):n("div",{staticClass:"notempty"},[n("div",{staticClass:"content1024"},i._l(i.usedList,function(t,e){return n("div",{key:"a"+e,staticClass:"item1024"},[n("div",{staticClass:"item1024-title"},[i._v(i._s(t.grantTime))]),i._v(" "),n("div",{staticClass:"item1024-content"},[n("div",{staticClass:"item1024-left"},[n("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15404486722913362711.png"}}),i._v(" "),n("div",[i._v("\n                          ￥"),n("span",[i._v(i._s(t.totalCost))])])]),i._v(" "),i._m(0,!0)])])}))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item1024-right"},[i("div",[t._v("礼品卡")]),t._v(" "),i("div",[t._v("已充值到余额，请到我的余额页面查看")])])}]};var it=i("VU/8")(tt,et,!1,function(t){i("8iLB")},"data-v-4e65c6ca",null).exports,nt=(config.kfnumber,config.kfnumber),at={name:"rule",data:function(){return{kfnumber:nt,ruleHtml:this.inviteData.ruleHtml}}},ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"rule"},[i("div",{staticClass:"yqjl block"},[i("div",{staticClass:"block-title"},[t._v("邀请奖励")]),t._v(" "),i("div",{staticClass:"yqjl-content",domProps:{innerHTML:t._s(t.ruleHtml)}})]),t._v(" "),i("div",{staticClass:"block"},[i("div",{staticClass:"block-title"},[t._v("温馨提示")]),t._v(" "),i("div",{staticClass:"wxts-content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"rule-item"},[i("p",[t._v("本活动最终解释权归宠物家所有，如有疑问，请拨打"+t._s(t.kfnumber)+"咨询")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"rule-item"},[e("p",[this._v("1、若通过不正当手段获取奖励，经查实宠物家有权撤销该用户的活动奖励，情节严重者将追究其法律责任")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"rule-item"},[e("p",[this._v("2、只有在宠物家app中发起邀请才有奖励哦")])])}]};var st=i("VU/8")(at,ot,!1,function(t){i("Pke7")},"data-v-b64c4d02",null).exports;o.default.use(L.a);var rt=new L.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:Z,meta:{index:1,title:"邀请有礼"}},{path:"/prize",name:"prize",component:it,meta:{index:2,title:"我的奖励"}},{path:"/rule",name:"rule",component:st,meta:{index:3,title:"活动规则"}}],scrollBehavior:function(t,e,i){return i||{x:0,y:0}}});rt.afterEach(function(t){var e;t.meta.title&&(e=t.meta.title,document.title=e,z&&"4.9.999"<E&&(window.location.href="pethome://changeTitle_"+e))});var ct=rt,lt=i("TQvf"),ut=i.n(lt);window.Toast=a.a;!function(t,e){if((e=e||{}).favicon){var i=[];t.querySelector('link[rel="shortcut icon"]')&&i.push(t.querySelector('link[rel="shortcut icon"]')),t.querySelector('link[rel="icon"]')&&i.push(t.querySelector('link[rel="icon"]')),t.querySelector('link[rel="apple-touch-icon-precomposed"]')&&i.push(t.querySelector('link[rel="apple-touch-icon-precomposed"]'));var n=!0,a=!1,o=void 0;try{for(var s,r=C()(i);!(n=(s=r.next()).done);n=!0){s.value.setAttribute("href",e.favicon)}}catch(t){a=!0,o=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}}}(document,config);var vt=i("7QTg"),dt=i.n(vt);i("v2ns");o.default.use(dt.a),o.default.use(T.a),window.Toast=a.a,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".clipboard",n=new ut.a(t);new u.a(function(e,i){n.on("success",function(t){a()("复制成功"),e()}),n.on("error",function(t){a()("该浏览器不支持自动复制"),i(new Error("该浏览器不支持自动复制"))})})}();var ft=navigator.userAgent;o.default.prototype.inviteData={android:-1<ft.indexOf("Android")||-1<ft.indexOf("Linux"),ios:-1<ft.indexOf("iPhone")||-1<ft.indexOf("iPad"),cellPhone:"",ruleHtml:""},new o.default({router:ct,components:{App:I},render:function(t){return t(I)}}).$mount("#app")},P15l:function(t,e){},Pke7:function(t,e){},UoMW:function(t,e){var i,n,a,o,s,r;i=document,n=window,a=i.documentElement,o=n.config.pageWidth,s="orientationchange"in n?"orientationchange":"resize",r=function(){var t=a.clientWidth;a.style.fontSize=0<o?(t&&t<o?t:o)/7.5+"px":t/7.5+"px"},i.addEventListener&&(n.addEventListener(s,r,!1),i.addEventListener("DOMContentLoaded",r,!1),setTimeout(function(){0===parseInt(i.defaultView.getComputedStyle(a).fontSize)&&r()},3e3))},clVc:function(t,e){},unHs:function(t,e){},v2ns:function(t,e){}},["IQ1c"]);
//# sourceMappingURL=app.1209b7cbff4ad2afe20b.js.map
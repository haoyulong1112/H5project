webpackJsonp([1],{"34+y":function(t,e){},"8iLB":function(t,e){},Ftef:function(t,e,i){t.exports=i.p+"../../../static/images/icons/horn.png"},IQ1c:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("34+y");var i=a("X+yh"),s=a.n(i),n=(a("UoMW"),a("/5sW")),o=a("//Fk"),v=a.n(o),r=a("pFYg"),u=a.n(r),c=a("fZjL"),d=a.n(c),l=[],f=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new v.a(function(e,i){var n=t.url;if(!t.concurrent){if(n=n.split("?")[0],-1!==l.indexOf(n))return void i(new Error("请求并发 "+n));l.push(n)}(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=t.type?t.type.toUpperCase():"POST",o=t.url||"",r=t.contentType||"application/x-www-form-urlencoded",c=t.data||{},l=!1!==t.async;return new v.a(function(e,i){var n={};n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var a="";d()(c).forEach(function(t){a+=t+"="+c[t]+"&"}),a=a.substr(0,a.lastIndexOf("&")),"GET"==s?(o=a?o+"?"+a:o,n.open(s,o,l),n.setRequestHeader("Content-type",r),n.send()):"POST"==s?(n.open(s,o,l),n.setRequestHeader("Content-type",r),n.send(a)):i(new Error("不支持的type")),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var t=n.response;"object"!==(void 0===t?"undefined":u()(t))&&(t=JSON.parse(t)),e(t)}else i(n)}})})(t).then(function(t){0===t.code?e(t):i(t)}).catch(function(t){i(t)}).finally(function(){var t=l.indexOf(n);-1!==t&&l.splice(t,1)})})},h=envConfig.requestDomain,m=(envConfig.manageDomain,function(t){return f({url:h+"/pet-api/logcount/addActivityLog",data:t})}),p=(envConfig.requestDomain,envConfig.requestDomain),g=function(t){return f({url:p+"/pet-api/activity/invite/loadInviterPage",data:t})},y=function(t){return f({url:p+"/pet-api/activity/invite/getUserInviteCode",data:t})},_=function(t){return f({url:p+"/pet-api/activity/invite/myReward",data:t})},w=(envConfig.requestDomain,a("BO1k")),C=a.n(w),D=function(){var t=window.location.href.split("?"),e={};if(1<t.length){var i=t[1],n=-1!==i.indexOf("%23/")?i.indexOf("%23/"):i.indexOf("#/");-1!==n&&(i=i.substr(0,n));var a=!0,s=!1,o=void 0;try{for(var r,c=C()(i.split("&"));!(a=(r=c.next()).done);a=!0){var l=r.value.split("=");l[0]&&(e[l[0]]=l[1]||"")}}catch(t){s=!0,o=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw o}}}return e},b=(config.cellPhoneReg,config.cellPhoneReg),P={name:"App",data:function(){return{transitionName:""}},watch:{$route:function(t,e){t.meta.index>e.meta.index?this.transitionName="slide-left":this.transitionName="slide-right"}},created:function(){var t=D(),e=t.cellPhone;e&&b.test(e)&&(this.inviteData.cellPhone=e),this.inviteData.system=t.system||"",this.inviteData.imei=t.imei||"",this.inviteData.activityId=t.activityId||"",t.redirect&&this.$router.push({name:t.redirect})},mounted:function(){m({imei:this.inviteData.imei,cellPhone:this.inviteData.cellPhone,activityInfoId:this.inviteData.activityId,shareActivityId:0,taskId:0})}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:this.transitionName}},[e("router-view")],1)],1)},staticRenderFns:[]};var x=a("VU/8")(P,k,!1,function(t){a("P15l"),a("clVc")},null,null).exports,I=a("cTzj"),T=a.n(I),L=a("/ocq"),S=D(),q=[];S.system&&(q=S.system.split("_"));var j,O="android"===q[0],z="ios"===q[0],E=q[1]?""+q[1]:"",R={platform:(j=navigator.userAgent,{android:-1<j.indexOf("Android")||-1<j.indexOf("Linux"),iPhone:-1<j.indexOf("iPhone"),iPad:-1<j.indexOf("iPad")}),language:(navigator.browserLanguage||navigator.language).toLowerCase()},A=a("Xxa5"),$=a.n(A),U=a("exGp"),H=a.n(U),F=function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg;O||z?t&&e&&i?(O&&(E<"4.9.5"?window.fromh5data.shareCardInfoDidlog(e,n,i,t):E<"5.0.0"?window.fromh5data.shareCardInfoDidlogNoQQ(e,n,i,t):window.fromh5data.shareCardInfoDidlog(e,n,i,t,"1,2")),z&&(!function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg,a=document.querySelector('meta[name="sharetitle"]'),s=document.querySelector('meta[name="description"]'),o=document.querySelector('meta[name="shareimg"]'),r=document.querySelector('meta[name="shareurl"]');a&&s&&o&&r||console.warn("setshareinfoios 缺少标签"),t&&a&&a.setAttribute("content",t),e&&s&&s.setAttribute("content",e),n&&o&&o.setAttribute("content",n),i&&r&&r.setAttribute("content",i)}(t,e,i,n),window.location.href="pethome://share")):console.warn("sharepopup 缺少参数"):console.warn("sharepopup 不在客户端内")},N=function(){O&&window.fromh5data.login(),z&&(window.location.href="pethome://login")},M=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:config.kfnumber;"string"!=typeof t&&"number"!=typeof t&&(t=config.kfnumber),z?"4.9.4"<E&&(window.location.href="pethome://cellTel_"+t):window.location.href="tel:"+t},V=(config.kfnum,config.yqjlTitle,config.inviteShareTitle,config.inviteShareDesc,config.inviteShareImg,config.inviteShareUrl,config.kfnum),W=config.yqjlTitle,X=config.inviteShareTitle,B=config.inviteShareDesc,Q=config.inviteShareImg,G=config.inviteShareUrl,J={name:"index",data:function(){return{contentImg:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/activity/imgs/15604032604561875879.png",kfnum:V,yqjlTitle:W,swiperOption:{autoplay:{delay:2e3},loop:!0,direction:"vertical",autoHeight:!0},swiperList:[],headerData:{bg:"",btn:"",time:""},tasks:[],zjData:{money:0,userCount:0}}},created:function(){var e=this;return H()($.a.mark(function t(){return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.init_roll=function(t){t&&/^1[0-9]{10}$/.test(t)&&(e.inviteData.cellPhone=t,e.cellPhone=t,e.loadInviterPage())},e.inviteData.cellPhone&&(e.cellPhone=e.inviteData.cellPhone),e.loadInviterPage();case 3:case"end":return t.stop()}},t,e)}))()},methods:{makephonecall:M,loadInviterPage:function(){var e=this,t={};this.inviteData.system&&(t.system=this.inviteData.system),this.inviteData.imei&&(t.imei=this.inviteData.imei),this.inviteData.cellPhone&&(t.cellPhone=this.inviteData.cellPhone),this.inviteData.activityId&&(t.activityId=this.inviteData.activityId),g(t).then(function(t){e.dataFilter(t.data)}).catch(function(t){t&&t.msg&&Toast(t.msg)})},invite:function(){var n=this,t=this.inviteData.cellPhone;this.isLogin()&&y({cellPhone:t,system:this.inviteData.system,imei:this.inviteData.imei,activityId:this.inviteData.activityId}).then(function(t){var e=X(n.userName),i=G(t.data.inviteCode,n.inviteData.activityId);F(e,B,i,Q)}).catch(function(t){t.status&&Toast(t.status),t.msg&&Toast(t.msg)})},toPrize:function(){this.isLogin()&&(R.platform.android&&window.fromh5lucy.coupon(null),R.platform.iPhone&&(window.location.href="pethome://coupon_null"))},isLogin:function(){return!!this.inviteData.cellPhone||(N(),!1)},dataFilter:function(t){t.broadcastList&&t.broadcastList.length&&(this.swiperList=t.broadcastList),t.activityInfo&&(t.activityInfo.activityBgPic&&(this.headerData.bg=t.activityInfo.activityBgPic),t.activityInfo.buttonPic&&(this.headerData.btn=t.activityInfo.buttonPic),t.activityInfo.startTime&&t.activityInfo.endTime&&(this.headerData.time=(t.activityInfo.startTime.substr(0,10).replace(/-/g,".")||"")+" - "+(t.activityInfo.endTime.substr(0,10).replace(/-/g,".")||"")),t.activityInfo.activityRule&&(this.inviteData.ruleHtml=t.activityInfo.activityRule)),t.tasks&&0<t.tasks.length&&(this.tasks=t.tasks),t.userCount&&(this.zjData.userCount=t.userCount),t.money&&(this.zjData.money=t.money)}}},Y={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"index"},[n("div",{staticClass:"header"},[n("img",{attrs:{src:i.headerData.bg}}),i._v(" "),n("div",{staticClass:"header-tip"},[n("div",{staticClass:"header-tip-swiper"},[n("img",{attrs:{src:a("Ftef")}}),i._v(" "),n("div",{staticClass:"swiper-no-swiping"},[n("swiper",{attrs:{options:i.swiperOption}},i._l(i.swiperList,function(t,e){return n("swiper-slide",{key:e},[n("div",{staticClass:"header-tip-swiper-item"},[i._v(i._s(t))])])}),1)],1)]),i._v(" "),n("router-link",{staticClass:"header-tip-icon",attrs:{to:{path:"/rule",query:i.$route.query}}},[n("img",{attrs:{src:a("XmWG")}})])],1),i._v(" "),n("div",{staticClass:"header-bottom"},[n("div",{staticClass:"header-btn",on:{click:i.invite}},[n("img",{attrs:{src:i.headerData.btn}})]),i._v(" "),n("div",{staticClass:"header-time"},[i._v("\n          活动时间："),n("span",{domProps:{textContent:i._s(i.headerData.time)}})])])]),i._v(" "),n("div",{staticClass:"yqjl block"},[n("div",{staticClass:"block-title"},[i._v("邀请奖励")]),i._v(" "),n("div",{staticClass:"content-img"},[n("img",{attrs:{src:i.contentImg}})])]),i._v(" "),n("div",{staticClass:"block"},[n("div",{staticClass:"block-title"},[i._v("我的邀请战绩")]),i._v(" "),n("div",{staticClass:"zj-content"},[n("div",[n("div",{staticClass:"zj-num"},[i._v("\n            "+i._s(i.zjData.money)),n("span",[i._v("元")])]),i._v(" "),n("span",[i._v("获得奖励")])]),i._v(" "),n("div",[n("div",{staticClass:"zj-num"},[i._v("\n            "+i._s(i.zjData.userCount)),n("span",[i._v("人")])]),i._v(" "),n("span",[i._v("成功邀请")])])]),i._v(" "),n("div",{staticClass:"zj-btn",on:{click:i.toPrize}},[n("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/activity/imgs/15604036762685687328.png"}})])]),i._v(" "),i._m(0),i._v(" "),n("div",{staticClass:"kf"},[n("span",[i._v("客服电话：")]),n("span",{domProps:{textContent:i._s(i.kfnum)},on:{click:i.makephonecall}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block"},[e("div",{staticClass:"block-title"},[this._v("参与流程")]),this._v(" "),e("div",{staticClass:"lc-content"},[e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/activity/imgs/15604037040177464528.png"}})])])}]};var Z=a("VU/8")(J,Y,!1,function(t){a("Ru1U")},"data-v-64a54bde",null).exports,K=function(){O&&window.fromh5lucy.goService(16,""),z&&(window.location.href="pethome://recharge")},tt={name:"prize",data:function(){return{empty:!0,activeList:[],usedList:[]}},methods:{toRecharge:function(){this.inviteData.cellPhone?K():N()}},created:function(){var l=this;this.inviteData.cellPhone&&_({system:this.inviteData.system,imei:this.inviteData.imei,cellPhone:this.inviteData.cellPhone,activityId:this.inviteData.activityId}).then(function(t){var e=t.data.rewards||[];if(e.length){var i=!(l.empty=!1),n=!1,a=void 0;try{for(var s,o=C()(e);!(i=(s=o.next()).done);i=!0){var r=s.value,c={};c.grantTime=r.grantTime?r.grantTime:"",c.totalCost=r.totalCost?r.totalCost:"",c.reward=r.reward?JSON.parse(r.reward)[0].serialNum:"",r.grantStatus?l.usedList.push(c):l.activeList.push(c)}}catch(t){n=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw a}}}}).catch(function(t){t.status&&Toast(t.status),t.msg&&Toast(t.msg)})}},et={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"prize"},[i.empty?n("div",{staticClass:"empty"},[n("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389696677792146411.png"}}),i._v(" "),n("p",[i._v("您还没有奖励")]),i._v(" "),n("p",[i._v("邀请好友就能获得哦~")])]):n("div",{staticClass:"notempty"},[n("div",{staticClass:"content1024"},i._l(i.usedList,function(t,e){return n("div",{key:"a"+e,staticClass:"item1024"},[n("div",{staticClass:"item1024-title"},[i._v(i._s(t.grantTime))]),i._v(" "),n("div",{staticClass:"item1024-content"},[n("div",{staticClass:"item1024-left"},[n("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15404486722913362711.png"}}),i._v(" "),n("div",[i._v("\n                          ￥"),n("span",[i._v(i._s(t.totalCost))])])]),i._v(" "),i._m(0,!0)])])}),0)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item1024-right"},[i("div",[t._v("礼品卡")]),t._v(" "),i("div",[t._v("已充值到余额，请到我的余额页面查看")])])}]};var it=a("VU/8")(tt,et,!1,function(t){a("8iLB")},"data-v-4e65c6ca",null).exports,nt=(config.kfnumber,config.kfnumber),at={name:"rule",data:function(){return{kfnumber:nt,ruleHtml:this.inviteData.ruleHtml}}},st={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"rule"},[i("div",{staticClass:"yqjl block"},[i("div",{staticClass:"block-title"},[t._v("邀请奖励")]),t._v(" "),i("div",{staticClass:"yqjl-content",domProps:{innerHTML:t._s(t.ruleHtml)}})]),t._v(" "),i("div",{staticClass:"block"},[i("div",{staticClass:"block-title"},[t._v("温馨提示")]),t._v(" "),i("div",{staticClass:"wxts-content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"rule-item"},[i("p",[t._v("本活动最终解释权归宠物家所有，如有疑问，请拨打"+t._s(t.kfnumber)+"咨询")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"rule-item"},[e("p",[this._v("1、若通过不正当手段获取奖励，经查实宠物家有权撤销该用户的活动奖励，情节严重者将追究其法律责任")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"rule-item"},[e("p",[this._v("2、只有在宠物家app中发起邀请才有奖励哦")])])}]};var ot=a("VU/8")(at,st,!1,function(t){a("Pke7")},"data-v-b64c4d02",null).exports;n.default.use(L.a);var rt=new L.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:Z,meta:{index:1,title:"邀请有礼"}},{path:"/prize",name:"prize",component:it,meta:{index:2,title:"我的奖励"}},{path:"/rule",name:"rule",component:ot,meta:{index:3,title:"活动规则"}}],scrollBehavior:function(t,e,i){return i||{x:0,y:0}}});rt.afterEach(function(t){var e;t.meta.title&&(e=t.meta.title,document.title=e,z&&"4.9.999"<E&&(window.location.href="pethome://changeTitle_"+e))});var ct=rt,lt=a("TQvf"),vt=a.n(lt);window.Toast=s.a;!function(t,e){if((e=e||{}).favicon){var i=[];t.querySelector('link[rel="shortcut icon"]')&&i.push(t.querySelector('link[rel="shortcut icon"]')),t.querySelector('link[rel="icon"]')&&i.push(t.querySelector('link[rel="icon"]')),t.querySelector('link[rel="apple-touch-icon-precomposed"]')&&i.push(t.querySelector('link[rel="apple-touch-icon-precomposed"]'));var n=!0,a=!1,s=void 0;try{for(var o,r=C()(i);!(n=(o=r.next()).done);n=!0){o.value.setAttribute("href",e.favicon)}}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}}}(document,config);var ut=a("7QTg"),dt=a.n(ut);a("v2ns");n.default.use(dt.a),n.default.use(T.a),window.Toast=s.a,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".clipboard",n=new vt.a(t);new v.a(function(e,i){n.on("success",function(t){s()("复制成功"),e()}),n.on("error",function(t){s()("该浏览器不支持自动复制"),i(new Error("该浏览器不支持自动复制"))})})}();var ft=navigator.userAgent;n.default.prototype.inviteData={android:-1<ft.indexOf("Android")||-1<ft.indexOf("Linux"),ios:-1<ft.indexOf("iPhone")||-1<ft.indexOf("iPad"),cellPhone:"",ruleHtml:""},new n.default({router:ct,components:{App:x},render:function(t){return t(x)}}).$mount("#app")},P15l:function(t,e){},Pke7:function(t,e){},Ru1U:function(t,e){},UoMW:function(t,e){var i,n,a,s,o,r;i=document,n=window,a=i.documentElement,s=n.config.pageWidth,o="orientationchange"in n?"orientationchange":"resize",r=function(){var t=a.clientWidth;a.style.fontSize=0<s?(t&&t<s?t:s)/7.5+"px":t/7.5+"px"},i.addEventListener&&(n.addEventListener(o,r,!1),i.addEventListener("DOMContentLoaded",r,!1),setTimeout(function(){0===parseInt(i.defaultView.getComputedStyle(a).fontSize)&&r()},3e3))},XmWG:function(t,e,i){t.exports=i.p+"../../../static/images/201808/invite/rule-btn.png"},clVc:function(t,e){},v2ns:function(t,e){}},["IQ1c"]);
//# sourceMappingURL=app.b0b53b5e7fab01971b8e.js.map
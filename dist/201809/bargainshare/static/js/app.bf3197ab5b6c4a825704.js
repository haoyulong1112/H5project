webpackJsonp([1],{"34+y":function(t,i){},"57QP":function(t,i,a){t.exports=a.p+"../../../static/images/201809/bargainshare/toolpopup/tool.png"},"6aeu":function(t,i){},"7dEu":function(t,i){},"7nRF":function(t,i,a){t.exports=a.p+"../../../static/images/icons/dogsad.png"},BPju:function(t,i,a){t.exports=a.p+"../../../static/images/201809/bargainshare/axe.png"},DDzP:function(t,i,a){t.exports=a.p+"../../../static/images/icons/weixin.png"},G94U:function(t,i,a){t.exports=a.p+"../../../static/images/201809/bargainshare/toolpopup/bg-right.png"},GYRN:function(t,i,a){t.exports=a.p+"../../../static/images/icons/wxtimeline.png"},HHTN:function(t,i){},SLmY:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});n("6aeu");var a=n("PJK7"),e=n.n(a),o=(n("q/am"),n("4VPn")),s=n.n(o),r=(n("34+y"),n("X+yh")),c=n.n(r),l=n("/5sW"),d=n("cTzj"),p=n.n(d),u=n("BO1k"),v=n.n(u),g=n("//Fk"),h=n.n(g),m=n("pFYg"),f=n.n(m),w=n("fZjL"),b=n.n(w),k=[],_=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new h.a(function(i,a){var e=t.url;if(!t.concurrent){if(e=e.split("?")[0],-1!==k.indexOf(e))return void a(new Error("请求并发 "+e));k.push(e)}(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=t.type?t.type.toUpperCase():"POST",s=t.url||"",r=t.contentType||"application/x-www-form-urlencoded",c=t.data||{},l=!1!==t.async;return new h.a(function(i,a){var e={};e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var n="";b()(c).forEach(function(t){n+=t+"="+c[t]+"&"}),n=n.substr(0,n.lastIndexOf("&")),"GET"==o?(s=n?s+"?"+n:s,e.open(o,s,l),e.setRequestHeader("Content-type",r),e.send()):"POST"==o?(e.open(o,s,l),e.setRequestHeader("Content-type",r),e.send(n)):a(new Error("不支持的type")),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var t=e.response;"object"!==(void 0===t?"undefined":f()(t))&&(t=JSON.parse(t)),i(t)}else a(e)}})})(t).then(function(t){0===t.code?i(t):a(t)}).catch(function(t){a(t)}).finally(function(){var t=k.indexOf(e);-1!==t&&k.splice(t,1)})})},y=envConfig.requestDomain,C=function(t){return _({url:y+"/pet-api/bargain/loadShareCopy",data:t})},T=function(t){return _({url:y+"/pet-api/bargain/addShareNum",data:t})},I=function(t){return _({url:y+"/pet-api/bargain/loadBargainUserTask",data:t})},x=function(t){return _({url:y+"/pet-api/bargain/newBargainUserTask",data:t})},P=function(t){return _({url:y+"/pet-api/bargain/bargain",data:t})},S=envConfig.requestDomain,L=(envConfig.manageDomain,function(t){return _({url:S+"/pet-api/wx/ticket",data:{code:t}})}),D=function(t,i){return _({url:S+"/pet-api/wx/info",data:{accessToken:i,openId:t}})},A=function(t){return _({url:S+"/pet-api/logcount/addActivityLog",data:t})},U=function(t){return _({url:S+"/pet-api/mall/commodity/recommendedForYou",data:t})},B=(envConfig.requestDomain,envConfig.requestDomain),N=function(t){return _({url:B+"/pet-api/activity/invite/getUserInviteCode",data:t})},q=(envConfig.requestDomain,Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),R={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("transition",{attrs:{name:t.transition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[a("div",{staticClass:"weui-mask_transparent"}),t._v(" "),a("div",{staticClass:"weui-toast",style:{position:t.position}},[a("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?a("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2):t._e()])])])},staticRenderFns:[]};var M=n("VU/8")(q,R,!1,function(t){n("HHTN")},null,null).exports;l.default.component(s.a.name,s.a);String;l.default.component(s.a.name,s.a);var j={name:"rule",props:{text:{type:String,default:""},value:{default:!1}},watch:{showPopup:function(t){this.$emit("input",t)},value:function(t){this.showPopup=t}},data:function(){return{showPopup:!1}}},O={render:function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("mt-popup",{attrs:{zIndex:"990"},model:{value:i.showPopup,callback:function(t){i.showPopup=t},expression:"showPopup"}},[a("div",{staticClass:"rule-popup"},[a("div",{staticClass:"rule-btn",on:{click:function(t){i.showPopup=!1}}},[a("img",{attrs:{src:n("YRwD")}})]),i._v(" "),a("div",{staticClass:"rule-content"},[a("div",{staticClass:"rule-title"},[a("div",[i._v("活动规则")])]),i._v(" "),a("div",{staticClass:"rule-text",domProps:{innerHTML:i._s(i.text)}})])])])},staticRenderFns:[]};var z=n("VU/8")(j,O,!1,function(t){n("bGua")},null,null).exports,E=function(){var t=window.location.href.split("?"),i={};if(1<t.length){var a=t[1],e=-1!==a.indexOf("%23/")?a.indexOf("%23/"):a.indexOf("#/");-1!==e&&(a=a.substr(0,e));var n=!0,o=!1,s=void 0;try{for(var r,c=v()(a.split("&"));!(n=(r=c.next()).done);n=!0){var l=r.value.split("=");l[0]&&(i[l[0]]=l[1]||"")}}catch(t){o=!0,s=t}finally{try{!n&&c.return&&c.return()}finally{if(o)throw s}}}return i},F=navigator.userAgent,G={android:-1<F.indexOf("Android")||-1<F.indexOf("Linux"),ios:-1<F.indexOf("iPhone")||-1<F.indexOf("iPad"),iphone:-1<F.indexOf("iPhone"),weixin:-1<F.toLowerCase().indexOf("micromessenger")},Y=E(),H=[];Y.system&&(H=Y.system.split("_"));var W,Q="android"===H[0],$="ios"===H[0],V=H[1]?""+H[1]:"",X=(W=navigator.userAgent,-1<W.indexOf("Android")||W.indexOf("Linux"),W.indexOf("iPhone"),W.indexOf("iPad"),(navigator.browserLanguage||navigator.language).toLowerCase(),function(t){Q&&window.fromh5lucy.goService(20,t),$&&(window.location.href="pethome://goGoodsDetail_"+t)}),J=function(t,i,a){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg,n=document.querySelector('meta[name="sharetitle"]'),o=document.querySelector('meta[name="description"]'),s=document.querySelector('meta[name="shareimg"]'),r=document.querySelector('meta[name="shareurl"]');n&&o&&s&&r||console.warn("setshareinfoios 缺少标签"),t&&n&&n.setAttribute("content",t),i&&o&&o.setAttribute("content",i),e&&s&&s.setAttribute("content",e),a&&r&&r.setAttribute("content",a)},Z=function(t,i,a){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg;Q||$?t&&i&&a?(Q&&(V<"4.9.5"?window.fromh5data.shareCardInfoDidlog(i,e,a,t):V<"5.0.0"?window.fromh5data.shareCardInfoDidlogNoQQ(i,e,a,t):window.fromh5data.shareCardInfoDidlog(t,e,a,i,"1,2")),$&&(J(t,i,a,e),window.location.href="pethome://share")):console.warn("sharepopup 缺少参数"):console.warn("sharepopup 不在客户端内")},K=function(t,i,a,e){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:config.shareImg;Q||$?t&&i&&a&&e?"4.9.6"<V?(Q&&window.fromh5data.goShareCardInfo(i,n,e,a,t),$&&(J(i,a,e,n),window.location.href="pethome://goShareCardInfo_"+t)):Z(i,a,e,n):console.warn("openshare 缺少参数"):console.warn("openshare 不在客户端内")},tt=function(){Q&&window.fromh5lucy.coupon("1"),$&&(window.location.href="pethome://coupon")},it=n("fxnj"),at=n.n(it),et=n("Xxa5"),nt=n.n(et),ot=n("exGp"),st=n.n(ot),rt=this,ct=function(n,t){return new h.a(function(i,a){var c,e;(t=t||{}).jsApiList=t.jsApiList||["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],(n=n||{}).link=n.link||window.location.href,n.imgUrl=n.imgUrl||config.shareImg,console.log("wxshare"),(c=t,new h.a((e=st()(nt.a.mark(function t(a,e){var n,o,s,r;return nt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("wxconfig",G),G.weixin){t.next=4;break}return e(new Error("wxconfig 非微信浏览器")),t.abrupt("return");case 4:if(n=(c=c||{}).url||location.href,o=c.signData,s=config.wxShareDebug,o){t.next=13;break}return t.next=11,(i=n,_({url:S+"/pet-api/wx/sign",data:{url:encodeURIComponent(i)},type:"get"})).catch(function(t){e(new Error("sign error "+(t.code||"")+" "+(t.msg||"")))});case 11:r=t.sent,o={appId:r.data.appId,timestamp:r.data.timestamp,nonceStr:r.data.nonceStr,signature:r.data.signature};case 13:o.debug=!0===s,o.jsApiList=c.jsApiList,console.log(o),at.a.config(o),at.a.ready(function(t){console.log("ready"),console.log(t),a(o)}),at.a.error(function(t){console.log("error"),console.log(t),e(t)});case 19:case"end":return t.stop()}var i},t,rt)})),function(t,i){return e.apply(this,arguments)}))).then(function(t){at.a.onMenuShareTimeline(n),at.a.onMenuShareAppMessage(n),at.a.onMenuShareQQ(n),at.a.onMenuShareWeibo(n),at.a.onMenuShareQZone(n),i(t)}).catch(function(t){a(t)})})},lt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.href,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"snsapi_userinfo",a="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+envConfig.shareAppid+"&redirect_uri="+escape(t)+"&response_type=code&scope="+i+"&state=STATE#wechat_redirect";window.location.href=a},dt=(config.downloadApp,config.userAvatar,config.toolAvatar,config.shareDesc,config.bargainShareUrl,config.bargainUrl,config.refresh,config.inviteUrl,config.inviteShareUrl,config.invitePicApp,config.invitePicWeixin,config.inviteActivityId,config.inviteCellPhone,config.inviteSystem,config.inviteImei,E());dt.cellPhone=dt.cellPhone||"",dt.system=dt.system||"",dt.imei=dt.imei||"";var pt=config.downloadApp,ut=config.userAvatar,vt=config.toolAvatar,gt=config.shareDesc,ht=config.bargainShareUrl,mt=config.bargainUrl,ft=config.refresh,wt=config.inviteUrl,bt=config.inviteShareUrl,kt=config.invitePicApp,_t=config.invitePicWeixin,yt=config.inviteActivityId,Ct=config.inviteCellPhone,Tt=config.inviteSystem,It=config.inviteImei,xt=G.weixin,Pt=E();Pt.cellPhone=Pt.cellPhone||"",Pt.system=Pt.system||"",Pt.imei=Pt.imei||"";var St={name:"index",data:function(){return{invitePicApp:kt,invitePicWeixin:_t,weixin:xt,loading:xt,openid:"",nickname:"",headimgurl:"",shareTitle:"",cutMoney:"",bargainedTip:"",page:1,disable:!1,scrollLock:!1,fetchLock:!1,userAvatar:ut,btnState:"",loadBargainUserTaskCount:0,showRule:!1,showToolConfirm:!1,showToolBargainSuccess:!1,showBargainSuccess:!1,showShareGuide:!1,showUpperLimitTip:!1,countdown:0,countDownTip:"",todayBargainNum:0,bargainPrice:0,activityInfo:{activityRule:""},userData:{avatar:"",name:"",tip:""},taskInfo:{pic:"",price:"",quota:"",name:""},bargainTask:{isProp:0,completeProportion:0,state:"",completePrice:0,noCompletePrice:0,infoScheduleTip:"",infoTipText:""},bargainTaskId:Pt.bargainTaskId||"",prop:{id:"",name:"宝刀",state:0},bargainLogs:[],recommandedData:[],petId:"",serviceId:"",loadSuccess:!1,rightWeixincode:!1}},beforeCreate:function(){Pt.cellPhone||(Toast("url不正确"),setTimeout(pt,1e3))},created:function(){var a=this;if(xt){var t=this.getFullUrl(ht),i=Pt.code;i?L(i).then(function(t){return t.data.openid&&(a.openid=t.data.openid,a.rightWeixincode=!0,a.loadBargainUserTask(function(){a.loading=!1,a.loadShareCopy(function(t){ct({title:t,desc:gt,link:a.getFullUrl(ht),imgUrl:a.taskInfo.pic,success:function(t){T({cellPhone:Pt.cellPhone,system:Pt.system,imei:Pt.imei,activityId:Pt.activityId,taskId:Pt.taskId,bargainTaskId:a.bargainTaskId,openId:a.openid})}})})}),a.addActivityLog()),D(t.data.openid,t.data.access_token)}).then(function(t){t.data.nickname&&(a.nickname=t.data.nickname),t.data.headimgurl&&(a.headimgurl=t.data.headimgurl)}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)}).finally(function(){a.rightWeixincode||lt(t)}):lt(t)}else this.loadBargainUserTask(function(){a.loadShareCopy()}),this.addActivityLog();this.recommendedForYou(),window.addEventListener("scroll",function(){a.disable||a.scrollLock||(a.scrollLock=!0,setTimeout(function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=document.body.clientHeight;if(document.body.scrollHeight-50<t+i){if(a.fetchLock)return;a.fetchLock=!0,a.page++,a.recommendedForYou()}a.scrollLock=!1},200))})},methods:{goInvitePage:function(){xt?N({cellPhone:Ct,system:Tt,imei:It,activityId:yt}).then(function(t){window.location.href=bt+"?cellPhone="+Ct+"&system="+Tt+"&imei="+It+"&activityId="+yt+"&inviteCode201806="+t.data.inviteCode+"&t="+config.refresh}).catch(function(t){t.status&&Toast(t.status)}):window.location.href=wt+"?cellPhone="+Pt.cellPhone+"&system="+Pt.system+"&imei="+Pt.imei+"&activityId="+yt+"&t="+config.refresh},addActivityLog:function(){A({cellPhone:Pt.cellPhone,system:Pt.system,imei:Pt.imei,type:2,activityInfoId:Pt.activityId,shareActivityId:Pt.taskId,taskId:0,pageType:3})},loadBargainUserTask:function(i){var a=this;this.loadBargainUserTaskCount++;var t={cellPhone:Pt.cellPhone,imei:Pt.imei,system:Pt.system,activityId:Pt.activityId,taskId:Pt.taskId};xt&&(t.openId=this.openid),this.bargainTaskId&&(t.bargainTaskId=this.bargainTaskId),I(t).then(function(t){a.filterDetail(t.data),a.setStateTip(),a.setBtnState(),i&&i(),a.loadSuccess=!0}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},recommendedForYou:function(){var r=this;U({cellPhone:Pt.cellPhone,imei:Pt.imei,system:Pt.system,type:0,page:this.page}).then(function(t){if(t.data&&t.data.commodityList){var i=!0,a=!1,e=void 0;try{for(var n,o=v()(t.data.commodityList);!(i=(n=o.next()).done);i=!0){var s=n.value;r.recommandedData.push(s)}}catch(t){a=!0,e=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw e}}}t.data&&t.data.commodityList&&t.data.commodityList.length||(r.disable=!0)}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)}).finally(function(){r.fetchLock=!1})},loadShareCopy:function(i){var a=this;this.shareTitle?i&&i(this.shareTitle):C({petId:this.petId,serviceId:this.serviceId}).then(function(t){if(!t.data)throw new Error("缺少分享文案");a.shareTitle=t.data,i&&i(t.data)}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},bargain:function(i){var a=this;this.showToolConfirm=!1;var t={cellPhone:Pt.cellPhone,imei:Pt.imei,system:Pt.system,activityId:Pt.activityId,taskId:Pt.taskId,propId:i||0,source:Pt.source||0};this.openid&&(t.openId=this.openid,t.nickName=this.nickname,t.pic=this.headimgurl),P(t).then(function(t){t.data&&(t.data.price&&(a.cutMoney=t.data.price),i?a.showToolBargainSuccess=!0:a.showBargainSuccess=!0,t.data.bargainTask&&t.data.bargainTask.id&&(a.bargainTaskId=t.data.bargainTask.id),a.loadBargainUserTask())}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},inviteBtnClick:function(i){var a=this;this.bargainTask.state||this.bargainTaskId?i?this.openshare(i):this.loadShareCopy(function(t){Z(t,gt,a.getFullUrl(ht),a.taskInfo.pic)}):x({cellPhone:Pt.cellPhone,imei:Pt.imei,system:Pt.system,activityId:Pt.activityId||"",taskId:Pt.taskId||"",source:Pt.source||0}).then(function(t){t.data&&t.data.id&&(a.bargainTaskId=t.data.id,i?a.openshare(i):a.loadShareCopy(function(t){Z(t,gt,a.getFullUrl(ht),a.taskInfo.pic)})),a.loadBargainUserTask()}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},onceAgainClick:function(){window.location.href=this.getFullUrl(mt)},filterDetail:function(t){if((t=t||{}).activityInfo&&t.activityInfo.activityRule&&(this.activityInfo.activityRule=t.activityInfo.activityRule),t.user&&(t.user.avatar&&(this.userData.avatar=t.user.avatar),t.user.userName&&(this.userData.name=t.user.userName)),t.avatarCopy&&(this.userData.tip=t.avatarCopy),t.taskInfo&&(t.taskInfo.name&&(this.taskInfo.name=t.taskInfo.name),t.taskInfo.pic&&(this.taskInfo.pic=t.taskInfo.pic),t.taskInfo.price&&(this.taskInfo.price=t.taskInfo.price,this.bargainTask.noCompletePrice=this.taskInfo.price),t.taskInfo.extendParam&&void 0!==t.taskInfo.extendParam.surplusQuota&&(this.taskInfo.quota=t.taskInfo.extendParam.surplusQuota),t.taskInfo.taskContent)){var i=JSON.parse(t.taskInfo.taskContent);i.petId&&(this.petId=i.petId),i.serviceId&&(this.serviceId=i.serviceId)}if(t.bargainTask&&(t.bargainTask.isProp&&(this.bargainTask.isProp=t.bargainTask.isProp),t.bargainTask.completeProportion&&(this.bargainTask.completeProportion=100*t.bargainTask.completeProportion),t.bargainTask.state&&(this.bargainTask.state=t.bargainTask.state),t.bargainTask.completePrice&&(this.bargainTask.completePrice=t.bargainTask.completePrice,this.taskInfo.price))){var a=this.taskInfo.price-t.bargainTask.completePrice;this.bargainTask.noCompletePrice=parseInt(100*a)/100}if(t.prop&&(t.prop.id&&(this.prop.id=t.prop.id),t.prop.name&&(this.prop.name=t.prop.name),t.prop.state&&(this.prop.state=t.prop.state)),t.todayBargainNum&&(this.todayBargainNum=t.todayBargainNum),t.isBargained&&t.isBargained.bargainPrice&&(this.bargainPrice=t.isBargained.bargainPrice),t.countdown&&(this.countdown=t.countdown,this.countDownLoop()),t.bargainLogs){var e=t.bargainLogs,n=[],o=!0,s=!1,r=void 0;try{for(var c,l=v()(e);!(o=(c=l.next()).done);o=!0){var d=c.value;n.push({avatar:0==d.bargaiType?d.wxPic:vt,nickname:d.wxNickName,price:d.bargainPrice})}}catch(t){s=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(s)throw r}}this.bargainLogs=n}},setStateTip:function(){var t=this.bargainTask.state,i="快邀请好友帮忙砍价吧~",a="",e="",n='<span class="grey">已砍'+this.bargainTask.completePrice+"元，还差"+this.bargainTask.noCompletePrice+"元</span>";1==t?(this.bargainTask.completeProportion&&(i='已砍<span class="red">'+this.bargainTask.completePrice+'</span>元，还差<span class="red">'+this.bargainTask.noCompletePrice+"</span>元"),this.bargainPrice&&(e="成功帮砍<span>"+this.bargainPrice+"</span>元")):2==t?i="免单成功":3==t?(i=n,a="未在活动期间内完成，已过期"):4==t?(i=n,a="未在24小时内完成，已过期"):5==t&&(i=n,a="小伙伴很厉害，名额已抢光~"),this.bargainTask.infoScheduleTip=i,this.bargainTask.infoTipText=a,this.bargainedTip=e},setBtnState:function(){var t=this.bargainTask.state,i=this.btnState;xt?1==t?3==this.todayBargainNum?(i=6,1===this.loadBargainUserTaskCount&&(this.showUpperLimitTip=!0)):i=this.bargainPrice?6:5:i=7:""==t||1==t?this.prop.id&&0===this.bargainTask.isProp?(i=2,1===this.loadBargainUserTaskCount&&(this.showToolConfirm=!0)):i=1:2==t?i=3:3!=t&&4!=t&&5!=t||(i=4),this.btnState=i},getFullUrl:function(t){if(t){var i=Pt.cellPhone||"",a=Pt.imei||"",e=Pt.system||"",n=Pt.activityId||"",o=Pt.selectedPetId||"",s=Pt.selectedPetName||"",r=Pt.vconsole||"";return t+"?cellPhone="+i+"&imei="+a+"&system="+e+"&activityId="+n+"&taskId="+(Pt.taskId||"")+"&selectedPetId="+o+"&selectedPetName="+s+"&bargainTaskId="+(this.bargainTaskId||"")+"&vconsole="+r+"&t="+ft}},openshare:function(i){var a=this;this.loadShareCopy(function(t){K(i,t,gt,a.getFullUrl(ht),a.taskInfo.pic)})},countDownLoop:function(){var t=this;1e3<this.countdown&&1==this.bargainTask.state?setTimeout(function(){t.countdown-=1e3,t.countDownLoop()},1e3):(this.countdown=0,this.loadBargainUserTask());for(var i=[parseInt(this.countdown/1e3/60/60),parseInt(this.countdown/1e3/60%60),parseInt(this.countdown/1e3%60)],a=0,e=i.length;a<e;++a)i[a]=9<i[a]?""+i[a]:"0"+i[a];var n=i[0],o=i[1],s=i[2];this.countDownTip=this.countdown?"<span>"+n+"</span>&nbsp;:&nbsp;<span>"+o+"</span>&nbsp;:&nbsp;<span>"+s+"</span>后过期，加速砍起来~":""},tocoupon:tt,togoodsdetail:X,downloadApp:pt},components:{rule:z,Loading:M}},Lt={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container"},[e("loading",{attrs:{show:a.loading}}),a._v(" "),a.loading?a._e():e("div",{staticClass:"index"},[e("div",{staticClass:"rule",on:{click:function(t){a.showRule=!0}}},[e("span",[a._v("活动规则")])]),a._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:a.loadSuccess,expression:"loadSuccess"}]},[a._m(0),a._v(" "),e("div",{staticClass:"content-middle"},[e("div",{staticClass:"content"},[e("div",{staticClass:"info"},[e("div",{staticClass:"info-user"},[e("div",[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:a.userData.avatar,error:a.userAvatar},expression:"{src: userData.avatar, error: userAvatar}"}]})]),a._v(" "),e("div",[e("div",{domProps:{textContent:a._s(a.userData.name)}}),a._v(" "),e("div",{domProps:{textContent:a._s(a.userData.tip)}})])]),a._v(" "),e("div",{staticClass:"info-task"},[e("div",[e("img",{attrs:{src:a.taskInfo.pic}})]),a._v(" "),e("div",{staticClass:"task-text"},[e("div",{staticStyle:{"-webkit-box-orient":"vertical"},domProps:{textContent:a._s(a.taskInfo.name)}}),a._v(" "),e("div",[e("div",{staticClass:"task-price"},[a._v("\n                                        ￥"),e("span",{staticClass:"font-bold",domProps:{textContent:a._s(a.taskInfo.price)}})]),a._v(" "),e("div",{staticClass:"task-count"},[a._v(a._s(a.taskInfo.quota?"剩余免单名额："+a.taskInfo.quota:"名额已抢光"))])])])]),a._v(" "),e("div",{staticClass:"info-schedule"},[e("div",{staticClass:"info-bargained-tip",domProps:{innerHTML:a._s(a.bargainedTip)}}),a._v(" "),e("div",{staticClass:"info-schedule-tip",class:{small:a.bargainedTip}},[2==a.bargainTask.state?e("img",{attrs:{src:n("XDnT")}}):a._e(),a._v(" "),e("div",{domProps:{innerHTML:a._s(a.bargainTask.infoScheduleTip)}})]),a._v(" "),e("mt-progress",{attrs:{value:a.bargainTask.completeProportion}})],1),a._v(" "),a.countDownTip||a.bargainTask.infoTipText?e("div",{staticClass:"info-tip"},[e("div",{staticClass:"info-tip-text"},[a.countDownTip?e("div",{staticClass:"global-countdown",domProps:{innerHTML:a._s(a.countDownTip)}}):e("div",{domProps:{innerHTML:a._s(a.bargainTask.infoTipText)}})])]):a._e(),a._v(" "),e("div",{staticClass:"info-btn"},[1==a.btnState?e("div",{staticClass:"global-btn",on:{click:function(t){a.inviteBtnClick()}}},[a._v("邀请好友，帮砍一刀")]):a._e(),a._v(" "),2==a.btnState?e("div",{staticClass:"global-btn highlight w290",on:{click:function(t){a.bargain(a.prop.id)}}},[a._v("用宝刀砍一刀")]):a._e(),a._v(" "),2==a.btnState?e("div",{staticClass:"global-btn w310",on:{click:function(t){a.inviteBtnClick()}}},[a._v("邀请好友帮砍")]):a._e(),a._v(" "),3==a.btnState?e("div",{staticClass:"global-btn highlight",on:{click:a.tocoupon}},[a._v("查看免单券")]):a._e(),a._v(" "),3==a.btnState?e("div",{staticClass:"global-btn w290",on:{click:a.onceAgainClick}},[a._v("再免一单")]):a._e(),a._v(" "),4==a.btnState?e("div",{staticClass:"global-btn",on:{click:a.onceAgainClick}},[a._v("再免一单")]):a._e(),a._v(" "),5==a.btnState?e("div",{staticClass:"global-btn",on:{click:function(t){a.bargain()}}},[a._v("帮好友砍一刀")]):a._e(),a._v(" "),6==a.btnState?e("div",{staticClass:"global-btn highlight",on:{click:function(t){a.showShareGuide=!0}}},[a._v("邀请好友帮TA")]):a._e(),a._v(" "),6==a.btnState?e("div",{staticClass:"global-btn w290",on:{click:a.downloadApp}},[a._v("我也要免费拿")]):a._e(),a._v(" "),7==a.btnState?e("div",{staticClass:"global-btn",on:{click:a.downloadApp}},[a._v("我也要免费拿")]):a._e()])]),a._v(" "),e("div",{staticClass:"invite",on:{click:a.goInvitePage}},[a.weixin?e("img",{attrs:{src:a.invitePicWeixin}}):e("img",{attrs:{src:a.invitePicApp}})]),a._v(" "),a.bargainLogs.length?e("div",{staticClass:"record"},[e("div",{staticClass:"global-title"},[a._v("砍价记录")]),a._v(" "),e("div",{staticClass:"record-list"},a._l(a.bargainLogs,function(t,i){return e("div",{key:"a"+i,staticClass:"record-item"},[e("div",{staticClass:"record-title"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.avatar,error:a.userAvatar},expression:"{src: item.avatar, error: userAvatar}"}],key:""+t.nickname+t.avatar}),a._v(" "),e("span",{domProps:{textContent:a._s(t.nickname||"匿名")}})]),a._v(" "),e("div",{staticClass:"record-money"},[e("img",{attrs:{src:n("BPju")}}),a._v(" "),e("div",[a._v("砍掉"+a._s(t.price)+"元")])])])}))]):a._e()])]),a._v(" "),a._m(1)]),a._v(" "),a.recommandedData.length?e("div",{staticClass:"recommanded"},[e("div",{staticClass:"global-title"},[a._v("为 \\ 您 \\ 推 \\ 荐")]),a._v(" "),e("div",{staticClass:"recommanded-list"},a._l(a.recommandedData,function(i,t){return e("div",{key:"b"+t,staticClass:"recommanded-item",on:{click:function(t){a.weixin?a.downloadApp():a.togoodsdetail(i.id)}}},[e("div",[e("div",{staticClass:"recommanded-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.thumbnail,expression:"item.thumbnail"}],key:i.thumbnail})]),a._v(" "),e("div",{staticClass:"recommanded-title",staticStyle:{"-webkit-box-orient":"vertical"}},[e("span",{domProps:{textContent:a._s(i.title)}})]),a._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:i.vipCanNum,expression:"item.vipCanNum"}],staticClass:"recommanded-tag"},[e("span",[a._v("赠送"+a._s(i.vipCanNum)+"个罐头币")])]),a._v(" "),e("div",{staticClass:"recommanded-price"},[e("div",[a._v("￥"),e("span",[a._v(a._s(i.retailPrice))])]),a._v(" "),e("div",[a._v("￥"+a._s(i.marketValue))])])])])}))]):a._e()]),a._v(" "),e("rule",{attrs:{text:a.activityInfo.activityRule},model:{value:a.showRule,callback:function(t){a.showRule=t},expression:"showRule"}}),a._v(" "),e("mt-popup",{attrs:{zIndex:"990"},model:{value:a.showToolConfirm,callback:function(t){a.showToolConfirm=t},expression:"showToolConfirm"}},[e("div",[e("div",{staticClass:"popup-clearbtn"},[e("img",{attrs:{src:n("YRwD")},on:{click:function(t){a.showToolConfirm=!1}}})]),a._v(" "),e("div",{staticClass:"tool-popup"},[e("img",{staticClass:"tool-title",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389705133794812669.png"}}),a._v(" "),e("img",{staticClass:"tool-bg",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389703744826393859.png"}}),a._v(" "),e("img",{staticClass:"tool-bg-left",attrs:{src:n("am3p")}}),a._v(" "),e("img",{staticClass:"tool-bg-right",attrs:{src:n("G94U")}}),a._v(" "),e("div",{staticClass:"tool-content"},[e("div",{staticClass:"tool-tip"},[e("div",[a._v("获得宝刀砍价权利")]),a._v(" "),e("img",{attrs:{src:n("57QP")}})]),a._v(" "),e("div",{staticClass:"tool-btn",on:{click:function(t){a.bargain(a.prop.id)}}},[e("div",{staticClass:"global-btn w433"},[a._v("使用宝刀再砍一刀")])]),a._v(" "),e("div",{staticClass:"tool-share"},[e("div",{staticClass:"tool-share-title"},[a._v("快分享给好友帮忙砍价吧")]),a._v(" "),e("div",{staticClass:"tool-weixin-btns"},[e("div",{on:{click:function(t){a.inviteBtnClick(1)}}},[e("img",{attrs:{src:n("DDzP")}}),a._v(" "),e("div",[a._v("微信")])]),a._v(" "),e("div",{on:{click:function(t){a.inviteBtnClick(2)}}},[e("img",{attrs:{src:n("GYRN")}}),a._v(" "),e("div",[a._v("朋友圈")])])])])])])])]),a._v(" "),e("mt-popup",{attrs:{zIndex:"990"},model:{value:a.showToolBargainSuccess,callback:function(t){a.showToolBargainSuccess=t},expression:"showToolBargainSuccess"}},[e("div",[e("div",{staticClass:"popup-clearbtn"},[e("img",{attrs:{src:n("YRwD")},on:{click:function(t){a.showToolBargainSuccess=!1}}})]),a._v(" "),e("div",{staticClass:"tool-popup"},[e("img",{staticClass:"tool-title",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389705133794812669.png"}}),a._v(" "),e("img",{staticClass:"tool-bg",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389703744826393859.png"}}),a._v(" "),e("img",{staticClass:"tool-bg-left",attrs:{src:n("am3p")}}),a._v(" "),e("img",{staticClass:"tool-bg-right",attrs:{src:n("G94U")}}),a._v(" "),e("div",{staticClass:"tool-content"},[e("div",{staticClass:"tool-tip"},[e("div",[a._v("使用宝刀成功砍了"),e("span",[a._v(a._s(a.cutMoney))]),a._v("元")]),a._v(" "),e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389704590506522240.png"}})]),a._v(" "),e("div",{staticClass:"tool-share"},[e("div",{staticClass:"tool-share-title"},[a._v("快分享给好友帮忙砍价吧")]),a._v(" "),e("div",{staticClass:"tool-weixin-btns"},[e("div",{on:{click:function(t){a.openshare(1)}}},[e("img",{attrs:{src:n("DDzP")}}),a._v(" "),e("div",[a._v("微信")])]),a._v(" "),e("div",{on:{click:function(t){a.openshare(2)}}},[e("img",{attrs:{src:n("GYRN")}}),a._v(" "),e("div",[a._v("朋友圈")])])])])])])])]),a._v(" "),e("mt-popup",{attrs:{zIndex:"990"},model:{value:a.showBargainSuccess,callback:function(t){a.showBargainSuccess=t},expression:"showBargainSuccess"}},[e("div",[e("div",{staticClass:"popup-clearbtn"},[e("img",{attrs:{src:n("YRwD")},on:{click:function(t){a.showBargainSuccess=!1}}})]),a._v(" "),e("div",{staticClass:"tool-popup"},[e("img",{staticClass:"tool-title",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389704803567216922.png"}}),a._v(" "),e("img",{staticClass:"tool-bg",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389703744826393859.png"}}),a._v(" "),e("img",{staticClass:"tool-bg-left",attrs:{src:n("am3p")}}),a._v(" "),e("img",{staticClass:"tool-bg-right",attrs:{src:n("G94U")}}),a._v(" "),e("div",{staticClass:"tool-content"},[e("div",{staticClass:"tool-tip"},[e("div",[a._v("成功帮我砍掉"),e("span",[a._v(a._s(a.cutMoney))]),a._v("元")]),a._v(" "),e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389704245669182738.png"}})]),a._v(" "),e("div",{staticClass:"tool-btn",on:{click:a.downloadApp}},[e("div",{staticClass:"global-btn w433"},[a._v("我也要免费拿")])])])])])]),a._v(" "),e("mt-popup",{attrs:{zIndex:"990"},model:{value:a.showUpperLimitTip,callback:function(t){a.showUpperLimitTip=t},expression:"showUpperLimitTip"}},[e("div",[e("div",{staticClass:"popup-clearbtn",on:{click:function(t){a.showUpperLimitTip=!1}}},[e("img",{attrs:{src:n("YRwD")}})]),a._v(" "),e("div",{staticClass:"popuptip-popup"},[e("div",{staticClass:"popuptip-title"},[e("img",{attrs:{src:n("7nRF")}}),a._v(" "),e("div",[a._v("今日砍价次数已达上限~")])]),a._v(" "),e("div",{staticClass:"popuptip-btn",on:{click:a.downloadApp}},[e("div",{staticClass:"global-btn w433"},[a._v("我也要免费拿")])])])])]),a._v(" "),e("mt-popup",{attrs:{position:"top",popupTransition:"popup-fade",zIndex:"990"},model:{value:a.showShareGuide,callback:function(t){a.showShareGuide=t},expression:"showShareGuide"}},[e("div",{staticClass:"share-popup"},[e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389703131309274818.png"}})])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"content-top"},[i("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389659996395866330.png"}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"content-bottom"},[i("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15389660685879143310.png"}})])}]};var Dt,At=n("VU/8")(St,Lt,!1,function(t){n("7dEu")},null,null).exports;n("UoMW");!function(t,i){if((i=i||{}).favicon){var a=[];t.querySelector('link[rel="shortcut icon"]')&&a.push(t.querySelector('link[rel="shortcut icon"]')),t.querySelector('link[rel="icon"]')&&a.push(t.querySelector('link[rel="icon"]')),t.querySelector('link[rel="apple-touch-icon-precomposed"]')&&a.push(t.querySelector('link[rel="apple-touch-icon-precomposed"]'));var e=!0,n=!1,o=void 0;try{for(var s,r=v()(a);!(e=(s=r.next()).done);e=!0){s.value.setAttribute("href",i.favicon)}}catch(t){n=!0,o=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw o}}}}(document,config),Dt=document,console.log(E()),E().vconsole&&Dt.write('<script src="https://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/3.0.0/vconsole.min.js"><\/script><script>new VConsole();console.log(location.href)<\/script>'),l.default.use(p.a),window.Toast=c.a,l.default.component(s.a.name,s.a),l.default.component(e.a.name,e.a),new l.default({components:{index:At},render:function(t){return t(At)}}).$mount("#app")},UoMW:function(t,i){var a,e,n,o,s,r;a=document,e=window,n=a.documentElement,o=e.config.pageWidth,s="orientationchange"in e?"orientationchange":"resize",r=function(){var t=n.clientWidth;n.style.fontSize=0<o?(t&&t<o?t:o)/7.5+"px":t/7.5+"px"},a.addEventListener&&(e.addEventListener(s,r,!1),a.addEventListener("DOMContentLoaded",r,!1),setTimeout(function(){0===parseInt(a.defaultView.getComputedStyle(n).fontSize)&&r()},3e3))},XDnT:function(t,i,a){t.exports=a.p+"../../../static/images/201809/bargainshare/goldcoin.png"},YRwD:function(t,i,a){t.exports=a.p+"../../../static/images/icons/clear.png"},am3p:function(t,i,a){t.exports=a.p+"../../../static/images/201809/bargainshare/toolpopup/bg-left.png"},bGua:function(t,i){},"q/am":function(t,i){}},["SLmY"]);
//# sourceMappingURL=app.bf3197ab5b6c4a825704.js.map
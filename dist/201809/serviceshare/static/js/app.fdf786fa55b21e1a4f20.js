webpackJsonp([1],{"34+y":function(e,t){},"3C+r":function(e,t){e.exports={star:"src-components-201809--star-Y48iJ_0"}},"Bg+g":function(e,t){e.exports={"comment-comp":"src-components-201809--comment-3QNeo_0",commentComp:"src-components-201809--comment-3QNeo_0",item:"src-components-201809--comment-3XQ0G_0",info:"src-components-201809--comment-9sm8P_0",avatar:"src-components-201809--comment-oOvxd_0",name:"src-components-201809--comment-3u3kC_0",content:"src-components-201809--comment-3jMZA_0",tip:"src-components-201809--comment-1D2uU_0",imgList:"src-components-201809--comment-1bgYZ_0"}},FO3f:function(e,t){},KKqZ:function(e,t,n){e.exports=n.p+"../../../static/images/icons/star.png"},QCzp:function(e,t,n){e.exports=n.p+"../../../static/images/icons/vip.png"},UoMW:function(e,t){var n,i,o,a,r,s;n=document,i=window,o=n.documentElement,a=i.config.pageWidth,r="orientationchange"in i?"orientationchange":"resize",s=function(){var e=o.clientWidth;o.style.fontSize=0<a?(e&&e<a?e:a)/7.5+"px":e/7.5+"px"},n.addEventListener&&(i.addEventListener(r,s,!1),n.addEventListener("DOMContentLoaded",s,!1),setTimeout(function(){0===parseInt(n.defaultView.getComputedStyle(o).fontSize)&&s()},3e3))},mC02:function(e,t){},r2eQ:function(e,t){e.exports={download:"src-components--download-3Gy4G_0",content:"src-components--download-1qp7S_0",slogen:"src-components--download-32GTD_0",btn:"src-components--download-2em-R_0"}},v2ns:function(e,t){},wQXu:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o("34+y");var n=o("X+yh"),i=o.n(n),a=o("/5sW"),r=o("cTzj"),s=o.n(r),c=o("//Fk"),d=o.n(c),l=o("pFYg"),u=o.n(l),p=o("fZjL"),m=o.n(p),v=[],f=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new d.a(function(t,n){var i=e.url;if(!e.concurrent){if(i=i.split("?")[0],-1!==v.indexOf(i))return void n(new Error("请求并发 "+i));v.push(i)}(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=e.type?e.type.toUpperCase():"POST",r=e.url||"",s=e.contentType||"application/x-www-form-urlencoded",c=e.data||{},l=!1!==e.async;return new d.a(function(t,n){var i={};i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var o="";m()(c).forEach(function(e){o+=e+"="+c[e]+"&"}),o=o.substr(0,o.lastIndexOf("&")),"GET"==a?(r=o?r+"?"+o:r,i.open(a,r,l),i.setRequestHeader("Content-type",s),i.send()):"POST"==a?(c.system&&(r=0<r.indexOf("?")?r+"&system="+c.system:r+"?system="+c.system),i.open(a,r,l),i.setRequestHeader("Content-type",s),i.send(o)):n(new Error("不支持的type")),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var e=i.response;"object"!==(void 0===e?"undefined":u()(e))&&(e=JSON.parse(e)),t(e)}else n(i)}})})(e).then(function(e){0===e.code?t(e):n(e)}).catch(function(e){n(e)}).finally(function(){var e=v.indexOf(i);-1!==e&&v.splice(e,1)})})},g=envConfig.requestDomain,h=(envConfig.manageDomain,function(e){return f({url:g+"/pet-api/comment/service",data:e})}),w=(envConfig.requestDomain,envConfig.requestDomain,envConfig.requestDomain,envConfig.requestDomain),y=function(e){return f({url:w+"/pet-api/appointment/queryLastOrderInfo",data:e})},_=function(e){return f({url:w+"/pet-api/appointment/queryServiceDetail",data:e})},x=o("BO1k"),b=o.n(x),C=function(){var e=window.location.href.split("?"),t={};if(1<e.length){var n=e[1],i=-1!==n.indexOf("%23/")?n.indexOf("%23/"):n.indexOf("#/");-1!==i&&(n=n.substr(0,i));var o=!0,a=!1,r=void 0;try{for(var s,c=b()(n.split("&"));!(o=(s=c.next()).done);o=!0){var l=s.value.split("=");l[0]&&(t[l[0]]=l[1]||"")}}catch(e){a=!0,r=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw r}}}return t},D=o("fxnj"),A=o.n(D),S=o("Xxa5"),k=o.n(S),O=o("exGp"),P=o.n(O),L=navigator.userAgent,I={android:-1<L.indexOf("Android")||-1<L.indexOf("Linux"),ios:-1<L.indexOf("iPhone")||-1<L.indexOf("iPad"),iphone:-1<L.indexOf("iPhone"),weixin:-1<L.toLowerCase().indexOf("micromessenger")},F=this,M=function(o,e){return new d.a(function(t,n){var c,i;(e=e||{}).jsApiList=e.jsApiList||["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],(o=o||{}).link=o.link||window.location.href,o.imgUrl=o.imgUrl||config.shareImg,(c=e,new d.a((i=P()(k.a.mark(function e(n,i){var o,a,r,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("wxconfig",I),I.weixin){e.next=4;break}return i(new Error("wxconfig 非微信浏览器")),e.abrupt("return");case 4:if(o=(c=c||{}).url||location.href,a=c.signData,r=config.wxShareDebug,a){e.next=13;break}return e.next=11,(t=o,f({url:g+"/pet-api/wx/sign",data:{url:encodeURIComponent(t)},type:"get"})).catch(function(e){i(new Error("sign error "+(e.code||"")+" "+(e.msg||"")))});case 11:s=e.sent,a={appId:s.data.appId,timestamp:s.data.timestamp,nonceStr:s.data.nonceStr,signature:s.data.signature};case 13:a.debug=!0===r,a.jsApiList=c.jsApiList,console.log(a),A.a.config(a),A.a.ready(function(e){console.log("ready"),console.log(e),n(a)}),A.a.error(function(e){console.log("error"),console.log(e),i(e)});case 19:case"end":return e.stop()}var t},e,F)})),function(e,t){return i.apply(this,arguments)}))).then(function(e){A.a.onMenuShareTimeline(o),A.a.onMenuShareAppMessage(o),A.a.onMenuShareQQ(o),A.a.onMenuShareWeibo(o),A.a.onMenuShareQZone(o),t(e)}).catch(function(e){n(e)})})},q=o("bOdI"),U=o.n(q),$=config.downloadApp,T=config.downloadLogo,z=config.downloadTitle,N=config.downloadDescription,Q=(String,config.downloadApp),E=config.downloadLogo,j=config.downloadTitle,R=config.downloadDescription,X={name:"download",props:{position:{type:String,default:"bottom"}},data:function(){return{style:U()({},this.position,0),downloadLogo:E,downloadTitle:j,downloadDescription:R}},methods:{downloadApp:Q}},W={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.download,style:e.style},[n("div",{class:e.$style.content},[n("img",{attrs:{src:e.downloadLogo,alt:"宠物家"}}),e._v(" "),n("div",{class:e.$style.slogen},[n("span",{domProps:{textContent:e._s(e.downloadTitle)}}),e._v(" "),n("span",{domProps:{textContent:e._s(e.downloadDescription)}})])]),e._v(" "),n("div",{class:e.$style.btn,on:{click:e.downloadApp}},[e._v("立即打开")])])},staticRenderFns:[]};var Z=o("VU/8")(X,W,!1,function(e){this.$style=o("r2eQ")},null,null).exports,G=(Number,String,String,{name:"star",props:{score:{type:Number,default:0},width:{type:String,default:"0.22rem"},margin:{type:String,default:"0.04rem"}},computed:{starList:function(){var e=[];if(this.score)for(var t=1;t<Math.ceil(this.score)+1;++t)e.push({half:t>this.score});return e},propStyle:function(){return{width:this.width,marginRight:this.margin}}}}),H={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{class:n.$style.star},n._l(n.starList,function(e,t){return i("span",{key:"a"+t,class:{half:e.half}},[i("img",{style:n.propStyle,attrs:{src:o("KKqZ")}})])}))},staticRenderFns:[]};var V=o("VU/8")(G,H,!1,function(e){this.$style=o("3C+r")},null,null).exports,K=config.userAvatar,B=config.downloadApp,J=(Array,config.userAvatar),Y=config.downloadApp,ee={name:"comment",props:{commentData:{type:Array,default:function(e){return e||[]}}},data:function(){return{userAvatar:J}},methods:{downloadApp:Y},components:{starComp:V}},te={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{class:n.$style.commentComp},n._l(n.commentData,function(e,t){return i("div",{key:"a"+t,class:n.$style.item,on:{click:n.downloadApp}},[i("div",{class:n.$style.info},[i("div",[i("div",{class:n.$style.avatar},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.user.avatar,error:n.userAvatar},expression:"{src: item.user.avatar, error: userAvatar}"}],key:e.user.avatar}),n._v(" "),e.user.isVip?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o("QCzp"),expression:"require('@static/images/icons/vip.png')"}]}):n._e()]),n._v(" "),i("div",{class:n.$style.name},[i("div",{domProps:{textContent:n._s(e.user.userName)}}),n._v(" "),i("star-comp",{attrs:{score:e.grade}})],1)]),n._v(" "),i("div",{domProps:{textContent:n._s(e.created)}})]),n._v(" "),i("div",{class:n.$style.content,domProps:{textContent:n._s(e.content)}}),n._v(" "),i("div",{class:n.$style.imgList},n._l(e.imgList,function(e,t){return i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],key:"b"+t})})),n._v(" "),i("div",{class:n.$style.tip},[e.serviceName?i("span",{domProps:{textContent:n._s(e.serviceName)}}):n._e(),n._v(" "),e.appointment?i("span",[n._v("服务时间: "+n._s(e.appointment))]):n._e()])])}))},staticRenderFns:[]};var ne=o("VU/8")(ee,te,!1,function(e){this.$style=o("Bg+g")},null,null).exports,ie=(config.downloadApp,config.getFullImgUrl,config.getDesc,config.downloadApp),oe=config.getFullImgUrl,ae=config.getDesc,re={name:"Index",data:function(){return{swiperOption:{autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",bulletClass:"swiper-pagination-bullet"}},bannerData:[],titleData:{title:"",desc:""},serviceData:[],curtab:0,detailData:[],tipsData:[],commentData:[],totalAmount:""}},computed:{tabData:function(){return["服务介绍","预约须知","服务评价"+this.totalAmount]}},created:function(){var i=this,o=C();y(o).then(function(e){_(o).then(function(e){if(0==e.code){var t=e.data;i.infoFilter(t)}});var t=e.data;if(t){i.infoFilter(t);var n={};t.share&&(t.share.title&&(n.title=t.share.title),t.share.desc&&(n.desc=t.share.desc),t.share.img&&(n.imgUrl=t.share.img)),M(n)}h({cellPhone:o.cellPhone||"",system:o.system||"",imei:o.imei||"",serviceId:o.serviceId||"",serviceType:o.serviceType,type:o.type||"",page:1}).then(function(e){i.commentFilter(e.data)})}).catch(function(e){e.msg&&Toast(e.msg)})},methods:{downloadApp:ie,getFullImgUrl:oe,tabClick:function(e){this.curtab=e},infoFilter:function(e){e.banners&&(this.bannerData=e.banners),e.detailImgs&&(this.detailData=e.detailImgs),e.service&&(e.service.name&&(this.titleData.title=e.service.name),e.service.serviceAmount&&(this.titleData.desc=ae(e.service.serviceAmount))),e.servicePrice&&e.servicePrice.services&&(this.serviceData=e.servicePrice.services),e.remind&&(this.tipsData=e.remind)},commentFilter:function(e){(e=e||{}).totalAmount&&(this.totalAmount="("+e.totalAmount+")");var t=e.dataset;if(t)for(var n=0,i=t.length;n<i&&2!==n;++n)this.commentData.push(t[n])},filterPrice:function(e){var t="";if(e)for(var n=e.split("@@"),i=0,o=n.length;i<o;++i)t+=1===i?"<span>"+n[i]:i===o-1?"</span>"+n[i]:n[i];return t}},components:{downloadComp:Z,commentComp:ne}},se={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"index"},[i("div",{staticClass:"banner"},[i("div",{staticClass:"banner-box",on:{click:n.downloadApp}},[i("swiper",{attrs:{options:n.swiperOption}},[n._l(n.bannerData,function(e,t){return i("swiper-slide",{key:"a"+t},[i("img",{staticClass:"banner-swiper-item",attrs:{src:e.img}})])}),n._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1<n.bannerData.length,expression:"bannerData.length > 1"}],staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]),n._v(" "),i("div",{staticClass:"title"},[i("div",{staticStyle:{"-webkit-box-orient":"vertical"},domProps:{textContent:n._s(n.titleData.title)}}),n._v(" "),i("div",{domProps:{textContent:n._s(n.titleData.desc)}})]),n._v(" "),i("div",{staticClass:"service"},n._l(n.serviceData,function(e,t){return i("div",{key:"b"+t,staticClass:"service-item",on:{click:n.downloadApp}},[i("div",[i("div",{staticClass:"service-icon"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.getFullImgUrl(e.icon),expression:"getFullImgUrl(item.icon)"}],key:e.icon})]),n._v(" "),i("div",{staticClass:"service-title"},[i("div",{domProps:{textContent:n._s(e.name)}}),n._v(" "),i("div",{domProps:{textContent:n._s(e.desc_bottom)}})])]),n._v(" "),i("div",[i("div",{staticClass:"service-price"},[i("div",{domProps:{innerHTML:n._s(n.filterPrice(e.vip_price))}}),n._v(" "),i("div",{domProps:{innerHTML:n._s(n.filterPrice(e.price))}})]),n._v(" "),i("div",{staticClass:"service-btn"},[n._v("预约")])])])})),n._v(" "),i("div",{staticClass:"tab"},n._l(n.tabData,function(e,t){return i("div",{key:"c"+t,class:{active:n.curtab===t},on:{click:function(e){n.tabClick(t)}}},[n._v(n._s(e))])})),n._v(" "),i("div",{staticClass:"content"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===n.curtab,expression:"curtab === 0"}]},n._l(n.detailData,function(e,t){return i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.getFullImgUrl(e),expression:"getFullImgUrl(item)"}],key:"d"+t,on:{click:n.downloadApp}})})),n._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===n.curtab,expression:"curtab === 1"}]},n._l(n.tipsData,function(e,t){return i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.getFullImgUrl(e),expression:"getFullImgUrl(item)"}],key:"e"+t,on:{click:n.downloadApp}})})),n._v(" "),i("comment-comp",{directives:[{name:"show",rawName:"v-show",value:2===n.curtab,expression:"curtab === 2"}],attrs:{commentData:n.commentData}})],1),n._v(" "),i("download-comp")],1)])},staticRenderFns:[]};var ce=o("VU/8")(re,se,!1,function(e){o("FO3f"),o("mC02")},null,null).exports;o("UoMW");!function(e,t){if((t=t||{}).favicon){var n=[];e.querySelector('link[rel="shortcut icon"]')&&n.push(e.querySelector('link[rel="shortcut icon"]')),e.querySelector('link[rel="icon"]')&&n.push(e.querySelector('link[rel="icon"]')),e.querySelector('link[rel="apple-touch-icon-precomposed"]')&&n.push(e.querySelector('link[rel="apple-touch-icon-precomposed"]'));var i=!0,o=!1,a=void 0;try{for(var r,s=b()(n);!(i=(r=s.next()).done);i=!0){r.value.setAttribute("href",t.favicon)}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}}(document,config);var le=o("7QTg"),de=o.n(le);o("v2ns");a.default.use(de.a),a.default.use(s.a),window.Toast=i.a,new a.default({components:{index:ce},render:function(e){return e(ce)}}).$mount("#app")}},["wQXu"]);
//# sourceMappingURL=app.fdf786fa55b21e1a4f20.js.map
webpackJsonp([1],{"34+y":function(t,e){},"57QP":function(t,e,s){t.exports=s.p+"../../../static/images/201809/bargainshare/toolpopup/tool.png"},"5ywe":function(t,e){},"7nRF":function(t,e,s){t.exports=s.p+"../../../static/images/icons/dogsad.png"},CQMf:function(t,e){},ErAa:function(t,e){},Iatn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("q/am");var s=n("4VPn"),i=n.n(s),a=(n("34+y"),n("X+yh")),o=n.n(a),r=n("/5sW"),c=n("/ocq"),l=n("BO1k"),h=n.n(l),d=function(){var t=window.location.href.split("?"),e={};if(1<t.length){var s=t[1],i=-1!==s.indexOf("%23/")?s.indexOf("%23/"):s.indexOf("#/");-1!==i&&(s=s.substr(0,i));var a=!0,n=!1,o=void 0;try{for(var r,c=h()(s.split("&"));!(a=(r=c.next()).done);a=!0){var l=r.value.split("=");l[0]&&(e[l[0]]=l[1]||"")}}catch(t){n=!0,o=t}finally{try{!a&&c.return&&c.return()}finally{if(n)throw o}}}return e},u=d(),p=[];u.system&&(p=u.system.split("_"));var v,m={android:"android"===p[0],ios:"ios"===p[0],version:p[1]?""+p[1]:"",Terminal:{platform:(v=navigator.userAgent,{android:-1<v.indexOf("Android")||-1<v.indexOf("Linux"),iPhone:-1<v.indexOf("iPhone"),iPad:-1<v.indexOf("iPad")}),language:(navigator.browserLanguage||navigator.language).toLowerCase()}},f=n("Dd8w"),g=n.n(f),y=n("NYxO"),w=config.userAvatar,b=(config.getFullPetAvatar,config.userAvatar),k={name:"petlist",props:["tabs","lists","selectedPetId","searchPlaceholder","tabIndex"],data:function(){return{userAvatar:b,curtab:this.tabIndex||0,searchText:""}},methods:{getFullPetAvatar:config.getFullPetAvatar}},I={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{class:s.$style.petlist},[i("div",{class:s.$style.tab},[i("div",s._l(s.tabs,function(t,e){return i("div",{key:"a"+e,class:s.curtab===e&&s.$style.active,domProps:{textContent:s._s(t)},on:{click:function(t){s.curtab=e}}})}))]),s._v(" "),i("div",{class:s.$style.search},[i("input",{directives:[{name:"model",rawName:"v-model",value:s.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:s.searchPlaceholder||"请输入爱宠类型"},domProps:{value:s.searchText},on:{input:[function(t){t.target.composing||(s.searchText=t.target.value)},function(t){s.$emit("searchInput",s.searchText)}]}})]),s._v(" "),i("div",{class:s.$style.list},s._l(s.lists,function(t,e){return i("div",{directives:[{name:"show",rawName:"v-show",value:s.curtab===e,expression:"curtab === listindex"}],key:"b"+e},s._l(t,function(t,e){return i("div",{key:"c"+e},[i("div",{class:s.$style.title,domProps:{textContent:s._s(t.firstLetter)}}),s._v(" "),s._l(t.list,function(e,t){return i("div",{key:"d"+t,class:s.$style.item,on:{click:function(t){s.$emit("itemClicked",{id:e.petId,name:e.petName,kind:e.petKind,tabIndex:s.curtab})}}},[i("div",[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:s.getFullPetAvatar(e.avatar),error:s.userAvatar},expression:"{src: getFullPetAvatar(item.avatar), error: userAvatar}"}],key:e.avatar}),s._v(" "),i("div",{domProps:{textContent:s._s(e.petName)}})]),s._v(" "),e.petId==s.selectedPetId?i("div",[i("img",{attrs:{src:n("sKV8")}})]):s._e()])})],2)}))}))])},staticRenderFns:[]};var C=n("VU/8")(k,I,!1,function(t){this.$style=n("K/Wb")},null,null).exports,_=null,x=(g()({},Object(y.e)(["petList","selectedPetId","petListCurtab","listpage"])),g()({},Object(y.d)(["setSelectedPetInfo","updateListpage"]),Object(y.b)(["getPetList","getBargainList"]),{searchInput:function(t){var e=this;_||(_=!0,setTimeout(function(){_=!1,e.getPetList(t)},200))},itemClicked:function(t){t.id==this.selectedPetId&&(t.id="",t.name=""),this.setSelectedPetInfo(t),this.updateListpage(1),this.getBargainList(),this.$router.go(-1)}}),null),P={name:"petlist",computed:g()({},Object(y.e)(["petList","selectedPetId","petListCurtab","listpage"])),created:function(){this.getPetList()},methods:g()({},Object(y.d)(["setSelectedPetInfo","updateListpage"]),Object(y.b)(["getPetList","getBargainList"]),{searchInput:function(t){var e=this;x||(x=!0,setTimeout(function(){x=!1,e.getPetList(t)},200))},itemClicked:function(t){t.id==this.selectedPetId&&(t.id="",t.name=""),this.setSelectedPetInfo(t),this.updateListpage(1),this.getBargainList(),this.$router.go(-1)}}),components:{petlistComp:C}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"index"},[s("petlist-comp",{attrs:{tabIndex:t.petListCurtab,tabs:["汪星人","喵星人"],lists:[t.petList.dogs,t.petList.cats],selectedPetId:t.selectedPetId},on:{itemClicked:t.itemClicked,searchInput:t.searchInput}})],1)])},staticRenderFns:[]},T=n("VU/8")(P,L,!1,null,null,null).exports,S=(n("OgVB"),n("/Lyv")),O=n.n(S),U=n("//Fk"),D=n.n(U),$=n("pFYg"),A=n.n($),E=n("fZjL"),N=n.n(E),B=[],R=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new D.a(function(e,s){var i=t.url;if(!t.concurrent){if(i=i.split("?")[0],-1!==B.indexOf(i))return void s(new Error("请求并发 "+i));B.push(i)}(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.type?t.type.toUpperCase():"POST",o=t.url||"",r=t.contentType||"application/x-www-form-urlencoded",c=t.data||{},l=!1!==t.async;return new D.a(function(e,s){var i={};i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var a="";N()(c).forEach(function(t){a+=t+"="+c[t]+"&"}),a=a.substr(0,a.lastIndexOf("&")),"GET"==n?(o=a?o+"?"+a:o,i.open(n,o,l),i.setRequestHeader("Content-type",r),i.send()):"POST"==n?(i.open(n,o,l),i.setRequestHeader("Content-type",r),i.send(a)):s(new Error("不支持的type")),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var t=i.response;"object"!==(void 0===t?"undefined":A()(t))&&(t=JSON.parse(t)),e(t)}else s(i)}})})(t).then(function(t){0===t.code?e(t):s(t)}).catch(function(t){s(t)}).finally(function(){var t=B.indexOf(i);-1!==t&&B.splice(t,1)})})},j=envConfig.requestDomain,q=function(t){return R({url:j+"/pet-api/bargain/loadShareCopy",data:t})},F=envConfig.requestDomain,M=(envConfig.manageDomain,function(t){return F+"/pet-api/user/activity/generateImageCode?mobileKey="+t}),Q=function(t){return R({url:F+"/pet-api/user/activity/genVerifyCode",data:t})},V=function(t){return R({url:F+"/pet-api/user/activity/login",data:t})},z=function(t){return R({url:F+"/pet-api/logcount/addActivityLog",data:t})};envConfig.requestDomain,envConfig.requestDomain,envConfig.requestDomain;r.default.component(i.a.name,i.a);String;r.default.component(i.a.name,i.a);var K={name:"rule",props:{text:{type:String,default:""},value:{default:!1}},watch:{showPopup:function(t){this.$emit("input",t)},value:function(t){this.showPopup=t}},data:function(){return{showPopup:!1}}},H={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("mt-popup",{attrs:{zIndex:"990"},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[s("div",{staticClass:"rule-popup"},[s("div",{staticClass:"rule-btn",on:{click:function(t){e.showPopup=!1}}},[s("img",{attrs:{src:n("YRwD")}})]),e._v(" "),s("div",{staticClass:"rule-content"},[s("div",{staticClass:"rule-title"},[s("div",[e._v("活动规则")])]),e._v(" "),s("div",{staticClass:"rule-text",domProps:{innerHTML:e._s(e.text)}})])])])},staticRenderFns:[]};var Y=n("VU/8")(K,H,!1,function(t){n("PZyx")},null,null).exports,W=(Number,Number,String,String,String,{name:"countdown",props:{milliseconds:{type:Number,default:0},speed:{type:Number,default:1e3},text:{type:String,default:"后结束"},fontSize:{type:String,default:"0.24rem"},color:{type:String,default:"#3A3636"}},data:function(){return{countdown:this.milliseconds,countDownTip:""}},computed:{style:function(){return{fontSize:this.fontSize,color:this.color}}},created:function(){this.loop()},methods:{loop:function(){var t=this;this.countdown>this.speed?setTimeout(function(){t.countdown-=t.speed,t.loop()},this.speed):(this.countdown=0,this.$emit("over"));for(var e=[parseInt(this.countdown/1e3/60/60),parseInt(this.countdown/1e3/60%60),parseInt(this.countdown/1e3%60)],s=0,i=e.length;s<i;++s)e[s]=9<e[s]?""+e[s]:"0"+e[s];var a=e[0],n=e[1],o=e[2];this.countDownTip=this.countdown?"<span>"+a+"</span>&nbsp;:&nbsp;<span>"+n+"</span>&nbsp;:&nbsp;<span>"+o+"</span>"+this.text:""}}}),X={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.$style.countdown,style:t.style,domProps:{innerHTML:t._s(t.countDownTip)}})},staticRenderFns:[]};var J=n("VU/8")(W,X,!1,function(t){this.$style=n("Uaze")},null,null).exports,Z=function(){m.android&&window.fromh5data.login(),m.ios&&(window.location.href="pethome://login")},G=function(t,e,s){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg;m.android||m.ios?t&&e&&s?(m.android&&(m.version<"4.9.5"?window.fromh5data.shareCardInfoDidlog(e,i,s,t):m.version<"5.0.0"?window.fromh5data.shareCardInfoDidlogNoQQ(e,i,s,t):window.fromh5data.shareCardInfoDidlog(e,i,s,t,"1,2")),m.ios&&(!function(t,e,s){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg,a=document.querySelector('meta[name="sharetitle"]'),n=document.querySelector('meta[name="description"]'),o=document.querySelector('meta[name="shareimg"]'),r=document.querySelector('meta[name="shareurl"]');a&&n&&o&&r||console.warn("setshareinfoios 缺少标签"),t&&a&&a.setAttribute("content",t),e&&n&&n.setAttribute("content",e),i&&o&&o.setAttribute("content",i),s&&r&&r.setAttribute("content",s)}(t,e,s,i),window.location.href="pethome://share")):console.warn("sharepopup 缺少参数"):console.warn("sharepopup 不在客户端内")},tt=function(){m.Terminal.platform.android&&window.fromh5data.showMallAddressList(),m.Terminal.platform.iPhone&&(window.location.href="petHome://showMallAddressList")},et=function(){m.android&&window.fromh5lucy.coupon("1"),m.ios&&(window.location.href="pethome://coupon")},st=(g()({},Object(y.e)(["cellPhone","imei","system","activityRule","activityBgPic","curtab","bargainList","myTaskList","activityId","selectedPetId","selectedPetName","fetchLock","listpage"]),Object(y.c)(["getUrl"])),g()({sharepopup:G,tocoupon:et},Object(y.d)(["setCurtab","setFetchLock","updateListpage"]),Object(y.b)(["getMyTaskList","getBargainList"]),{inviteClick:function(t){var e=this,s=this.myTaskList[t];"2"==s.type?this.shareDesc=config.shareDesc1:"4"==s.type?this.shareDesc=config.shareDesc2:this.shareDesc=config.shareDesc,this.bargainTaskId=s.userTaskId,this.expressId=s.taskId,q({petId:s.taskContent.petId,serviceId:s.taskContent.serviceId,taskId:s.taskId}).then(function(t){if(!t.data)throw new Error("缺少分享文案");G(t.data,e.shareDesc,e.getUrl({taskId:s.taskId,bargainTaskId:s.userTaskId}),s.pic)}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},taskItemClick:function(t){var e=this.bargainList[t];window.taskId=e.id,z({cellPhone:this.cellPhone,system:this.system,imei:this.imei,type:2,activityInfoId:this.activityId,shareActivityId:e.id,taskId:1,pageType:1}),this.cellPhone?e.joinState?(this.clickedTaskId=e.id,this.clickedUserTaskId=e.userTaskId,this.serviceId=e.taskContent.serviceId,this.clickedPetId=e.taskContent.petId,this.showConfirm=!0):"4"==e.secondLevelType?tt():this.toSharePage(e.id):Z()},toSharePage:function(t,e,s){window.location.href=this.getUrl({taskId:t,bargainTaskId:e,addressId:s||0})},toexpress:function(t){var e=this.myTaskList;window.expressList=e,this.$router.push({name:"express",params:{id:t}})}}),{name:"list",data:function(){return{showRule:!1,showConfirm:!1,clickedTaskId:"",clickedUserTaskId:"",page:1,scrollLock:!1,expressId:window.expressId,bargainTaskId:"",shareDesc:""}},computed:g()({},Object(y.e)(["cellPhone","imei","system","activityRule","activityBgPic","curtab","bargainList","myTaskList","activityId","selectedPetId","selectedPetName","fetchLock","listpage"]),Object(y.c)(["getUrl"])),mounted:function(){var i=this;window.setMallAddress=function(e,t,s,i){var a=t+"  "+s+"  "+i;O.a.confirm(a,"请确认您的收货地址").then(function(t){"confirm"==t&&goSharePage(window.taskId,"",e)}).catch(function(t){"cancel"==t&&tt()})},z({cellPhone:this.cellPhone,system:this.system,imei:this.imei,type:2,activityInfoId:this.activityId,shareActivityId:0,taskId:0,pageType:1}),window.addEventListener("scroll",function(){i.scrollLock||(i.scrollLock=!0,setTimeout(function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.body.clientHeight;if(document.body.scrollHeight-50<t+e){if(i.fetchLock)return;i.setFetchLock(!0),i.updateListpage(),i.getBargainList()}i.scrollLock=!1},200))}),window.goSharePage=function(t,e,s){i.toSharePage(t,e,s)}},methods:g()({sharepopup:G,tocoupon:et},Object(y.d)(["setCurtab","setFetchLock","updateListpage"]),Object(y.b)(["getMyTaskList","getBargainList"]),{inviteClick:function(t){var e=this,s=this.myTaskList[t];"2"==s.type?this.shareDesc=config.shareDesc1:"4"==s.type?this.shareDesc=config.shareDesc2:this.shareDesc=config.shareDesc,this.bargainTaskId=s.userTaskId,this.expressId=s.taskId,q({petId:s.taskContent.petId,serviceId:s.taskContent.serviceId,taskId:s.taskId}).then(function(t){if(!t.data)throw new Error("缺少分享文案");G(t.data,e.shareDesc,e.getUrl({taskId:s.taskId,bargainTaskId:s.userTaskId}),s.pic)}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},taskItemClick:function(t){var e=this.bargainList[t];window.taskId=e.id,z({cellPhone:this.cellPhone,system:this.system,imei:this.imei,type:2,activityInfoId:this.activityId,shareActivityId:e.id,taskId:1,pageType:1}),this.cellPhone?e.joinState?(this.clickedTaskId=e.id,this.clickedUserTaskId=e.userTaskId,this.serviceId=e.taskContent.serviceId,this.clickedPetId=e.taskContent.petId,this.showConfirm=!0):"4"==e.secondLevelType?tt():this.toSharePage(e.id):Z()},toSharePage:function(t,e,s){window.location.href=this.getUrl({taskId:t,bargainTaskId:e,addressId:s||0})},toexpress:function(t){var e=this.myTaskList;window.expressList=e,this.$router.push({name:"express",params:{id:t}})}}),components:{rule:Y,countdown:J}}),it={render:function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"index"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===i.curtab,expression:"curtab === 0"}],staticClass:"list"},[a("div",{staticClass:"rule",on:{click:function(t){i.showRule=!0}}},[a("span",[i._v("活动规则")])]),i._v(" "),a("div",{staticClass:"listbanner"},[a("img",{attrs:{src:i.activityBgPic}})]),i._v(" "),a("div",{staticClass:"pet-tool pet",on:{click:function(t){i.$router.push("petlist")}}},[a("div",[i._v("选择宠物")]),i._v(" "),a("div",[a("div",{domProps:{textContent:i._s(i.selectedPetName)}}),i._v(" "),a("img",{attrs:{src:n("OagU")}})])]),i._v(" "),a("div",i._l(i.bargainList,function(e,s){return a("div",{key:"a"+s,staticClass:"tasklist-item",class:{over:0==e.noUseQuota},on:{click:function(t){i.$router.push("detail/"+e.id)}}},[a("div",{staticClass:"item-content"},[a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pic,expression:"item.pic"}],key:e.pic}),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.noUseQuota,expression:"item.noUseQuota == 0"}]},[i._v("已抢光")])]),i._v(" "),a("div",[a("div",[a("div",{staticStyle:{"-webkit-box-orient":"vertical"},domProps:{textContent:i._s(e.name)}})]),i._v(" "),a("div",{staticClass:"tasklist-bottom"},[a("div",{staticClass:"tasklist-title"},[i._v("￥\n                  "),a("span",{staticClass:"font-bold",domProps:{textContent:i._s(e.price)}}),i._v(" "),a("span",{staticClass:"font-red"},[i._v("免单名额:"+i._s(e.quota))])]),i._v(" "),0==e.noUseQuota?a("div",{staticClass:"global-btn grey",on:{click:function(t){t.stopPropagation()}}},[i._v("已抢光")]):a("div",{staticClass:"global-btn",on:{click:function(t){t.stopPropagation(),i.taskItemClick(s)}}},[i._v("我要免单")])])])])])}))]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===i.curtab,expression:"curtab === 1"}],staticClass:"mylist"},[a("div",{staticClass:"pet-tool tool",on:{click:function(t){i.$router.push("tool")}}},[a("div",[i._v("我的道具")]),i._v(" "),i._m(0)]),i._v(" "),i.myTaskList.length?a("div",{staticClass:"mytasklist"},i._l(i.myTaskList,function(e,s){return a("div",{key:"b"+s,staticClass:"mytasklist-item",on:{click:function(t){i.toSharePage(e.taskId,e.userTaskId)}}},[a("div",{staticClass:"item-content"},[a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pic,expression:"item.pic"}],key:e.pic}),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.stateTipIcon,expression:"item.stateTipIcon"}],domProps:{textContent:i._s(e.stateTipIcon)}})]),i._v(" "),a("div",[a("div",{staticClass:"mytasklist-title",class:{over:e.stateTipIcon}},[a("div",{staticStyle:{"-webkit-box-orient":"vertical"},domProps:{textContent:i._s(e.taskName)}})]),i._v(" "),a("div",[a("div",{staticClass:"mytasklist-statetip",domProps:{innerHTML:i._s(e.stateTip)}})])])]),i._v(" "),a("div",{staticClass:"mytasklist-bottom"},[a("div",[a("div",[1==e.state&&e.countDown?a("countdown",{attrs:{milliseconds:e.countDown},on:{over:i.getMyTaskList}}):i._e()],1),i._v(" "),a("div",{staticClass:"mytasklist-btn"},[1==e.state?a("div",{staticClass:"global-btn",on:{click:function(t){t.stopPropagation(),i.inviteClick(s)}}},[i._v("邀请好友")]):i._e(),i._v(" "),2==e.state&&4!==e.type?a("div",{staticClass:"global-btn w200",on:{click:function(t){return t.stopPropagation(),i.tocoupon(t)}}},[i._v("查看优惠券")]):i._e(),i._v(" "),2==e.state&&4==e.type&&"已发货"===e.logistics.deliveryStatus?a("div",{staticClass:"global-btn",on:{click:function(t){t.stopPropagation(),i.toexpress(e.userTaskId)}}},[i._v("查看物流")]):i._e(),i._v(" "),2==e.state&&4==e.type&&"未发货"===e.logistics.deliveryStatus?a("div",{staticClass:"global-btn grey",staticStyle:{width:"1.8rem"},on:{click:function(t){t.stopPropagation()}}},[i._v("待发货")]):i._e(),i._v(" "),1<e.state?a("div",{staticClass:"global-btn",on:{click:function(t){t.stopPropagation(),i.setCurtab(0)}}},[i._v("再免一单")]):i._e()])])])])})):a("div",{staticClass:"empty"},[a("img",{attrs:{src:n("7nRF")}}),i._v(" "),a("div",[i._v("您目前没有砍价任务哦~")])])]),i._v(" "),a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-item",class:{active:0===i.curtab},on:{click:function(t){i.setCurtab(0)}}},[a("div",[i._v("免单列表")])]),i._v(" "),a("div",{staticClass:"tab-item",class:{active:1===i.curtab},on:{click:function(t){i.setCurtab(1)}}},[a("div",[i._v("我的免单")])])])]),i._v(" "),a("rule",{attrs:{text:i.activityRule},model:{value:i.showRule,callback:function(t){i.showRule=t},expression:"showRule"}}),i._v(" "),a("mt-popup",{attrs:{zIndex:"990"},model:{value:i.showConfirm,callback:function(t){i.showConfirm=t},expression:"showConfirm"}},[a("div",[a("div",{staticClass:"join-clearbtn",on:{click:function(t){i.showConfirm=!1}}},[a("img",{attrs:{src:n("YRwD")}})]),i._v(" "),a("div",{staticClass:"join-popup"},[a("div",{staticClass:"join-title"},[a("img",{attrs:{src:n("7nRF")}}),i._v(" "),a("div",[i._v("该免单正在砍价中~")])]),i._v(" "),a("div",{staticClass:"join-btn",on:{click:function(t){i.toSharePage(i.clickedTaskId,i.clickedUserTaskId)}}},[a("div",{staticClass:"global-btn w433 h68"},[i._v("继续砍价")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:n("OagU")}})])}]};var at=n("VU/8")(st,it,!1,function(t){n("vEvm")},"data-v-7c3a2b48",null).exports,nt=n("Xxa5"),ot=n.n(nt),rt=n("exGp"),ct=n.n(rt),lt=envConfig.requestDomain,dt=function(t){return R({url:lt+"/pet-api/bargain/loadBargainTaskInfoPage",data:t})},ut=function(t){return R({url:lt+"/pet-api/bargain/loadBargainPropList",data:t})},pt=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";m.android||m.ios?t?(m.android&&window.fromh5lucy.goService(parseInt(t),""+e),m.ios&&(window.location.href="pethome://goPoint_"+t+"_"+e)):console.warn("pointbackup 缺少point"):console.warn("openshare 不在客户端内")},vt=config.downloadApp,ht=(g()({},Object(y.e)(["cellPhone","system","imei","activityId"]),Object(y.c)(["getUrl"])),config.downloadApp),mt={name:"detail",props:["id"],data:function(){return{isshow:!0,swiperOption:{autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",bulletClass:"swiper-pagination-bullet"}},bannerData:[],detailImgsData:[],name:"",price:0,quota:0,noUseQuota:0,serviceId:"",petId:"",userTaskId:"",point:"",backup:"",systemInfo:m,flag:!0}},computed:g()({},Object(y.e)(["cellPhone","system","imei","activityId"]),Object(y.c)(["getUrl"])),created:function(){var s=this;return ct()(ot.a.mark(function t(){var e;return ot.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt({cellPhone:s.cellPhone,system:s.system,imei:s.imei,activityId:s.activityId,taskId:s.id});case 3:if(e=t.sent,!(window.res=e).data){t.next=11;break}s.filterDetail(e.data),3==e.data.secondLevelType||4==e.data.secondLevelType||2==e.data.secondLevelType?s.isshow=!1:1==e.data.secondLevelType&&(s.isshow=!0),t.next=12;break;case 11:throw new Error(e);case 12:0==e.data.noUseQuota?s.flag=!1:s.flag=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.warn(t.t0);case 19:case"end":return t.stop()}},t,s,[[0,16]])}))()},mounted:function(){var i=this;window.setMallAddress=function(e,t,s,i){var a=t+"  "+s+"  "+i;O.a.confirm(a,"请确认您的收货地址").then(function(t){"confirm"==t&&goSharePage(window.taskId,"",e)}).catch(function(t){"cancel"==t&&tt()})},z({cellPhone:this.cellPhone,system:this.system,imei:this.imei,type:2,activityInfoId:this.activityId,shareActivityId:this.id,taskId:0,pageType:2}),window.goSharePage=function(t,e,s){i.toSharePage(t,e,s)}},methods:{downloadApp:ht,pointbackup:pt,tabItemClick:function(){this.noUseQuota&&z({cellPhone:this.cellPhone,system:this.system,imei:this.imei,type:2,activityInfoId:this.activityId,shareActivityId:this.id,taskId:1,pageType:2}),this.cellPhone?"4"==window.res.data.secondLevelType?tt():this.toSharePage(taskInfo.id):Z()},filterDetail:function(t){t.userTaskId&&(this.userTaskId=t.userTaskId),t.name&&(this.name=t.name),t.price&&(this.price=t.price),t.quota&&(this.quota=t.quota),t.noUseQuota&&(this.noUseQuota=t.noUseQuota),t.picList3&&(this.bannerData=t.picList3),t.picList4&&(this.detailImgsData=t.picList4),t.taskContent&&(t.taskContent.petId&&(this.petId=t.taskContent.petId),t.taskContent.serviceId&&(this.serviceId=t.taskContent.serviceId),t.taskContent.point&&(this.point=t.taskContent.point),t.taskContent.backup&&(this.backup=t.taskContent.backup))},toSharePage:function(t,e,s){window.location.href=this.getUrl({taskId:this.id,serviceId:this.serviceId,petId:this.petId,bargainTaskId:this.userTaskId,source:1,addressId:s})}}},ft={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"index"},[s("div",{staticClass:"content"},[s("div",{staticClass:"banner"},[s("div",{staticClass:"banner-box"},[s("swiper",{attrs:{options:e.swiperOption}},[e._l(e.bannerData,function(t,e){return s("swiper-slide",{key:"a"+e},[s("img",{staticClass:"banner-swiper-item",attrs:{src:t}})])}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1<e.bannerData.length,expression:"bannerData.length > 1"}],staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]),e._v(" "),s("div",{staticClass:"title"},[s("div",{staticClass:"title-name",staticStyle:{"-webkit-box-orient":"vertical"}},[s("div",{domProps:{textContent:e._s(e.name)}})]),e._v(" "),s("div",{staticClass:"title-price"},[s("span",[e._v("￥"+e._s(e.price))]),e._v(" "),s("span",[e._v("免单名额:"+e._s(e.quota))])])]),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"detail-imgs"},e._l(e.detailImgsData,function(t,e){return s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],key:"b"+e})}))]),e._v(" "),s("div",{staticClass:"tab"},[e.systemInfo.ios&&e.systemInfo.version<"5.0.0"||!e.isshow?e._e():s("div",{staticClass:"tab-item",on:{click:function(t){e.pointbackup(e.point,e.backup)}}},[s("div",[e._v("直接下单")])]),e._v(" "),e.flag?s("div",{staticClass:"tab-item",class:{over:!e.noUseQuota},on:{click:e.tabItemClick}},[s("div",[e._v("我要免单")])]):s("div",{staticClass:"tab-item",class:{over:!e.noUseQuota}},[s("div",[e._v("我要免单")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pet-tool red"},[e("div",[e("span"),this._v(" "),e("span",[this._v("服务介绍")])])])}]};var gt=n("VU/8")(mt,ft,!1,function(t){n("XiaZ")},"data-v-50b717bc",null).exports,yt=(g()({},Object(y.e)(["cellPhone","system","imei","activityId"])),g()({},Object(y.d)(["setCurtab"])),{name:"tool",data:function(){return{toolListData:[]}},computed:g()({},Object(y.e)(["cellPhone","system","imei","activityId"])),methods:g()({},Object(y.d)(["setCurtab"])),created:function(){var s=this;return ct()(ot.a.mark(function t(){var e;return ot.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ut({cellPhone:s.cellPhone,system:s.system,imei:s.imei,activityId:s.activityId});case 3:if(!(e=t.sent).data){t.next=8;break}e.data.propList&&(s.toolListData=e.data.propList),t.next=9;break;case 8:throw new Error(e);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.warn(t.t0);case 14:case"end":return t.stop()}},t,s,[[0,11]])}))()}}),wt={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"index"},[s.toolListData.length?i("div",{staticClass:"list"},s._l(s.toolListData,function(t,e){return i("div",{key:"a"+e,staticClass:"item"},[i("div",[i("div",[s._m(0,!0),s._v(" "),i("div",{staticClass:"tool-text"},[i("div",{domProps:{textContent:s._s(t.name)}}),s._v(" "),i("div",[s._v("使用"+s._s(t.name)+"可以多砍一刀哦~")])])]),s._v(" "),i("div",{staticClass:"global-btn w156",on:{click:function(t){s.setCurtab(0),s.$router.push("list")}}},[s._v("去使用")])])])})):i("div",{staticClass:"empty"},[i("img",{attrs:{src:n("7nRF")}}),s._v(" "),i("div",[s._v("目前还没有获得道具哦~")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tool-img"},[e("img",{attrs:{src:n("57QP")}})])}]};var bt=n("VU/8")(yt,wt,!1,function(t){n("gYCJ")},"data-v-221182e2",null).exports,kt=function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location.href).split("#")[0].split("23%")[0].split("?"),s=e[0],i=e[1]?e[1].split("&"):[],a={},n=!0,o=!1,r=void 0;try{for(var c,l=h()(i);!(n=(c=l.next()).done);n=!0){var d=c.value;a[d.split("=")[0]]=d.split("=")[1]||""}}catch(t){o=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}var u="",p=function(t,e){var s={};for(var i in t)s[i]=t[i];for(var a in e)s[a]=e[a];return s}(a,t);for(var v in p)u+=v+"="+p[v]+"&";return s+(u?"?"+u.substring(0,u.length-1):"")},It=n("NC6I"),Ct=n.n(It),_t=(config.cellPhoneReg,config.cellPhoneReg),xt={name:"login",props:["placeholders"],beforeMount:function(){this.updateCode()},data:function(){return{mobileKey:"",imgcodeUrl:"",cellPhone:"",imgcode:"",code:"",genVerifyCodeFlag:!1,getCodeBtnText:"获取验证码",getCodeBtnClass:""}},methods:{confirmclicked:function(){this.checkoutNum()&&this.$emit("confirm",{cellPhone:this.cellPhone,code:this.code})},getCode:function(){this.checkoutNum(1)&&this.$emit("getCode",{phone:this.cellPhone,code:this.imgcode,encryptionCode:Ct()("chongwujia_2018"+this.cellPhone),mobileKey:this.mobileKey})},updateCode:function(){this.mobileKey=""+(new Date).getTime()+parseInt(1e5*(9*Math.random()+1)),this.imgcodeUrl=M(this.mobileKey)},countdown:function(t){var e=this;this.getCodeBtnClass="grey",this.countBackwards({total:60,callback:function(t){t?e.getCodeBtnText=t+"秒":(e.getCodeBtnClass="",e.getCodeBtnText="重新获取",e.genVerifyCodeFlag=!1)}}),t&&t()},checkoutNum:function(t){if(this.cellPhone)if(_t.test(this.cellPhone))if(this.imgcode)if(this.imgcode.length<4)Toast("请检查图形验证码");else if(this.code||1===t){if(!(this.code.length<4&&1!==t))return!0;Toast("请检查短信验证码")}else Toast("请输入短信验证码");else Toast("请输入图形验证码");else Toast("请检查手机号");else Toast("请输入手机号")},countBackwards:function(t){var e=this,s=(t=t||{}).total?t.total:10,i=t.speed?t.speed:1,a=t.time?t.time:1e3,n=t.counted?t.counted:0,o=t.callback?t.callback:0,r=t.callbackOnce?t.callbackOnce:0,c=t.callbackEnd?t.callbackEnd:0,l=0<=s-n?s-n:0;setTimeout(function(){if(0!==l){var t=0<=l-i?l-i:0;n+=i,o&&o(t),r&&r(t),0==t&&c&&c(t),e.countBackwards({total:s,speed:i,time:a,counted:n,callback:o,callbackOnce:r,callbackEnd:c})}},a)}}},Pt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"user-form"},[s("div",{staticClass:"form-cellPhone"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.cellPhone,expression:"cellPhone"}],attrs:{type:"number",placeholder:e.placeholders&&e.placeholders[0]||"请输入手机号"},domProps:{value:e.cellPhone},on:{input:function(t){t.target.composing||(e.cellPhone=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-imgcode"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.imgcode,expression:"imgcode"}],attrs:{type:"number",placeholder:e.placeholders&&e.placeholders[1]||"请输入图形验证码"},domProps:{value:e.imgcode},on:{input:function(t){t.target.composing||(e.imgcode=t.target.value)}}}),e._v(" "),s("img",{attrs:{src:e.imgcodeUrl},on:{click:function(t){return t.stopPropagation(),e.updateCode(t)}}})]),e._v(" "),s("div",{staticClass:"form-code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",placeholder:e.placeholders&&e.placeholders[2]||"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),s("span",{class:e.getCodeBtnClass,on:{click:function(t){return t.stopPropagation(),e.getCode(t)}}},[e._v(e._s(e.getCodeBtnText))])])]),e._v(" "),s("div",{staticClass:"user-btn",on:{click:e.confirmclicked}},[e._t("confirmBtn",[s("div",[e._v("确认")])])],2)])},staticRenderFns:[]};var Lt=n("VU/8")(xt,Pt,!1,function(t){n("5ywe")},"data-v-db7e2672",null).exports,Tt=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),St={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:t.transition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[s("div",{staticClass:"weui-mask_transparent"}),t._v(" "),s("div",{staticClass:"weui-toast",style:{position:t.position}},[s("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?s("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2):t._e()])])])},staticRenderFns:[]};var Ot=n("VU/8")(Tt,St,!1,function(t){n("ErAa")},null,null).exports,Ut={name:"index",data:function(){return{submitFlag:!1,placeholders:["","",""],issubmits:!0}},components:{login:Lt,Loading:Ot},created:function(){},beforeMount:function(){},methods:{getCode:function(t){var e=this,s=t;s.openid=window.openid||"",Q(s).then(function(t){e.$refs.login.countdown()}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},submit:function(s){var e=this;this.issubmits&&(this.issubmits=!1,V(s).then(function(t){var e=kt({cellPhone:s.cellPhone});window.location.href=e}).catch(function(t){console.warn(t),e.issubmits=!0,t.msg&&Toast(t.msg)}))}}},Dt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"loginpage"},[s("div",{staticClass:"img-top"}),t._v(" "),s("div",{staticClass:"img-mid"}),t._v(" "),s("login",{ref:"login",attrs:{placeholders:t.placeholders},on:{confirm:t.submit,getCode:t.getCode}},[s("div",{staticClass:"loginbtn",attrs:{slot:"confirmBtn"},slot:"confirmBtn"})])],1)])},staticRenderFns:[]};var $t=n("VU/8")(Ut,Dt,!1,function(t){n("CQMf")},null,null).exports,At=n("TQvf"),Et=n.n(At);window.Toast=o.a;String,String;window.Toast=o.a;var Nt={name:"clipboard",props:{text:{type:String,default:""},className:{type:String,default:"clipboard"}},created:function(){var e=this,t=new Et.a("."+this.className);console.log(t),t.on("success",function(t){o()("复制成功"),e.$emit("success")}),t.on("error",function(t){o()("该浏览器不支持自动复制"),e.$emit("error")})}},Bt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:t.className,attrs:{"data-clipboard-action":"copy","data-clipboard-text":t.text}},[t._t("default",[t._v("复制")])],2)},staticRenderFns:[]},Rt=n("VU/8")(Nt,Bt,!1,null,null,null).exports,jt=d();jt.cellPhone=jt.cellPhone||"",jt.system=jt.system||"",jt.imei=jt.imei||"";var qt=d();qt.cellPhone=qt.cellPhone||"",qt.system=qt.system||"",qt.imei=qt.imei||"";var Ft={name:"express",props:["id"],data:function(){return{expressList:{},taskId:"",expressInfo:[],express:[]}},computed:{},created:function(){for(var t=window.expressList,e=this.$route.params.id,s=0;s<t.length;s++)e==t[s].userTaskId&&(this.expressList=t[s].logistics,this.expressInfo=JSON.parse(this.expressList.info))},methods:{},components:{clipboard:Rt}},Mt={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"userInfo clearfloat"},[i("div",{staticClass:"user"},[s._v("收货人：\n      "),i("span",[s._v(s._s(s.expressList.consigner))])]),s._v(" "),i("div",{staticClass:"cellPhone"},[s._v(s._s(s.expressList.mobile))]),s._v(" "),s._m(0),s._v(" "),i("div",{staticClass:"userAdress clearfloat"},[s._v("收货地址：\n      "),i("span",[s._v(s._s(s.expressList.address))])]),s._v(" "),s._m(1)]),s._v(" "),i("div",{staticClass:"topbar"}),s._v(" "),i("div",{staticClass:"expInfo"},[i("div",{staticClass:"expleft"},[i("div",{staticClass:"express clearfloat"},[s._v("物流公司：\n        "),i("span",[s._v(s._s(s.expressList.express))])]),s._v(" "),i("div",{staticClass:"express_no clearfloat"},[i("div",[s._v("快递单号："),i("span",{staticClass:"expressNo"},[s._v(s._s(s.expressList.expressNo))])])])]),s._v(" "),i("div",[i("clipboard",{staticClass:"clipboard",attrs:{text:s.expressList.expressNo}})],1)]),s._v(" "),i("div",{staticClass:"middlebar"}),s._v(" "),i("div",{staticClass:"package-status"},[i("div",{staticClass:"status-box"},[i("ul",{staticClass:"status-list"},s._l(s.expressInfo,function(t,e){return i("li",{key:"a"+e,staticClass:"latest"},[i("div",{staticClass:"status-content-latest"},[s._v(s._s(t.context))]),s._v(" "),i("div",{staticClass:"status-time-latest"},[s._v(s._s(t.time))]),s._v(" "),i("div",{staticClass:"status-line"})])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"userAdressLeft"},[e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15438326214449766815.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"userAdressRight"},[e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15438326289177063933.png"}})])}]};var Qt=n("VU/8")(Ft,Mt,!1,function(t){n("O7EB")},"data-v-1562e997",null).exports;r.default.use(c.a);var Vt=new c.a({routes:[{path:"/",redirect:"/list"},{path:"/list",name:"list",component:at,meta:{title:"活动列表"}},{path:"/petlist",name:"petlist",component:T,meta:{title:"宠物列表"}},{path:"/detail/:id",name:"detail",component:gt,meta:{title:"服务详情"},props:!0},{path:"/tool",name:"tool",component:bt,meta:{title:"我的道具"}},{path:"/login",name:"login",component:$t,meta:{title:"登录"}},{path:"/express",name:"express",component:Qt,meta:{title:"物流详情"}}],scrollBehavior:function(t,e,s){return s||{x:0,y:0}}});Vt.afterEach(function(t){var e;t.meta.title&&(e=t.meta.title,document.title=e,m.ios&&"4.9.999"<m.version&&(window.location.href="pethome://changeTitle_"+e))});var zt=Vt,Kt=config.cellPhoneReg;r.default.use(y.a);var Ht={getUrl:function(p){return function(t){t=t||{};var e=p.cellPhone||"",s=p.imei||"",i=p.system||"",a=p.activityId||"",n=t.taskId||"",o=t.bargainTaskId||"";console.log(t);var r=t.source||0,c=t.addressId||0,l=p.selectedPetId||"",d=p.selectedPetName||"",u=p.curtab||"";return config.bargainShareUrl+"?cellPhone="+e+"&imei="+s+"&system="+i+"&activityId="+a+"&bargainTaskId="+o+"&taskId="+n+"&selectedPetId="+l+"&addressId="+c+"&selectedPetName="+d+"&curtab="+u+"&source="+r+"&t="+config.refresh}}},Yt={saveParams:function(t,e){e.cellPhone&&Kt.test(e.cellPhone)&&(t.cellPhone=e.cellPhone),e.imei&&(t.imei=e.imei),e.system&&(t.system=e.system),e.activityId&&(t.activityId=e.activityId)},updateCellPhone:function(t,e){e&&Kt.test(e)&&(t.cellPhone=e)},setActivityInfo:function(t,e){var s=(e=e||{}).taskInfoList||[];if(s&&Array.isArray(s)&&s.length){var i=!0,a=!1,n=void 0;try{for(var o,r=h()(s);!(i=(o=r.next()).done);i=!0){var c=o.value;t.bargainList.push(c)}}catch(t){a=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw n}}t.fetchLock=!0}e.activityRule&&(t.activityRule=e.activityRule),e.activityBgPic&&(t.activityBgPic=e.activityBgPic)},setCurtab:function(t,e){e!=t.curtab&&(0<e?t.cellPhone?t.curtab=1:Z():t.curtab=0,window.scrollTo(0,0))},setSelectedPetInfo:function(t,e){var s=e.id,i=e.name,a=e.tabIndex;void 0!==s&&(t.selectedPetId=s),void 0!==i&&(t.selectedPetName=i),void 0!==a&&(t.petListCurtab=a)},setMyTaskList:function(t,e){if(e&&Array.isArray(e)){var s=!0,i=!1,a=void 0;try{for(var n,o=h()(e);!(s=(n=o.next()).done);s=!0){var r=n.value;1==r.state&&(r.stateTip="已砍<span>"+r.completePrice+"</span>元，还差<span>"+r.noCompletePrice+"</span>元"),2==r.state&&(r.stateTip='<span class="font-red">免单成功，已砍'+r.taskContent.servicePrice+"元</span>"),3==r.state&&(r.stateTipIcon="已过期",r.stateTip="未在活动时间内完成，已过期"),4==r.state&&(r.stateTipIcon="已过期",r.stateTip="未在24小时内完成，已过期"),5==r.state&&(r.stateTipIcon="已抢光",r.stateTip="小伙伴非常厉害，名额已抢光~")}}catch(t){i=!0,a=t}finally{try{!s&&o.return&&o.return()}finally{if(i)throw a}}t.myTaskList=e}},setPetList:function(t,e){t.petList=e},setToolList:function(t,e){var s=(e=e||{}).propList||[];s&&Array.isArray(s)&&(t.toolList=s)},setFetchLock:function(t,e){t.fetchLock=e},updateListpage:function(t,e){e?t.listpage=parseInt(e)||1:t.listpage++}},Wt={getBargainList:function(t){var e=this,i=t.commit,a=t.state;return ct()(ot.a.mark(function t(){var s;return ot.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return 1==a.listpage&&(a.bargainList=[]),t.prev=1,t.next=4,e={cellPhone:a.cellPhone,system:a.system,imei:a.imei,activityId:a.activityId,petId:a.selectedPetId,page:a.listpage},R({url:lt+"/pet-api/bargain/loadBargainListPage",data:e});case 4:if(!(s=t.sent).data){t.next=11;break}i("setActivityInfo",s.data),0==s.data.status&&Toast("活动未开始"),2==s.data.status&&Toast("活动已结束"),t.next=12;break;case 11:throw new Error(s);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.warn(t.t0);case 17:case"end":return t.stop()}var e},t,e,[[1,14]])}))()},getMyTaskList:function(t){var e=this,i=t.commit,a=t.state;return ct()(ot.a.mark(function t(){var s;return ot.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e={cellPhone:a.cellPhone,system:a.system,imei:a.imei,activityId:a.activityId},R({url:lt+"/pet-api/bargain/loadBargainUserTaskList",data:e});case 3:if(!(s=t.sent).data||!s.data.taskList){t.next=8;break}i("setMyTaskList",s.data.taskList),t.next=9;break;case 8:throw new Error(s);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.warn(t.t0);case 14:case"end":return t.stop()}var e},t,e,[[0,11]])}))()},getPetList:function(t,i){var e=this,a=t.commit,n=t.state;return ct()(ot.a.mark(function t(){var s;return ot.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e={cellPhone:n.cellPhone,system:n.system,imei:n.imei,activityId:n.activityId,petName:i||""},R({url:lt+"/pet-api/pet/queryActivityBargainPetList\n        ",data:e});case 3:if(!(s=t.sent).data){t.next=8;break}a("setPetList",s.data),t.next=9;break;case 8:throw new Error(s);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.warn(t.t0);case 14:case"end":return t.stop()}var e},t,e,[[0,11]])}))()},getToolList:function(t){var s=this,i=t.commit,a=t.state;return ct()(ot.a.mark(function t(){var e;return ot.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ut({cellPhone:a.cellPhone,system:a.system,imei:a.imei,activityId:a.activityId});case 3:if(!(e=t.sent).data){t.next=8;break}i("setToolList",e.data),t.next=9;break;case 8:throw new Error(e);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.warn(t.t0);case 14:case"end":return t.stop()}},t,s,[[0,11]])}))()}},Xt=new y.a.Store({state:{cellPhone:"",system:"",imei:"",activityId:"",taskId:"",selectedPetId:"",selectedPetName:"",petListCurtab:0,curtab:0,bargainList:[],activityRule:"",activityBgPic:"",myTaskList:[],petList:[],toolList:[],fetchLock:!1,listpage:1},getters:Ht,actions:Wt,mutations:Yt}),Jt=n("cTzj"),Zt=n.n(Jt),Gt=d(),te=(g()({},Object(y.d)(["saveParams","updateCellPhone","setCurtab","setSelectedPetInfo"]),Object(y.b)(["getBargainList","getMyTaskList"])),d()),ee={name:"App",methods:g()({},Object(y.d)(["saveParams","updateCellPhone","setCurtab","setSelectedPetInfo"]),Object(y.b)(["getBargainList","getMyTaskList"])),created:function(){window.taskInfo={},window.expressList={},window.addressInfo={},window.taskId="",window.expressList=[],this.saveParams(te),this.setCurtab(te.curtab),this.setSelectedPetInfo({id:te.selectedPetId,name:decodeURIComponent(te.selectedPetName||"")}),te.petredirect&&this.$router.push(te.petredirect),this.getBargainList(),te.cellPhone?this.getMyTaskList():window.init_roll=function(t){var e=kt({cellPhone:t});window.location.href=e}}},se={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var ie=n("VU/8")(ee,se,!1,function(t){n("yQoG")},null,null).exports;n("UoMW");!function(t,e){if((e=e||{}).favicon){var s=[];t.querySelector('link[rel="shortcut icon"]')&&s.push(t.querySelector('link[rel="shortcut icon"]')),t.querySelector('link[rel="icon"]')&&s.push(t.querySelector('link[rel="icon"]')),t.querySelector('link[rel="apple-touch-icon-precomposed"]')&&s.push(t.querySelector('link[rel="apple-touch-icon-precomposed"]'));var i=!0,a=!1,n=void 0;try{for(var o,r=h()(s);!(i=(o=r.next()).done);i=!0){o.value.setAttribute("href",e.favicon)}}catch(t){a=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw n}}}}(document,config);var ae=n("7QTg"),ne=n.n(ae);n("v2ns");window.Toast=o.a;r.default.use(ne.a),r.default.use(Zt.a),window.Toast=o.a,r.default.component(i.a.name,i.a),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".clipboard",i=new Et.a(t);new D.a(function(e,s){i.on("success",function(t){o()("复制成功"),e()}),i.on("error",function(t){o()("该浏览器不支持自动复制"),s(new Error("该浏览器不支持自动复制"))})})}(),new r.default({router:zt,store:Xt,components:{App:ie},render:function(t){return t(ie)}}).$mount("#app")},"K/Wb":function(t,e){t.exports={petlist:"src-components-petList--index-24w8N_0",tab:"src-components-petList--index-18pOV_0",active:"src-components-petList--index-1TIBC_0",search:"src-components-petList--index-2QJCm_0",title:"src-components-petList--index-1l6qi_0",item:"src-components-petList--index-3NyQf_0"}},O7EB:function(t,e){},OagU:function(t,e,s){t.exports=s.p+"../../../static/images/icons/arrow.png"},OgVB:function(t,e){},PZyx:function(t,e){},Uaze:function(t,e){t.exports={countdown:"src-components-201809--countdown-mSYSS_0"}},UoMW:function(t,e){var s,i,a,n,o,r;s=document,i=window,a=s.documentElement,n=i.config.pageWidth,o="orientationchange"in i?"orientationchange":"resize",r=function(){var t=a.clientWidth;a.style.fontSize=0<n?(t&&t<n?t:n)/7.5+"px":t/7.5+"px"},s.addEventListener&&(i.addEventListener(o,r,!1),s.addEventListener("DOMContentLoaded",r,!1),setTimeout(function(){0===parseInt(s.defaultView.getComputedStyle(a).fontSize)&&r()},3e3))},XiaZ:function(t,e){},YRwD:function(t,e,s){t.exports=s.p+"../../../static/images/icons/clear.png"},gYCJ:function(t,e){},"q/am":function(t,e){},sKV8:function(t,e,s){t.exports=s.p+"../../../static/images/icons/allright.png"},v2ns:function(t,e){},vEvm:function(t,e){},yQoG:function(t,e){}},["Iatn"]);
//# sourceMappingURL=app.0afd479b5700127d73f9.js.map
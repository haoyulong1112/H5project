webpackJsonp([1],{"0U5V":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o("q/am");var n=o("4VPn"),a=o.n(n),i=(o("34+y"),o("X+yh")),s=o.n(i),r=o("/5sW"),c=o("cTzj"),l=o.n(c),d=o("//Fk"),m=o.n(d),u=o("pFYg"),p=o.n(u),v=o("fZjL"),f=o.n(v),g=[],h=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new m.a(function(e,n){var a=t.url;if(!t.concurrent){if(a=a.split("?")[0],-1!==g.indexOf(a))return void n(new Error("请求并发 "+a));g.push(a)}(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.type?t.type.toUpperCase():"POST",s=t.url||"",r=t.contentType||"application/x-www-form-urlencoded",c=t.data||{},l=!1!==t.async;return new m.a(function(e,n){var a={};a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var o="";f()(c).forEach(function(t){o+=t+"="+c[t]+"&"}),o=o.substr(0,o.lastIndexOf("&")),"GET"==i?(s=o?s+"?"+o:s,a.open(i,s,l),a.setRequestHeader("Content-type",r),a.send()):"POST"==i?(a.open(i,s,l),a.setRequestHeader("Content-type",r),a.send(o)):n(new Error("不支持的type")),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status){var t=a.response;"object"!==(void 0===t?"undefined":p()(t))&&(t=JSON.parse(t)),e(t)}else n(a)}})})(t).then(function(t){0===t.code?e(t):n(t)}).catch(function(t){n(t)}).finally(function(){var t=g.indexOf(a);-1!==t&&g.splice(t,1)})})},w=envConfig.requestDomain,x=function(t){return h({url:w+"/pet-api/shop/info",data:t})},_=function(t){return h({url:w+"/pet-api/comment/shop",data:t})},y=o("BO1k"),b=o.n(y),C=function(){var t=window.location.href.split("?"),e={};if(1<t.length){var n=t[1],a=-1!==n.indexOf("%23/")?n.indexOf("%23/"):n.indexOf("#/");-1!==a&&(n=n.substr(0,a));var o=!0,i=!1,s=void 0;try{for(var r,c=b()(n.split("&"));!(o=(r=c.next()).done);o=!0){var l=r.value.split("=");l[0]&&(e[l[0]]=l[1]||"")}}catch(t){i=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw s}}}return e},D=o("Xxa5"),A=o.n(D),S=o("exGp"),k=o.n(S),N=o("fxnj"),T=o.n(N),I=envConfig.requestDomain,O=(envConfig.manageDomain,envConfig.requestDomain,envConfig.requestDomain,envConfig.requestDomain,navigator.userAgent),$=(-1<O.indexOf("Android")||O.indexOf("Linux"),-1<O.indexOf("iPhone")||O.indexOf("iPad"),O.indexOf("iPhone"),-1<O.toLowerCase().indexOf("micromessenger")),L=this,q=function(i){if(!$)return!1;var n,t=config.shareImg,s=config.wxShareDebug;return(i=i||{}).title=i.title||"",i.desc=i.desc||"",i.link=i.link||window.location.href,i.imgUrl=i.imgUrl||t,new m.a((n=k()(A.a.mark(function t(n,a){var o;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(e=location.href,h({url:I+"/pet-api/wx/sign",data:{url:encodeURIComponent(e)},type:"get"})).catch(function(){a(new Error("sign error"))});case 2:0!==(o=t.sent).code&&a(new Error("sign code "+o.code+" "+o.msg)),T.a.config({debug:!0===s,appId:o.data.appId,timestamp:o.data.timestamp,nonceStr:o.data.nonceStr,signature:o.data.signature,jsApiList:["onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ"]}),i.success=function(t){n(t)},i.cancel=function(t){n(t)},T.a.ready(function(){T.a.onMenuShareAppMessage(i),T.a.onMenuShareTimeline(i),T.a.onMenuShareQQ(i)});case 8:case"end":return t.stop()}var e},t,L)})),function(t,e){return n.apply(this,arguments)}))},M=o("bOdI"),U=o.n(M),F=config.downloadApp,P=config.downloadLogo,z=config.downloadTitle,W=config.downloadDescription,E=(String,config.downloadApp),R=config.downloadLogo,Q=config.downloadTitle,V=config.downloadDescription,j={name:"download",props:{position:{type:String,default:"bottom"}},data:function(){return{style:U()({},this.position,0),downloadLogo:R,downloadTitle:Q,downloadDescription:V}},methods:{downloadApp:E}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.download,style:t.style},[n("div",{class:t.$style.content},[n("img",{attrs:{src:t.downloadLogo,alt:"宠物家"}}),t._v(" "),n("div",{class:t.$style.slogen},[n("span",{domProps:{textContent:t._s(t.downloadTitle)}}),t._v(" "),n("span",{domProps:{textContent:t._s(t.downloadDescription)}})])]),t._v(" "),n("div",{class:t.$style.btn,on:{click:t.downloadApp}},[t._v("立即打开")])])},staticRenderFns:[]};var X=o("VU/8")(j,G,!1,function(t){this.$style=o("C9wM")},null,null).exports,Y=o("TQvf"),K=o.n(Y);window.Toast=s.a;String,String;window.Toast=s.a;var H={name:"clipboard",props:{text:{type:String,default:""},className:{type:String,default:"clipboard"}},created:function(){var e=this,t=new K.a("."+this.className);t.on("success",function(t){s()("复制成功"),e.$emit("success")}),t.on("error",function(t){s()("该浏览器不支持自动复制"),e.$emit("error")})}},Z={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{class:t.className,attrs:{"data-clipboard-action":"copy","data-clipboard-text":t.text}},[t._t("default",[t._v("复制")])],2)},staticRenderFns:[]},B=o("VU/8")(H,Z,!1,null,null,null).exports,J=(Number,String,String,{name:"star",props:{score:{type:Number,default:0},width:{type:String,default:"0.22rem"},margin:{type:String,default:"0.04rem"}},computed:{starList:function(){var t=[];if(this.score)for(var e=1;e<Math.ceil(this.score)+1;++e)t.push({half:e>this.score});return t},propStyle:function(){return{width:this.width,marginRight:this.margin}}}}),tt={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{class:n.$style.star},n._l(n.starList,function(t,e){return a("span",{key:"a"+e,class:{half:t.half}},[a("img",{style:n.propStyle,attrs:{src:o("KKqZ")}})])}))},staticRenderFns:[]};var et=o("VU/8")(J,tt,!1,function(t){this.$style=o("xAcg")},null,null).exports,nt=config.userAvatar,at=config.downloadApp,ot=(Array,config.userAvatar),it=config.downloadApp,st={name:"comment",props:{commentData:{type:Array,default:function(t){return t||[]}}},data:function(){return{userAvatar:ot}},methods:{downloadApp:it},components:{starComp:et}},rt={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{class:n.$style.commentComp},n._l(n.commentData,function(t,e){return a("div",{key:"a"+e,class:n.$style.item,on:{click:n.downloadApp}},[a("div",{class:n.$style.info},[a("div",[a("div",{class:n.$style.avatar},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.user.avatar,error:n.userAvatar},expression:"{src: item.user.avatar, error: userAvatar}"}],key:t.user.avatar}),n._v(" "),t.user.isVip?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o("QCzp"),expression:"require('@static/images/icons/vip.png')"}]}):n._e()]),n._v(" "),a("div",{class:n.$style.name},[a("div",{domProps:{textContent:n._s(t.user.userName)}}),n._v(" "),a("star-comp",{attrs:{score:t.grade}})],1)]),n._v(" "),a("div",{domProps:{textContent:n._s(t.created)}})]),n._v(" "),a("div",{class:n.$style.content,domProps:{textContent:n._s(t.content)}}),n._v(" "),a("div",{class:n.$style.imgList},n._l(t.imgList,function(t,e){return a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],key:"b"+e})})),n._v(" "),a("div",{class:n.$style.tip},[t.serviceName?a("span",{domProps:{textContent:n._s(t.serviceName)}}):n._e(),n._v(" "),t.appointment?a("span",[n._v("服务时间: "+n._s(t.appointment))]):n._e()])])}))},staticRenderFns:[]};var ct=o("VU/8")(st,rt,!1,function(t){this.$style=o("ucY4")},null,null).exports,lt=(config.downloadApp,config.getFullImgUrl,config.userAvatar,config.downloadApp),dt=config.getFullImgUrl,mt=config.userAvatar,ut={name:"Index",data:function(){return{userAvatar:mt,swiperOption:{autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",bulletClass:"swiper-pagination-bullet"}},bannerData:[],titleData:{name:"",phone:"",openTime:"",wxnum:"",wximg:"",address:""},curtab:0,serviceData:[],memberData:[],commentData:[],totalAmount:"",showWximg:!1}},computed:{tabData:function(){return["服务项目","店铺成员","店铺评价"+this.totalAmount]}},created:function(){var o=this,i=C();x(i).then(function(t){var e=t.data;if(e){o.infoFilter(e);var n={};e.share&&(e.share.title&&(n.title=e.share.title),e.share.desc&&(n.desc=e.share.desc),e.share.img&&(n.imgUrl=e.share.img)),q(n)}var a=i;a.shopId=i.shopId||"",a.size=2,a.system=i.system||"",_(a).then(function(t){o.commentFilter(t.data)})}).catch(function(t){console.warn(t),t.msg&&Toast(t.msg)})},methods:{downloadApp:lt,getFullImgUrl:dt,tabClick:function(t){this.curtab=t},infoFilter:function(t){t.bannerImg&&(this.bannerData=t.bannerImg),t.shopName&&(this.titleData.name=t.shopName),t.address&&(this.titleData.address=t.address),t.shopWxNum&&(this.titleData.wxnum=t.shopWxNum),t.shopWxImg&&(this.titleData.wximg=t.shopWxImg),t.phone&&(this.titleData.phone=t.phone),t.openTime&&(this.titleData.openTime=t.openTime),t.serviceItems&&(this.serviceData=t.serviceItems),t.members&&(this.memberData=t.members)},commentFilter:function(t){(t=t||{}).totalAmount&&(this.totalAmount="("+t.totalAmount+")");var e=t.dataset;if(e)for(var n=0,a=e.length;n<a&&2!==n;++n)this.commentData.push(e[n])},getTotalAmount:function(t){t&&(this.totalAmount="("+t+")")}},components:{downloadComp:X,clipboard:B,commentComp:ct}},pt={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"index"},[a("div",{staticClass:"banner"},[a("div",{staticClass:"banner-box",on:{click:n.downloadApp}},[a("swiper",{attrs:{options:n.swiperOption}},[n._l(n.bannerData,function(t,e){return a("swiper-slide",{key:"a"+e},[a("img",{staticClass:"banner-swiper-item",attrs:{src:t.img}})])}),n._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1<n.bannerData.length,expression:"bannerData.length > 1"}],staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]),n._v(" "),a("div",{staticClass:"title"},[a("div",{staticClass:"title-name"},[a("span",{domProps:{textContent:n._s(n.titleData.name)}}),n._v(" "),n.titleData.phone?a("a",{attrs:{href:"tel:"+n.titleData.phone}},[a("img",{attrs:{src:o("O5+G")}})]):n._e()]),n._v(" "),a("div",{staticClass:"title-opentime"},[a("span",[n._v("营业时间：")]),a("span",{domProps:{textContent:n._s(n.titleData.openTime)}})]),n._v(" "),a("div",{staticClass:"title-wx"},[a("span",[n._v("店铺微信：")]),a("span",{domProps:{textContent:n._s(n.titleData.wxnum)}}),n._v(" "),a("img",{attrs:{src:o("GQ0W")},on:{click:function(t){n.showWximg=!0}}})]),n._v(" "),a("div",{staticClass:"title-address"},[a("div",[n._v("地      址：")]),a("span",{domProps:{textContent:n._s(n.titleData.address)}})])]),n._v(" "),a("div",{staticClass:"tab"},n._l(n.tabData,function(t,e){return a("div",{key:"c"+e,class:{active:n.curtab===e},on:{click:function(t){n.tabClick(e)}}},[n._v(n._s(t))])})),n._v(" "),a("div",{staticClass:"content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===n.curtab,expression:"curtab === 0"}],staticClass:"content-list"},n._l(n.serviceData,function(t,e){return a("div",{key:"d"+e,on:{click:n.downloadApp}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:n.getFullImgUrl(t.img),error:n.userAvatar},expression:"{src: getFullImgUrl(item.img), error: userAvatar}"}],key:t.img}),n._v(" "),a("div",{domProps:{textContent:n._s(t.itemName)}})])})),n._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===n.curtab,expression:"curtab === 1"}],staticClass:"content-list"},n._l(n.memberData,function(t,e){return a("div",{key:"d"+e,on:{click:n.downloadApp}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:n.getFullImgUrl(t.avatar),error:n.userAvatar},expression:"{src: getFullImgUrl(item.avatar), error: userAvatar}"}],key:t.avatar}),n._v(" "),a("div",{domProps:{textContent:n._s(t.realName)}}),n._v(" "),a("div",{domProps:{textContent:n._s(t.duty)}})])})),n._v(" "),a("comment-comp",{directives:[{name:"show",rawName:"v-show",value:2===n.curtab,expression:"curtab === 2"}],attrs:{commentData:n.commentData}})],1),n._v(" "),a("mt-popup",{attrs:{zIndex:"990"},model:{value:n.showWximg,callback:function(t){n.showWximg=t},expression:"showWximg"}},[a("div",{staticClass:"wximg"},[a("div",{staticClass:"wximg-content"},[a("div",{staticClass:"wximg-title"},[a("div",[n._v("阿宠微信号："+n._s(n.titleData.wxnum))]),n._v(" "),a("clipboard",{attrs:{text:n.titleData.wxnum}})],1),n._v(" "),a("div",{staticClass:"wximg-img"},[a("img",{attrs:{src:n.titleData.wximg}})]),n._v(" "),a("div",{staticClass:"wximg-tip"},[a("span",[n._v("长按保存到相册")])])]),n._v(" "),a("div",{staticClass:"wximg-btn",on:{click:function(t){n.showWximg=!1}}},[a("img",{attrs:{src:o("YRwD")}})])])]),n._v(" "),a("download-comp")],1)])},staticRenderFns:[]};var vt=o("VU/8")(ut,pt,!1,function(t){o("8R3g"),o("LM4N")},null,null).exports;o("UoMW");!function(t,e){if((e=e||{}).favicon){var n=[];t.querySelector('link[rel="shortcut icon"]')&&n.push(t.querySelector('link[rel="shortcut icon"]')),t.querySelector('link[rel="icon"]')&&n.push(t.querySelector('link[rel="icon"]')),t.querySelector('link[rel="apple-touch-icon-precomposed"]')&&n.push(t.querySelector('link[rel="apple-touch-icon-precomposed"]'));var a=!0,o=!1,i=void 0;try{for(var s,r=b()(n);!(a=(s=r.next()).done);a=!0){s.value.setAttribute("href",e.favicon)}}catch(t){o=!0,i=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw i}}}}(document,config);var ft=o("7QTg"),gt=o.n(ft);o("v2ns");window.Toast=s.a;r.default.use(gt.a),r.default.use(l.a),window.Toast=s.a,r.default.component(a.a.name,a.a),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".clipboard",a=new K.a(t);new m.a(function(e,n){a.on("success",function(t){s()("复制成功"),e()}),a.on("error",function(t){s()("该浏览器不支持自动复制"),n(new Error("该浏览器不支持自动复制"))})})}(),new r.default({components:{index:vt},render:function(t){return t(vt)}}).$mount("#app")},"34+y":function(t,e){},"8R3g":function(t,e){},C9wM:function(t,e){t.exports={download:"src-components--download-2plWg_0",content:"src-components--download-2NSBQ_0",slogen:"src-components--download-247vd_0",btn:"src-components--download-EF7YX_0"}},GQ0W:function(t,e,n){t.exports=n.p+"../../../static/images/icons/qrcode.png"},KKqZ:function(t,e,n){t.exports=n.p+"../../../static/images/icons/star.png"},LM4N:function(t,e){},"O5+G":function(t,e,n){t.exports=n.p+"../../../static/images/icons/phone-green.png"},QCzp:function(t,e,n){t.exports=n.p+"../../../static/images/icons/vip.png"},UoMW:function(t,e){var n,a,o,i,s,r;n=document,a=window,o=n.documentElement,i=a.config.pageWidth,s="orientationchange"in a?"orientationchange":"resize",r=function(){var t=o.clientWidth;o.style.fontSize=0<i?(t&&t<i?t:i)/7.5+"px":t/7.5+"px"},n.addEventListener&&(a.addEventListener(s,r,!1),n.addEventListener("DOMContentLoaded",r,!1),setTimeout(function(){0===parseInt(n.defaultView.getComputedStyle(o).fontSize)&&r()},3e3))},YRwD:function(t,e,n){t.exports=n.p+"../../../static/images/icons/clear.png"},"q/am":function(t,e){},ucY4:function(t,e){t.exports={"comment-comp":"src-components-201809--comment-16Nr9_0",commentComp:"src-components-201809--comment-16Nr9_0",item:"src-components-201809--comment-3NlmG_0",info:"src-components-201809--comment-3KF-4_0",avatar:"src-components-201809--comment-2b3ST_0",name:"src-components-201809--comment-2ebMI_0",content:"src-components-201809--comment-2djjT_0",tip:"src-components-201809--comment-1LM7w_0",imgList:"src-components-201809--comment-2kdbv_0"}},v2ns:function(t,e){},xAcg:function(t,e){t.exports={star:"src-components-201809--star-Q_8Vb_0"}}},["0U5V"]);
//# sourceMappingURL=app.82dfe9f5dd52f2fd8f09.js.map
webpackJsonp([1],{"34+y":function(e,t){},"6vK1":function(e,t){},OBk9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("34+y");var s=a("X+yh"),i=a.n(s),n=a("/5sW"),o=a("cTzj"),r=a.n(o),l=a("//Fk"),d=a.n(l),c=a("pFYg"),v=a.n(c),u=a("fZjL"),p=a.n(u),h=[],m=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new d.a(function(t,a){var s=e.url;if(!e.concurrent){if(s=s.split("?")[0],-1!==h.indexOf(s))return void a(new Error("请求并发 "+s));h.push(s)}(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.type?e.type.toUpperCase():"POST",o=e.url||"",r=e.contentType||"application/x-www-form-urlencoded",l=e.data||{},c=!1!==e.async;return new d.a(function(t,a){var s={};s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var i="";p()(l).forEach(function(e){i+=e+"="+l[e]+"&"}),i=i.substr(0,i.lastIndexOf("&")),"GET"==n?(o=i?o+"?"+i:o,s.open(n,o,c),s.setRequestHeader("Content-type",r),s.send()):"POST"==n?(l.system&&(o=0<o.indexOf("?")?o+"&system="+l.system:o+"?system="+l.system),s.open(n,o,c),s.setRequestHeader("Content-type",r),s.send(i)):a(new Error("不支持的type")),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status){var e=s.response;"object"!==(void 0===e?"undefined":v()(e))&&(e=JSON.parse(e)),t(e)}else a(s)}})})(e).then(function(e){0===e.code?t(e):a(e)}).catch(function(e){a(e)}).finally(function(){var e=h.indexOf(s);-1!==e&&h.splice(e,1)})})},f=envConfig.requestDomain,w=function(e){return m({url:f+"/pet-api/serviceCardTemplate/serviceCardTemplateDetail",type:"get",data:e})},g=a("BO1k"),_=a.n(g),x=function(){var e=window.location.href.split("?"),t={};if(1<e.length){var a=e[1],s=-1!==a.indexOf("%23/")?a.indexOf("%23/"):a.indexOf("#/");-1!==s&&(a=a.substr(0,s));var i=!0,n=!1,o=void 0;try{for(var r,l=_()(a.split("&"));!(i=(r=l.next()).done);i=!0){var c=r.value.split("=");c[0]&&(t[c[0]]=c[1]||"")}}catch(e){n=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw o}}}return t},C=a("fxnj"),T=a.n(C),D=a("Xxa5"),y=a.n(D),S=a("exGp"),b=a.n(S),k=envConfig.requestDomain,O=(envConfig.manageDomain,envConfig.requestDomain,envConfig.requestDomain,envConfig.requestDomain,navigator.userAgent),M={android:-1<O.indexOf("Android")||-1<O.indexOf("Linux"),ios:-1<O.indexOf("iPhone")||-1<O.indexOf("iPad"),iphone:-1<O.indexOf("iPhone"),weixin:-1<O.toLowerCase().indexOf("micromessenger")},A=this,N=function(i,e){return new d.a(function(t,a){var l,s;(e=e||{}).jsApiList=e.jsApiList||["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],(i=i||{}).link=i.link||window.location.href,i.imgUrl=i.imgUrl||config.shareImg,(l=e,new d.a((s=b()(y.a.mark(function e(a,s){var i,n,o,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("wxconfig",M),M.weixin){e.next=4;break}return s(new Error("wxconfig 非微信浏览器")),e.abrupt("return");case 4:if(i=(l=l||{}).url||location.href,n=l.signData,o=config.wxShareDebug,n){e.next=13;break}return e.next=11,(t=i,m({url:k+"/pet-api/wx/sign",data:{url:encodeURIComponent(t)},type:"get"})).catch(function(e){s(new Error("sign error "+(e.code||"")+" "+(e.msg||"")))});case 11:r=e.sent,n={appId:r.data.appId,timestamp:r.data.timestamp,nonceStr:r.data.nonceStr,signature:r.data.signature};case 13:n.debug=!0===o,n.jsApiList=l.jsApiList,console.log(n),T.a.config(n),T.a.ready(function(e){console.log("ready"),console.log(e),a(n)}),T.a.error(function(e){console.log("error"),console.log(e),s(e)});case 19:case"end":return e.stop()}var t},e,A)})),function(e,t){return s.apply(this,arguments)}))).then(function(e){T.a.onMenuShareTimeline(i),T.a.onMenuShareAppMessage(i),T.a.onMenuShareQQ(i),T.a.onMenuShareWeibo(i),T.a.onMenuShareQZone(i),t(e)}).catch(function(e){a(e)})})},P=(config.downloadApp,config.getFullImgUrl,{name:"Index",data:function(){return{swiperOption:{autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",bulletClass:"swiper-pagination-bullet"}},bannerData:[],stock:"",detailData:[],tagText:[],couponData:[],faceValue:"",isDesc:!1,salePrice:"",starttext:"",endtext:"",hours:"00",mins:"00",seconds:"00",saleProcessUrl:"",shopText:"",discountDesc:[],serviceCardTypeName:"",subTitle:"",useExplain:"",isCanSaled:"",times:0,couponshow:!1,indexshow:!1,endtime:!1,countdownshow:!1,newtagText:"",newText:""}},created:function(){var s=this;console.log(this.tagText);var e=x();console.log(e),w(e).then(function(e){var t=e.data;if(t){s.indexshow=!0,s.infoFilter(t);var a={};t.share&&(t.share.title&&(a.title=t.share.title),t.share.desc&&(a.desc=t.share.desc),t.share.img&&(a.imgUrl=t.share.img)),N(a)}}).catch(function(e){e.msg&&Toast(e.msg)})},methods:{downloadApp:config.downloadApp,getFullImgUrl:config.getFullImgUrl,infoFilter:function(e){if(e.cardTemplateDetail){if(e.cardTemplateDetail.banner&&(this.bannerData=e.cardTemplateDetail.banner.split(",")),e.cardTemplateDetail.faceValue&&(this.faceValue=e.cardTemplateDetail.faceValue),e.cardTemplateDetail.salePrice&&(this.salePrice=e.cardTemplateDetail.salePrice),e.cardTemplateDetail.useExplain){this.useExplain=e.cardTemplateDetail.useExplain;var t=this.useExplain.replace(/\n/g,"<br />");console.log(t),this.newText=t}if(e.cardTemplateDetail.detailPic&&(console.log(e.cardTemplateDetail.detailPic),this.detailData=e.cardTemplateDetail.detailPic.split(",")),0<e.cardTemplateDetail.discountDescOrder.length){var a=e.cardTemplateDetail.discountDescOrder;console.log(a);var s=[];for(var i in a){var n=a[i].split("@@").join("");s.push(n)}this.discountDesc=s,console.log(this.discountDesc),this.isDesc=!0}if(e.cardTemplateDetail.serviceCardTypeName&&(this.serviceCardTypeName=e.cardTemplateDetail.serviceCardTypeName),e.cardTemplateDetail.subTitle&&(this.subTitle=e.cardTemplateDetail.subTitle),e.cardTemplateDetail.typeContentList){this.tagText=e.cardTemplateDetail.typeContentList;var o="";for(var r in this.tagText)o+=this.tagText[r].tagText+"·";o=o.substring(0,o.length-1),this.newtagText=o}0==e.cardTemplateDetail.isShowTime?(this.countdownshow=!0,0<e.cardTemplateDetail.saleTimeStart&&(this.endtime=!1,this.starttext=e.cardTemplateDetail.showTimeStartDesc,this.times=e.cardTemplateDetail.saleTimeStart,this.timedown(this.times)),0==e.cardTemplateDetail.saleTimeStart&&(this.endtime=!0,this.endtext=e.cardTemplateDetail.showTimeEndDesc,this.times=e.cardTemplateDetail.saleTimeEnd,this.timedown(this.times))):this.countdownshow=!1}0<e.couponList.length&&(this.couponshow=!0,this.couponData=e.couponList),e.saleText&&(this.stock=e.saleText),e.shopText&&(this.shopText=e.shopText),e.saleProcessUrl&&(this.saleProcessUrl=e.saleProcessUrl),this.isCanSaled=e.isCanSaled},timedown:function(e){var t=this,a=e%86400;this.hours=Math.floor(a/3600),this.hours<10&&(this.hours="0"+Math.floor(a/3600)),a%=3600,this.mins=Math.floor(a/60),this.mins<10&&(this.mins="0"+Math.floor(a/60)),this.seconds=a%60,this.seconds<10&&(this.seconds="0"+a%60),--e<0||setTimeout(function(){t.timedown(e)},1e3)}}}),E={render:function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:a.indexshow,expression:"indexshow"}],staticClass:"index"},[s("div",{staticClass:"banner"},[s("div",{staticClass:"banner-box",on:{click:a.downloadApp}},[s("swiper",{attrs:{options:a.swiperOption}},[a._l(a.bannerData,function(e,t){return s("swiper-slide",{key:"a"+t},[s("img",{staticClass:"banner-swiper-item",attrs:{src:e}})])}),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1<a.bannerData.length,expression:"bannerData.length > 1"}],staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]),a._v(" "),s("div",{staticClass:"faceValue"},[s("div",{staticClass:"left"},[s("span",{staticClass:"span1"},[a._v("￥")]),s("span",{staticClass:"span2"},[a._v(a._s(a.salePrice))]),s("span",{staticClass:"span3"},[a._v("面值￥"+a._s(a.faceValue))])]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.countdownshow,expression:"countdownshow"}],staticClass:"right"},[s("div",{staticClass:"countdown"},[s("div",{directives:[{name:"show",rawName:"v-show",value:a.endtime,expression:"endtime"}]},[a._v(a._s(a.endtext))]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!a.endtime,expression:"!endtime"}]},[a._v(a._s(a.starttext))]),a._v(" "),s("div",[s("span",[a._v(a._s(a.hours))]),a._v(":"),s("span",[a._v(a._s(a.mins))]),a._v(":"),s("span",[a._v(a._s(a.seconds))])])])])]),a._v(" "),s("div",{staticClass:"title"},[s("div",{staticClass:"top"},[s("div",[s("div",{class:a.isDesc?"second isDesc":"second"},[a._v(a._s(a.serviceCardTypeName))]),a._v(" "),s("div",{staticClass:"stock"},[a._v(a._s(a.stock))])]),a._v(" "),a._l(a.discountDesc,function(e,t){return s("div",{directives:[{name:"show",rawName:"v-show",value:a.isDesc,expression:"isDesc"}],key:"d"+t,staticClass:"zhekou"},[a._v(a._s(e))])})],2),a._v(" "),s("div",{staticClass:"bottom"},[s("div",[a._v(a._s(a.subTitle))])])]),a._v(" "),s("div",{staticClass:"line"}),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.couponshow,expression:"couponshow"}],staticClass:"coupon"},[s("div",{staticClass:"give"},[a._v("赠送")]),a._v(" "),s("div",{staticClass:"couponlist"},a._l(a.couponData,function(e,t){return s("div",{key:"c"+t},[s("span",{staticClass:"couponname"},[a._v(a._s(e.name))]),a._v("("+a._s(e.amount)+"张)")])})),a._v(" "),s("span",{staticClass:"greater",on:{click:a.downloadApp}},[a._v("查看更多")])]),a._v(" "),s("div",{staticClass:"middle"},[s("div",{staticClass:"select"},[s("div",{staticClass:"left"},[a._v("已选")]),a._v(" "),s("div",{staticClass:"right",on:{click:a.downloadApp}},[a._v(a._s(a.serviceCardTypeName)+" ⋅ 面值￥"+a._s(a.faceValue)+" ⋅ ×1")])]),a._v(" "),s("div",{staticClass:"shop"},[s("div",{staticClass:"left"},[a._v("适用门店")]),a._v(" "),s("div",{staticClass:"right",on:{click:a.downloadApp}},[a._v(a._s(a.shopText))])]),a._v(" "),s("div",{staticClass:"server"},[s("div",{staticClass:"left"},[a._v("服务")]),a._v(" "),s("div",{staticClass:"right",on:{click:a.downloadApp}},[a._v(a._s(a.newtagText))])])]),a._v(" "),a._m(0),a._v(" "),s("div",{staticClass:"instructions"},[s("div",{staticClass:"title"},[a._v("使用说明")]),a._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"useexplain",domProps:{innerHTML:a._s(a.newText)}}),a._v(" "),a._l(a.detailData,function(e,t){return s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],key:"b"+t,on:{click:a.downloadApp}})})],2)]),a._v(" "),s("div",{staticClass:"total"},[s("div",{staticClass:"left"},[a._v("\n                  合计："),s("span",[a._v("￥"+a._s(a.salePrice))])]),a._v(" "),s("div",{staticClass:"right"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==a.isCanSaled,expression:"isCanSaled == 0"}],staticClass:"goprice",on:{click:a.downloadApp}},[a._v("去付款")]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==a.isCanSaled,expression:"isCanSaled == 1"}],staticClass:"sellout"},[a._v("已售罄")]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==a.isCanSaled,expression:"isCanSaled == 2"}],staticClass:"sellout"},[a._v("未开始")]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3==a.isCanSaled,expression:"isCanSaled == 3"}],staticClass:"sellout"},[a._v("已结束")]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:4==a.isCanSaled,expression:"isCanSaled == 4"}],staticClass:"sellout"},[a._v("去付款")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"procedure"},[t("div",{staticClass:"title"},[this._v("— 流程 —")]),this._v(" "),t("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15547133661932580044.png"}})])}]};var L=a("VU/8")(P,E,!1,function(e){a("6vK1"),a("jRxm")},null,null).exports;a("UoMW");!function(e,t){if((t=t||{}).favicon){var a=[];e.querySelector('link[rel="shortcut icon"]')&&a.push(e.querySelector('link[rel="shortcut icon"]')),e.querySelector('link[rel="icon"]')&&a.push(e.querySelector('link[rel="icon"]')),e.querySelector('link[rel="apple-touch-icon-precomposed"]')&&a.push(e.querySelector('link[rel="apple-touch-icon-precomposed"]'));var s=!0,i=!1,n=void 0;try{for(var o,r=_()(a);!(s=(o=r.next()).done);s=!0){o.value.setAttribute("href",t.favicon)}}catch(e){i=!0,n=e}finally{try{!s&&r.return&&r.return()}finally{if(i)throw n}}}}(document,config);var q=a("7QTg"),U=a.n(q);a("v2ns");n.default.use(U.a),n.default.use(r.a),window.Toast=i.a,new n.default({components:{index:L},render:function(e){return e(L)}}).$mount("#app")},UoMW:function(e,t){var a,s,i,n,o,r;a=document,s=window,i=a.documentElement,n=s.config.pageWidth,o="orientationchange"in s?"orientationchange":"resize",r=function(){var e=i.clientWidth;i.style.fontSize=0<n?(e&&e<n?e:n)/7.5+"px":e/7.5+"px"},a.addEventListener&&(s.addEventListener(o,r,!1),a.addEventListener("DOMContentLoaded",r,!1),setTimeout(function(){0===parseInt(a.defaultView.getComputedStyle(i).fontSize)&&r()},3e3))},jRxm:function(e,t){},v2ns:function(e,t){}},["OBk9"]);
//# sourceMappingURL=app.057c84f9f3d8c5fc2d26.js.map
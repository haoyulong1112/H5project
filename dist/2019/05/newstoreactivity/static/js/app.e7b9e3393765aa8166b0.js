webpackJsonp([1],{"/hYq":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("/5sW"),s=i("/ocq"),o=i("Dd8w"),n=i.n(o),h=i("NYxO"),l=(String,{name:"rule",data:function(){return{inputText:""}},props:{text:{type:String,default:""},textshow:{default:!1},showRule:{default:!1},imgurl:{default:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592143041935800891.png"},topimg:{default:""},iconimg:{default:""},popuptext:{default:""},plseholder:{default:"请输入宠物名字"},popuptextshow:{default:!1},inputShow:{default:!1},topimgshow:{default:!1},iconimgshow:{default:!1}},methods:{closeRule:function(){this.$emit("closeRule"),this.$emit("getInput",{inputText:this.inputText})}}}),c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRule,expression:"showRule"}],staticClass:"contBox"},[i("div",{staticClass:"bgcBox"},[i("img",{staticClass:"imgurl",attrs:{src:e.imgurl,alt:""}}),e._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:e.topimgshow,expression:"topimgshow"}],staticClass:"topimg",attrs:{src:e.topimg,alt:""}}),e._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:e.iconimgshow,expression:"iconimgshow"}],staticClass:"iconimg",attrs:{src:e.iconimg,alt:""}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.popuptextshow,expression:"popuptextshow"}],staticClass:"popuptext",domProps:{innerHTML:e._s(e.popuptext)}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.textshow,expression:"textshow"}],staticClass:"rule-text",domProps:{innerHTML:e._s(e.text)}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.inputShow,expression:"inputShow"},{name:"model",rawName:"v-model",value:e.inputText,expression:"inputText"}],staticClass:"input",attrs:{type:"text",placeholder:e.plseholder},domProps:{value:e.inputText},on:{input:function(t){t.target.composing||(e.inputText=t.target.value)}}}),e._v(" "),i("div",{staticClass:"close-rule",on:{click:e.closeRule}},[i("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592161700835064788.png",alt:""}})])])])},staticRenderFns:[]};var r=i("VU/8")(l,c,!1,function(t){i("CRa3")},null,null).exports,d=i("BO1k"),u=i.n(d),m=function(){var t=window.location.href.split("?"),e={};if(1<t.length){var i=t[1],a=-1!==i.indexOf("%23/")?i.indexOf("%23/"):i.indexOf("#/");-1!==a&&(i=i.substr(0,a));var s=!0,o=!1,n=void 0;try{for(var h,l=u()(i.split("&"));!(s=(h=l.next()).done);s=!0){var c=h.value.split("=");c[0]&&(e[c[0]]=c[1]||"")}}catch(t){o=!0,n=t}finally{try{!s&&l.return&&l.return()}finally{if(o)throw n}}}return e},p=m(),g=[];p.system&&(g=p.system.split("_"));var v,f=-1<g.findIndex(function(t){return"android"===t}),w=-1<g.findIndex(function(t){return"ios"===t}),b=g[1]?""+g[1]:"",P={platform:(v=navigator.userAgent,{android:-1<v.indexOf("Android")||-1<v.indexOf("Linux"),iPhone:-1<v.indexOf("iPhone"),iPad:-1<v.indexOf("iPad")}),language:(navigator.browserLanguage||navigator.language).toLowerCase()},x=function(t,e,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg,s=document.querySelector('meta[name="sharetitle"]'),o=document.querySelector('meta[name="description"]'),n=document.querySelector('meta[name="shareimg"]'),h=document.querySelector('meta[name="shareurl"]');s&&o&&n&&h||console.warn("setshareinfoios 缺少标签"),t&&s&&s.setAttribute("content",t),e&&o&&o.setAttribute("content",e),a&&n&&n.setAttribute("content",a),i&&h&&h.setAttribute("content",i)},k=function(t,e,i,a){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:config.shareImg;f?function(t,e,i,a){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:config.shareImg;f?t&&e&&i&&a?window.fromh5data.shareCardInfo(e,s,a,i,t):console.warn("setshareinfoandroid 缺少参数"):console.warn("setshareinfoandroid 不在安卓客户端内")}(t,e,i,a,s):w&&x(e,i,a,s)},y=i("//Fk"),C=i.n(y),V=i("fxnj"),I=i.n(V),T=i("Xxa5"),N=i.n(T),_=i("exGp"),B=i.n(_),j=i("pFYg"),S=i.n(j),z=i("fZjL"),F=i.n(z),R=[],O=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new C.a(function(e,i){var a=t.url;if(!t.concurrent){if(a=a.split("?")[0],-1!==R.indexOf(a))return void i(new Error("请求并发 "+a));R.push(a)}(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=t.type?t.type.toUpperCase():"POST",n=t.url||"",h=t.contentType||"application/x-www-form-urlencoded",l=t.data||{},c=!1!==t.async;return new C.a(function(e,i){var a={};a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var s="";F()(l).forEach(function(t){s+=t+"="+l[t]+"&"}),s=s.substr(0,s.lastIndexOf("&")),"GET"==o?(n=s?n+"?"+s:n,a.open(o,n,c),a.setRequestHeader("Content-type",h),a.send()):"POST"==o?(l.system&&(n=0<n.indexOf("?")?n+"&system="+l.system:n+"?system="+l.system),a.open(o,n,c),a.setRequestHeader("Content-type",h),a.send(s)):i(new Error("不支持的type")),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status){var t=a.response;"object"!==(void 0===t?"undefined":S()(t))&&(t=JSON.parse(t)),e(t)}else i(a)}})})(t).then(function(t){0===t.code?e(t):0===t.errno?e(t):i(t)}).catch(function(t){i(t)}).finally(function(){var t=R.indexOf(a);-1!==t&&R.splice(t,1)})})},D=envConfig.requestDomain,J=(envConfig.manageDomain,function(t){return O({url:D+"/pet-api/wx/ticket",data:{code:t}})}),L=function(t,e){return O({url:D+"/pet-api/wx/info",data:{accessToken:e,openId:t}})},U=function(t){return D+"/pet-api/user/activity/generateImageCode?mobileKey="+t},M=function(t){return O({url:D+"/pet-api/user/activity/genVerifyCode",data:t})},A=function(t){return O({url:D+"/pet-api/user/activity/login",data:t})},q=(envConfig.requestDomain,envConfig.requestDomain,envConfig.requestDomain,navigator.userAgent),E={android:-1<q.indexOf("Android")||-1<q.indexOf("Linux"),ios:-1<q.indexOf("iPhone")||-1<q.indexOf("iPad"),iphone:-1<q.indexOf("iPhone"),weixin:-1<q.toLowerCase().indexOf("micromessenger")},W=this,H=function(s,t){return new C.a(function(e,i){var l,a;(t=t||{}).jsApiList=t.jsApiList||["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],(s=s||{}).link=s.link||window.location.href,s.imgUrl=s.imgUrl||config.shareImg,(l=t,new C.a((a=B()(N.a.mark(function t(i,a){var s,o,n,h;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(E.weixin){t.next=3;break}return a(new Error("wxconfig 非微信浏览器")),t.abrupt("return");case 3:if(l=l||{},s=location.href,P.platform.iPhone&&(s=s.split("#")[0]),o=l.signData,n=config.wxShareDebug,o){t.next=13;break}return t.next=11,(e=s,console.log("new",e),O({url:D+"/pet-api/wx/sign",data:{url:encodeURIComponent(e)},type:"get"})).catch(function(t){a(new Error("sign error "+(t.code||"")+" "+(t.msg||"")))});case 11:h=t.sent,o={appId:h.data.appId,timestamp:h.data.timestamp,nonceStr:h.data.nonceStr,signature:h.data.signature};case 13:o.debug=!0===n,o.jsApiList=l.jsApiList,console.log(o),I.a.config(o),I.a.ready(function(t){console.log("ready"),console.log(t),i(o)}),I.a.error(function(t){console.log(t),a(t)});case 19:case"end":return t.stop()}var e},t,W)})),function(t,e){return a.apply(this,arguments)}))).then(function(t){I.a.onMenuShareTimeline(s),I.a.onMenuShareAppMessage(s),I.a.onMenuShareQQ(s),I.a.onMenuShareWeibo(s),I.a.onMenuShareQZone(s),e(t)}).catch(function(t){i(t)})})},Q=envConfig.requestDomain;console.log(Q);var Z=function(t){return O({url:Q+"/pet-api/activity/bath/state",data:t})},K=function(t){return O({url:Q+"/pet-api/activity/bath/join",data:t})},X=function(t){return O({url:Q+"/pet-api/activity/bath/help",data:t})},Y=function(t){return O({url:Q+"/pet-api/activity/bath/isBindingOpenId",data:t})},G=function(t){return O({url:Q+"/pet-api/logcount/add",data:t})},tt=function(t,e,i,a){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:config.shareImg;f||w?t&&e&&i&&a?"4.9.6"<b?(f&&window.fromh5data.shareCardInfoDidlog(i,s,a,e,t),w&&(x(e,i,a,s),window.location.href="pethome://share_"+t)):function(t,e,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:config.shareImg;f||w?t&&e&&i?(f&&(b<"4.9.5"?window.fromh5data.shareCardInfoDidlog(e,a,i,t):b<"5.0.0"?window.fromh5data.shareCardInfoDidlogNoQQ(e,a,i,t):window.fromh5data.shareCardInfoDidlog(e,a,i,t,"1,2")),w&&(x(t,e,i,a),window.location.href="pethome://share")):console.warn("sharepopup 缺少参数"):console.warn("sharepopup 不在客户端内")}(e,i,a,s):console.warn("openshare 缺少参数"):console.warn("openshare 不在客户端内")},et=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.href,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"snsapi_userinfo",i="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+envConfig.shareAppid+"&redirect_uri="+escape(t)+"&response_type=code&scope="+e+"&state=STATE#wechat_redirect";window.location.href=i,console.log(escape(t)),console.log(i)},it=(String,String,Number,String,{name:"showtoast",data:function(){return{showRule:!1}},created:function(){},methods:{showtime:function(){var t=this;this.showRule=!0,setTimeout(function(){t.showRule&&(t.showRule=!1)},2e3)}},props:{text:{type:String,default:"请注意格式"},bgc:{type:String,default:"background-color: #000; color: #fff;opacity: 0.8;"},height:{type:Number,default:1.4},top:{type:String,default:"top: 5rem;"}}}),at={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRule,expression:"showRule"}],staticClass:"toastbox",style:t.top},[i("div",{staticClass:"toast",style:t.bgc},[t._v(t._s(t.text))])])},staticRenderFns:[]};var st=i("VU/8")(it,at,!1,function(t){i("5sji")},"data-v-476e7f06",null).exports,ot=m(),nt=E.weixin,ht=config.downloadApp,lt=config.shareDescribe,ct=config.introduce,rt=config.ruleText,dt=(n()({},Object(h.e)(["cellPhone","system","imei","activityId","idenCode","openid","isLogin","renickname","headimgurl"]),Object(h.b)(["checkoutPhone"]),Object(h.c)(["getUrl"]),{updateDynamic:function(){return this.friends||[]},hasPetname:function(){if(""!=this.petName)return!0}}),n()({},Object(h.d)(["saveParams","updateIdenCode","updateopenid","updateCellPhone","updateNickname","updateHeadurl"]),{downloadApp:ht,complete:function(t){var i=this;nt?(this.weixincode=ot.code,this.isJoindata.source="2",1==this.isLogin?this.weixincode?J(this.weixincode).then(function(t){if(t.data.openid){i.updateopenid(t.data.openid),i.data.openId=t.data.openid;var e={openId:i.data.openId,activityId:i.activityId};Y(e).then(function(t){i.cellPhone&&i.cellPhone==t.data.cellPhone?(i.shareFriends=!0,i.lastImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901856951730650.png",i.takePacket=!1):(i.lastImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901705231804560.png",i.shareFriends=!1,i.takePacket=!0)}),i.rightWeixincode=!0,L(t.data.openid,t.data.access_token).then(function(t){0==t.code&&(i.nickname=t.data.nickname,i.data.nickname=t.data.nickname,i.data.headimgurl=t.data.headimgurl,i.updateNickname(t.data.nickname),i.updateHeadurl(t.data.headimgurl),i.initialization(i.isJoindata,i.data,1))})}}).catch(function(t){console.log(t),t.msg&&(i.shoetext=t.msg,i.$refs.showtoast.showtime())}).finally(function(){i.rightWeixincode||et(i.fullurl)}):et(this.fullurl):(this.data.openId=this.openid,this.data.nickname=this.renickname,this.data.headimgurl=this.headimgurl,this.initialization(this.isJoindata,this.data,1))):(this.shareFriends=!0,this.takePacket=!1,this.isJoindata.source="1",this.data.cellPhone=this.cellPhone,this.initialization(this.isJoindata,this.data,2))},backwx:function(){WeixinJSBridge.call("closeWindow")},setShare:function(t){if(1==t){this.fullurl=this.getUrl({cellPhone:this.cellPhone});var e={};e.title=this.shareTitle,e.desc=lt,e.link=this.fullurl.split("#")[0],e.success=this.changeZhezhao,H(e)}else k("1,2",this.shareTitle,lt,this.fullurl)},changeZhezhao:function(){this.zhezhao=!1},closezhezhao:function(){this.zhezhao=!1},initialization:function(t,e,i){var a=this;K(t).then(function(t){1==t.data.activityStatus?(a.jishaostatus=!0,a.initshow=!1,a.petName=t.data.petName||"",t.data.idenCode?(a.updateIdenCode(t.data.idenCode),nt&&(e.idenCode=t.data.idenCode),Z(e).then(function(t){if(t.data&&(a.shareTitle="快帮我送"+a.petName+"去宠物家，你也能拿20元红包～",a.infoFilter(t.data),a.setShare(1),0<t.data.friends.length)){a.zhulistatus=!0;var e=a.totalBathValue/1e3*4;a.addlong(e),a.dogMove()}}).catch(function(t){a.shoetext=t.msg,a.$refs.showtoast.showtime()})):(a.overTime(),a.initshow=!0)):(0==t.data.activityStatus?(a.overTime(),a.shoetext="活动未开始"):(a.overTime(),a.shoetext="活动已结束"),a.$refs.showtoast.showtime())})},overTime:function(){this.initshow=!1,this.shareFriends=!1,this.takePacket=!1,this.givePet=!1,this.givePetdark=!1,this.checkPacket=!1,this.takePacketwx=!1},goCouponlist:function(){P.platform.android&&window.fromh5lucy.coupon(null),P.platform.iPhone&&(window.location.href="pethome://coupon_null")},shareOut:function(){var e=this;nt?(this.setShare(1),this.zhezhao=!0,this.addData.activeid=213,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()})):(tt("1,2",this.shareTitle,lt,this.fullurl),this.addData.activeid=212,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()}))},dogMove:function(){0<this.totalBathValue&&this.totalBathValue<100?this.mobile(2.3,8.1,.96,1.34,100):100<=this.totalBathValue&&this.totalBathValue<200?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100)):200<=this.totalBathValue&&this.totalBathValue<300?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100)):300<=this.totalBathValue&&this.totalBathValue<400?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100)):400<=this.totalBathValue&&this.totalBathValue<500?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100)):500<=this.totalBathValue&&this.totalBathValue<600?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100)):600<=this.totalBathValue&&this.totalBathValue<700?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100)):700<=this.totalBathValue&&this.totalBathValue<800?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100)):800<=this.totalBathValue&&this.totalBathValue<900?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100),this.mobile(5.1,5.2,.7,.98,100)):900<=this.totalBathValue&&this.totalBathValue<1e3?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100),this.mobile(5.1,5.2,.7,.98,100)):1e3<=this.totalBathValue&&(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100),this.mobile(5.1,5.2,.7,.98,100),this.mobile(5.25,4.55,.5,.7,100))},help:function(t){var e=t?this.totalBathValue+t:this.totalBathValue;0<e&&e<100?this.mobile(2.3,8.1,.96,1.34):100<=e&&e<200?this.mobile(3.3,8.1,.96,1.34):200<=e&&e<300?this.mobile(4.15,7.55,.96,1.34):300<=e&&e<400?this.mobile(4.05,7.15,.96,1.34):400<=e&&e<500?this.mobile(3.6,6.8,.96,1.34):500<=e&&e<600?this.mobile(2.9,6.4,.8,1.12):600<=e&&e<700?this.mobile(3.2,5.9,.8,1.12):700<=e&&e<800?this.mobile(4.2,5.7,.7,.98):800<=e&&e<900?this.mobile(5.1,5.2,.7,.98):900<=e&&e<1e3?this.mobile(5.1,5.2,.7,.98):1e3<=e&&this.mobile(5.25,4.55,.5,.7)},helpmethods:function(){var i=this,t={activityId:this.activityId||""};if(nt){if(!this.openid)return this.shoetext="请重新打开当前页面并同意授权~",void this.$refs.showtoast.showtime();t.openId=this.openid||"",t.idenCode=this.idenCode||""}else t.cellPhone=this.cellPhone||"";X(t).then(function(t){if(0==t.code){i.bathValue=t.data.bathValue;var e=i.totalBathValue+i.bathValue;i.gone=i.gone+i.bathValue,i.nickname="",i.nickname=t.data.nickname,i.zhulistatus||(i.zhulistatus=!0),50==i.bathValue||44==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",50==i.bathValue?i.helpText=i.nickname+"开着九手奥拓，刚出发就抛锚了，带"+i.petName+"推车前行了50米":i.helpText=i.nickname+"开着九手奥拓，刚出发就抛锚了，带"+i.petName+"推车前行了44米"):200==i.bathValue||198==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",200==i.bathValue?i.helpText=i.nickname+"开着smart plus，载着"+i.petName+"前行了200米":i.helpText=i.nickname+"开着smart plus，载着"+i.petName+"前行了198米"):132==i.bathValue||136==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",132==i.bathValue?i.helpText=i.nickname+"抱着"+i.petName+"，乘11路公交前行了132米":i.helpText=i.nickname+"抱着"+i.petName+"，乘11路公交前行了136米"):154==i.bathValue||150==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",154==i.bathValue?i.helpText=i.nickname+"被"+i.petName+"用滑板车，拽着前行了154米":i.helpText=i.nickname+"被"+i.petName+"用滑板车，拽着前行了150米"):190==i.bathValue||186==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",190==i.bathValue?i.helpText=i.nickname+"作为一名秋名山老司机，骑着摩托车，带着"+i.petName+"飘移了190米":i.helpText=i.nickname+"作为一名秋名山老司机，骑着摩托车，带着"+i.petName+"飘移了186米"):180==i.bathValue||178==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",180==i.bathValue?i.helpText=i.nickname+"作为一名蓝翔优秀毕业生，开着挖掘机，带"+i.petName+"前行了180米":i.helpText=i.nickname+"作为一名蓝翔优秀毕业生，开着挖掘机，带"+i.petName+"前行了178米"):170==i.bathValue||168==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",170==i.bathValue?i.helpText=i.nickname+"骑着UFO，遛"+i.petName+"前行了170米":i.helpText=i.nickname+"骑着UFO，遛"+i.petName+"前行了168米"):0==i.bathValue&&(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",i.helpText=i.nickname+"开着玛莎拉蒂，载着"+i.petName+"，由于超速被交警罚回原地，前行了0米"),i.helped=!0,i.showhelp=!0,i.givePet=!1,1e3<=e?(i.shareFriends=!1,i.takePacket=!1,i.givePet=!1,i.givePetdark=!1,nt?i.takePacketwx=!0:i.checkPacket=!0,i.goneText=!1):i.givePetdark=!0}})},mobile:function(t,e,i,a,s){s=s||1e3,$(".dog").animate({left:t+"rem",top:e+"rem",width:i+"rem",height:a+"rem"},s)},addlong:function(t){var e=parseFloat($("html").css("fontSize")),i=(parseFloat($(".progress").width())/e).toFixed(2),a=parseFloat(i)+parseFloat(t);this.totalBathValue<1e3?$(".progress").animate({width:a+"rem"},800):$(".progress").animate({width:"4rem"},800)},limitPopup:function(){4==this.status?this.showlimit=!0:(this.shoetext="已助力,不可再助力~",this.$refs.showtoast.showtime())},infoFilter:function(t){t.friends&&(this.friends=t.friends.reverse()),t.status&&(this.status=t.status),1==this.status?(this.givePet=!0,this.givePetdark=!1,this.goneText=!0):2==this.status?(this.givePet=!1,this.givePetdark=!0):3==this.status?(this.givePet=!1,this.shareFriends=!1,this.takePacket=!1,this.givePet=!1,this.givePetdark=!1,nt?this.takePacketwx=!0:this.checkPacket=!0,this.goneText=!1):4==this.status&&(this.givePet=!1,this.givePetdark=!0),t.totalBathValue&&(this.totalBathValue=t.totalBathValue,this.gone=this.totalBathValue),t.petName&&(this.petName=t.petName)},openRule:function(){this.showRule=!0},closeRule:function(){if(this.showRule=!1,this.showhelp){this.showhelp=!1;var t=parseFloat(this.bathValue/1e3*4);this.addlong(t),this.help(this.bathValue)}this.showlimit=!1},takeIn:function(t){var e=this;t.inputText?(this.newCellPhone&&(this.updateCellPhone(this.newCellPhone),this.fullurl=this.getUrl({cellPhone:this.cellPhone})),this.takePacket=!1,this.shareFriends=!0,this.checkPacket=!1,this.takePacketwx=!1,this.givePet=!0,this.givePetdark=!1,this.isJoindata.petName=t.inputText,this.petName=t.inputText,this.resetData(),this.showPetName=!1,nt?(this.initialization(this.isJoindata,this.data,1,!0),this.addData.activeid=215,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()})):(this.initialization(this.isJoindata,this.data,2,!0),this.addData.activeid=214,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()}))):(this.showPetName=!1,this.shoetext="填写宠物名字才可以参加活动！",this.$refs.showtoast.showtime())},initmethods:function(){this.showPetName=!0},resetData:function(){this.mobile(1.8,7.8,.96,1.34),this.friends=[],$(".progress").width("0"),this.totalBathValue=0,this.zhulistatus=!1,this.helped=!1,this.nickname="",this.desc="",this.gone=0},getPacket:function(i){var a=this;if(this.openid){var t={openId:this.openid,activityId:this.activityId};Y(t).then(function(t){if(1==t.data.status)if(a.cellPhone!=t.data.cellPhone){var e=t.data.isJoin;a.newCellPhone=t.data.cellPhone,console.log(a.newCellPhone),console.log("isJoin",e),a.checkPacket=!1,1==e?(a.updateCellPhone(t.data.cellPhone),a.fullurl=a.getUrl({cellPhone:a.cellPhone}),a.resetData(),a.takePacketwx=!1,a.shareFriends=!0,a.takePacket=!1,a.isJoindata.cellPhone=t.data.cellPhone,a.isJoindata.source="2",a.data.openId=a.openid,a.initialization(a.isJoindata,a.data,1),console.log(1)):(console.log(a.showPetName),console.log(2),a.isJoindata.cellPhone=t.data.cellPhone,a.data.openId=a.openid,a.isJoindata.source="2",a.showPetName=!0,console.log(a.showPetName),console.log(3))}else"big"==i?a.downloadApp():"small"==i&&(a.shareFriends=!0,a.takePacket=!1);else a.$router.push("login")}).catch(function(t){console.warn(t),t.msg&&(a.shoetext=t.msg,a.$refs.showtoast.showtime())})}else this.shoetext="请重新打开当前页面并同意授权~",this.$refs.showtoast.showtime()}}),m()),ut=E.weixin,mt=config.downloadApp,pt=config.shareDescribe,gt=config.introduce,vt=config.ruleText,ft={data:function(){return{shoetext:"",lastImg:"",shareTitle:"",fullurl:"",rightWeixincode:!1,gone:0,zhulistatus:!1,zhezhao:!1,ruleText:vt,showRule:!1,showPetName:!1,showlimit:!1,ruleTextShow:!0,petPopupImg:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592694180117993304.png",limitImg:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592983088030672346.png",limitText:"非常抱歉今日助力次已达上限！",inputShow:!0,isJoindata:{},data:{},checkPacket:!1,shareFriends:!1,takePacket:!1,givePet:!1,givePetdark:!1,takePacketwx:!1,friends:[],totalBathValue:"",petName:"",status:"",activityStatus:"",bathValue:"",helpText:"",showhelp:!1,topimgshow:!0,popuptextshow:!0,helped:!1,nickname:"",goneText:!0,iconimgshow:!0,introduce:gt,wayImg:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",iconimg:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982125837001542.png",weixincode:"",jishaostatus:!1,addData:{},isLoader:!1,initshow:!1,newCellPhone:""}},computed:n()({},Object(h.e)(["cellPhone","system","imei","activityId","idenCode","openid","isLogin","renickname","headimgurl"]),Object(h.b)(["checkoutPhone"]),Object(h.c)(["getUrl"]),{updateDynamic:function(){return this.friends||[]},hasPetname:function(){if(""!=this.petName)return!0}}),created:function(){var e=this;this.addData={type:5,typeid:210,activeid:211,cellPhone:this.cellPhone||"",activityId:this.activityId||""},G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()}),this.isJoindata={cellPhone:this.cellPhone||"",system:this.system||"",imei:this.imei||"",activityId:this.activityId||""},this.data={activityId:this.activityId||"",system:this.system||"",imei:this.imei||""},this.fullurl=this.getUrl({cellPhone:this.cellPhone})},methods:n()({},Object(h.d)(["saveParams","updateIdenCode","updateopenid","updateCellPhone","updateNickname","updateHeadurl"]),{downloadApp:mt,complete:function(t){var i=this;ut?(this.weixincode=dt.code,this.isJoindata.source="2",1==this.isLogin?this.weixincode?J(this.weixincode).then(function(t){if(t.data.openid){i.updateopenid(t.data.openid),i.data.openId=t.data.openid;var e={openId:i.data.openId,activityId:i.activityId};Y(e).then(function(t){i.cellPhone&&i.cellPhone==t.data.cellPhone?(i.shareFriends=!0,i.lastImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901856951730650.png",i.takePacket=!1):(i.lastImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901705231804560.png",i.shareFriends=!1,i.takePacket=!0)}),i.rightWeixincode=!0,L(t.data.openid,t.data.access_token).then(function(t){0==t.code&&(i.nickname=t.data.nickname,i.data.nickname=t.data.nickname,i.data.headimgurl=t.data.headimgurl,i.updateNickname(t.data.nickname),i.updateHeadurl(t.data.headimgurl),i.initialization(i.isJoindata,i.data,1))})}}).catch(function(t){console.log(t),t.msg&&(i.shoetext=t.msg,i.$refs.showtoast.showtime())}).finally(function(){i.rightWeixincode||et(i.fullurl)}):et(this.fullurl):(this.data.openId=this.openid,this.data.nickname=this.renickname,this.data.headimgurl=this.headimgurl,this.initialization(this.isJoindata,this.data,1))):(this.shareFriends=!0,this.takePacket=!1,this.isJoindata.source="1",this.data.cellPhone=this.cellPhone,this.initialization(this.isJoindata,this.data,2))},backwx:function(){WeixinJSBridge.call("closeWindow")},setShare:function(t){if(1==t){this.fullurl=this.getUrl({cellPhone:this.cellPhone});var e={};e.title=this.shareTitle,e.desc=pt,e.link=this.fullurl.split("#")[0],e.success=this.changeZhezhao,H(e)}else k("1,2",this.shareTitle,pt,this.fullurl)},changeZhezhao:function(){this.zhezhao=!1},closezhezhao:function(){this.zhezhao=!1},initialization:function(t,e,i){var a=this;K(t).then(function(t){1==t.data.activityStatus?(a.jishaostatus=!0,a.initshow=!1,a.petName=t.data.petName||"",t.data.idenCode?(a.updateIdenCode(t.data.idenCode),ut&&(e.idenCode=t.data.idenCode),Z(e).then(function(t){if(t.data&&(a.shareTitle="快帮我送"+a.petName+"去宠物家，你也能拿20元红包～",a.infoFilter(t.data),a.setShare(1),0<t.data.friends.length)){a.zhulistatus=!0;var e=a.totalBathValue/1e3*4;a.addlong(e),a.dogMove()}}).catch(function(t){a.shoetext=t.msg,a.$refs.showtoast.showtime()})):(a.overTime(),a.initshow=!0)):(0==t.data.activityStatus?(a.overTime(),a.shoetext="活动未开始"):(a.overTime(),a.shoetext="活动已结束"),a.$refs.showtoast.showtime())})},overTime:function(){this.initshow=!1,this.shareFriends=!1,this.takePacket=!1,this.givePet=!1,this.givePetdark=!1,this.checkPacket=!1,this.takePacketwx=!1},goCouponlist:function(){P.platform.android&&window.fromh5lucy.coupon(null),P.platform.iPhone&&(window.location.href="pethome://coupon_null")},shareOut:function(){var e=this;ut?(this.setShare(1),this.zhezhao=!0,this.addData.activeid=213,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()})):(tt("1,2",this.shareTitle,pt,this.fullurl),this.addData.activeid=212,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()}))},dogMove:function(){0<this.totalBathValue&&this.totalBathValue<100?this.mobile(2.3,8.1,.96,1.34,100):100<=this.totalBathValue&&this.totalBathValue<200?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100)):200<=this.totalBathValue&&this.totalBathValue<300?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100)):300<=this.totalBathValue&&this.totalBathValue<400?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100)):400<=this.totalBathValue&&this.totalBathValue<500?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100)):500<=this.totalBathValue&&this.totalBathValue<600?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100)):600<=this.totalBathValue&&this.totalBathValue<700?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100)):700<=this.totalBathValue&&this.totalBathValue<800?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100)):800<=this.totalBathValue&&this.totalBathValue<900?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100),this.mobile(5.1,5.2,.7,.98,100)):900<=this.totalBathValue&&this.totalBathValue<1e3?(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100),this.mobile(5.1,5.2,.7,.98,100)):1e3<=this.totalBathValue&&(this.mobile(2.3,8.1,.96,1.34,100),this.mobile(3.3,8.1,.96,1.34,100),this.mobile(4.15,7.55,.96,1.34,100),this.mobile(4.05,7.15,.96,1.34,100),this.mobile(3.6,6.8,.96,1.34,100),this.mobile(2.9,6.4,.8,1.12,100),this.mobile(3.2,5.9,.8,1.12,100),this.mobile(4.2,5.7,.7,.98,100),this.mobile(5.1,5.2,.7,.98,100),this.mobile(5.25,4.55,.5,.7,100))},help:function(t){var e=t?this.totalBathValue+t:this.totalBathValue;0<e&&e<100?this.mobile(2.3,8.1,.96,1.34):100<=e&&e<200?this.mobile(3.3,8.1,.96,1.34):200<=e&&e<300?this.mobile(4.15,7.55,.96,1.34):300<=e&&e<400?this.mobile(4.05,7.15,.96,1.34):400<=e&&e<500?this.mobile(3.6,6.8,.96,1.34):500<=e&&e<600?this.mobile(2.9,6.4,.8,1.12):600<=e&&e<700?this.mobile(3.2,5.9,.8,1.12):700<=e&&e<800?this.mobile(4.2,5.7,.7,.98):800<=e&&e<900?this.mobile(5.1,5.2,.7,.98):900<=e&&e<1e3?this.mobile(5.1,5.2,.7,.98):1e3<=e&&this.mobile(5.25,4.55,.5,.7)},helpmethods:function(){var i=this,t={activityId:this.activityId||""};if(ut){if(!this.openid)return this.shoetext="请重新打开当前页面并同意授权~",void this.$refs.showtoast.showtime();t.openId=this.openid||"",t.idenCode=this.idenCode||""}else t.cellPhone=this.cellPhone||"";X(t).then(function(t){if(0==t.code){i.bathValue=t.data.bathValue;var e=i.totalBathValue+i.bathValue;i.gone=i.gone+i.bathValue,i.nickname="",i.nickname=t.data.nickname,i.zhulistatus||(i.zhulistatus=!0),50==i.bathValue||44==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",50==i.bathValue?i.helpText=i.nickname+"开着九手奥拓，刚出发就抛锚了，带"+i.petName+"推车前行了50米":i.helpText=i.nickname+"开着九手奥拓，刚出发就抛锚了，带"+i.petName+"推车前行了44米"):200==i.bathValue||198==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",200==i.bathValue?i.helpText=i.nickname+"开着smart plus，载着"+i.petName+"前行了200米":i.helpText=i.nickname+"开着smart plus，载着"+i.petName+"前行了198米"):132==i.bathValue||136==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",132==i.bathValue?i.helpText=i.nickname+"抱着"+i.petName+"，乘11路公交前行了132米":i.helpText=i.nickname+"抱着"+i.petName+"，乘11路公交前行了136米"):154==i.bathValue||150==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",154==i.bathValue?i.helpText=i.nickname+"被"+i.petName+"用滑板车，拽着前行了154米":i.helpText=i.nickname+"被"+i.petName+"用滑板车，拽着前行了150米"):190==i.bathValue||186==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",190==i.bathValue?i.helpText=i.nickname+"作为一名秋名山老司机，骑着摩托车，带着"+i.petName+"飘移了190米":i.helpText=i.nickname+"作为一名秋名山老司机，骑着摩托车，带着"+i.petName+"飘移了186米"):180==i.bathValue||178==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",180==i.bathValue?i.helpText=i.nickname+"作为一名蓝翔优秀毕业生，开着挖掘机，带"+i.petName+"前行了180米":i.helpText=i.nickname+"作为一名蓝翔优秀毕业生，开着挖掘机，带"+i.petName+"前行了178米"):170==i.bathValue||168==i.bathValue?(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",170==i.bathValue?i.helpText=i.nickname+"骑着UFO，遛"+i.petName+"前行了170米":i.helpText=i.nickname+"骑着UFO，遛"+i.petName+"前行了168米"):0==i.bathValue&&(i.wayImg="http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592982010397198254.png",i.helpText=i.nickname+"开着玛莎拉蒂，载着"+i.petName+"，由于超速被交警罚回原地，前行了0米"),i.helped=!0,i.showhelp=!0,i.givePet=!1,1e3<=e?(i.shareFriends=!1,i.takePacket=!1,i.givePet=!1,i.givePetdark=!1,ut?i.takePacketwx=!0:i.checkPacket=!0,i.goneText=!1):i.givePetdark=!0}})},mobile:function(t,e,i,a,s){s=s||1e3,$(".dog").animate({left:t+"rem",top:e+"rem",width:i+"rem",height:a+"rem"},s)},addlong:function(t){var e=parseFloat($("html").css("fontSize")),i=(parseFloat($(".progress").width())/e).toFixed(2),a=parseFloat(i)+parseFloat(t);this.totalBathValue<1e3?$(".progress").animate({width:a+"rem"},800):$(".progress").animate({width:"4rem"},800)},limitPopup:function(){4==this.status?this.showlimit=!0:(this.shoetext="已助力,不可再助力~",this.$refs.showtoast.showtime())},infoFilter:function(t){t.friends&&(this.friends=t.friends.reverse()),t.status&&(this.status=t.status),1==this.status?(this.givePet=!0,this.givePetdark=!1,this.goneText=!0):2==this.status?(this.givePet=!1,this.givePetdark=!0):3==this.status?(this.givePet=!1,this.shareFriends=!1,this.takePacket=!1,this.givePet=!1,this.givePetdark=!1,ut?this.takePacketwx=!0:this.checkPacket=!0,this.goneText=!1):4==this.status&&(this.givePet=!1,this.givePetdark=!0),t.totalBathValue&&(this.totalBathValue=t.totalBathValue,this.gone=this.totalBathValue),t.petName&&(this.petName=t.petName)},openRule:function(){this.showRule=!0},closeRule:function(){if(this.showRule=!1,this.showhelp){this.showhelp=!1;var t=parseFloat(this.bathValue/1e3*4);this.addlong(t),this.help(this.bathValue)}this.showlimit=!1},takeIn:function(t){var e=this;t.inputText?(this.newCellPhone&&(this.updateCellPhone(this.newCellPhone),this.fullurl=this.getUrl({cellPhone:this.cellPhone})),this.takePacket=!1,this.shareFriends=!0,this.checkPacket=!1,this.takePacketwx=!1,this.givePet=!0,this.givePetdark=!1,this.isJoindata.petName=t.inputText,this.petName=t.inputText,this.resetData(),this.showPetName=!1,ut?(this.initialization(this.isJoindata,this.data,1,!0),this.addData.activeid=215,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()})):(this.initialization(this.isJoindata,this.data,2,!0),this.addData.activeid=214,G(this.addData).catch(function(t){e.shoetext=t.msg,e.$refs.showtoast.showtime()}))):(this.showPetName=!1,this.shoetext="填写宠物名字才可以参加活动！",this.$refs.showtoast.showtime())},initmethods:function(){this.showPetName=!0},resetData:function(){this.mobile(1.8,7.8,.96,1.34),this.friends=[],$(".progress").width("0"),this.totalBathValue=0,this.zhulistatus=!1,this.helped=!1,this.nickname="",this.desc="",this.gone=0},getPacket:function(i){var a=this;if(this.openid){var t={openId:this.openid,activityId:this.activityId};Y(t).then(function(t){if(1==t.data.status)if(a.cellPhone!=t.data.cellPhone){var e=t.data.isJoin;a.newCellPhone=t.data.cellPhone,console.log(a.newCellPhone),console.log("isJoin",e),a.checkPacket=!1,1==e?(a.updateCellPhone(t.data.cellPhone),a.fullurl=a.getUrl({cellPhone:a.cellPhone}),a.resetData(),a.takePacketwx=!1,a.shareFriends=!0,a.takePacket=!1,a.isJoindata.cellPhone=t.data.cellPhone,a.isJoindata.source="2",a.data.openId=a.openid,a.initialization(a.isJoindata,a.data,1),console.log(1)):(console.log(a.showPetName),console.log(2),a.isJoindata.cellPhone=t.data.cellPhone,a.data.openId=a.openid,a.isJoindata.source="2",a.showPetName=!0,console.log(a.showPetName),console.log(3))}else"big"==i?a.downloadApp():"small"==i&&(a.shareFriends=!0,a.takePacket=!1);else a.$router.push("login")}).catch(function(t){console.warn(t),t.msg&&(a.shoetext=t.msg,a.$refs.showtoast.showtime())})}else this.shoetext="请重新打开当前页面并同意授权~",this.$refs.showtoast.showtime()}}),components:{showtoast:st,rule:r,petNamePopup:r,"limit-Popup":r,"help-Popup":r}},wt={render:function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:i.zhezhao,expression:"zhezhao"}],staticClass:"zhezhao",on:{click:function(t){return t.preventDefault(),i.closezhezhao(t)}}},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/16081885785337866097.png",alt:""}})]),i._v(" "),a("div",{staticClass:"bgc"},[a("img",{staticClass:"bgcimg",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/16082781954867038142.png",alt:""},on:{load:i.complete}}),i._v(" "),a("div",{staticClass:"top"},[a("img",{staticClass:"topbg",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15594482956484906187.png",alt:""}}),i._v(" "),a("img",{staticClass:"tpdog",attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15594482958141282440.png",alt:""}}),i._v(" "),a("div",{staticClass:"progressBox"},[i.goneText?a("div",{staticClass:"progressText"},[i._v(i._s(i.petName)+"已走"+i._s(i.gone)+"米，还差"+i._s(1e3-i.gone)+"米到宠物家")]):i._e(),i._v(" "),i.goneText?i._e():a("div",{staticClass:"progressText"},[i._v(i._s(i.petName)+"已成功到达宠物家")]),i._v(" "),i._m(0)])]),i._v(" "),a("div",{staticClass:"rule",on:{click:i.openRule}},[i._v("活动规则>>")]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.hasPetname,expression:"hasPetname"}],staticClass:"petHome"},[i._v(i._s(i.petName)+"的家")]),i._v(" "),i._m(1),i._v(" "),a("div",{staticClass:"helpBtn"},[a("div",{directives:[{name:"show",rawName:"v-show",value:i.shareFriends,expression:"shareFriends"}],staticClass:"shareFriends btnleft",on:{click:i.shareOut}},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901558592759643.png",alt:""}})]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.takePacket,expression:"takePacket"}],staticClass:"takePacket btnleft",on:{click:function(t){i.getPacket("small")}}},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901766190550101.png",alt:""}})]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.givePet,expression:"givePet"}],staticClass:"givePet btnright",on:{click:i.helpmethods}},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592906191283636883.png",alt:""}})]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.initshow,expression:"initshow"}],staticClass:"givePet btnrightm",on:{click:i.initmethods}},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/16081744068014222064.png",alt:""}})]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.givePetdark,expression:"givePetdark"}],staticClass:"givePetdark btnright",on:{click:i.limitPopup}},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901639722439305.png",alt:""}})]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.checkPacket,expression:"checkPacket"}],staticClass:"checkPacket middle",on:{click:i.goCouponlist}},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15592901856951730650.png",alt:""}})]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.takePacketwx,expression:"takePacketwx"}],staticClass:"takePacketwx middle",on:{click:function(t){i.getPacket("big")}}},[a("img",{attrs:{src:i.lastImg,alt:""}})])]),i._v(" "),a("div",{staticClass:"tishi"},[i._v("成功送宝贝到达终点即可获得奖励")])]),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.jishaostatus,expression:"jishaostatus"}],staticClass:"Underside"},[a("div",{directives:[{name:"show",rawName:"v-show",value:i.zhulistatus,expression:"zhulistatus"}],staticClass:"helpstatus"},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15594482951511669673.png",alt:""}}),i._v(" "),a("div",{staticClass:"helpcontent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:i.helped,expression:"helped"}]},[i._v(i._s(i.helpText))]),i._v(" "),i._l(i.updateDynamic,function(t,e){return a("div",{key:"a"+e},[i._v(i._s(t.nickname)+i._s(t.desc))])})],2)]),i._v(" "),a("div",{staticClass:"newstore"},[a("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15594482954521579083.png",alt:""}}),i._v(" "),a("div",{staticClass:"introduceBox",domProps:{innerHTML:i._s(i.introduce)}})])]),i._v(" "),a("rule",{attrs:{text:i.ruleText,textshow:i.ruleTextShow,showRule:i.showRule},on:{closeRule:i.closeRule}}),i._v(" "),a("petNamePopup",{attrs:{inputShow:i.inputShow,imgurl:i.petPopupImg,showRule:i.showPetName},on:{closeRule:i.closeRule,getInput:i.takeIn}}),i._v(" "),a("limit-Popup",{attrs:{imgurl:i.limitImg,iconimgshow:i.iconimgshow,showRule:i.showlimit,popuptext:i.limitText,popuptextshow:i.popuptextshow,iconimg:i.iconimg},on:{closeRule:i.closeRule}}),i._v(" "),a("help-Popup",{attrs:{imgurl:i.limitImg,topimg:i.wayImg,topimgshow:i.topimgshow,showRule:i.showhelp,popuptext:i.helpText,popuptextshow:i.popuptextshow},on:{closeRule:i.closeRule}}),i._v(" "),a("showtoast",{ref:"showtoast",attrs:{text:i.shoetext}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progressBorder"},[e("div",{staticClass:"progress"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dog"},[e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/15594482948482026644.png",alt:""}})])}]};var bt=i("VU/8")(ft,wt,!1,function(t){i("ttRA")},null,null).exports,Pt=i("NC6I"),xt=i.n(Pt),kt=(config.cellPhoneReg,config.cellPhoneReg),yt={name:"login",props:["placeholders"],beforeMount:function(){this.updateCode()},data:function(){return{mobileKey:"",imgcodeUrl:"",cellPhone:"",imgcode:"",code:"",genVerifyCodeFlag:!1,getCodeBtnText:"获取验证码",getCodeBtnClass:""}},methods:{confirmclicked:function(){this.checkoutNum()&&this.$emit("confirm",{cellPhone:this.cellPhone,code:this.code})},getCode:function(){this.checkoutNum(1)&&this.$emit("getCode",{phone:this.cellPhone,code:this.imgcode,encryptionCode:xt()("chongwujia_2018"+this.cellPhone),mobileKey:this.mobileKey})},updateCode:function(){this.mobileKey=""+(new Date).getTime()+parseInt(1e5*(9*Math.random()+1)),this.imgcodeUrl=U(this.mobileKey)},countdown:function(t){var e=this;this.getCodeBtnClass="grey",this.countBackwards({total:60,callback:function(t){t?e.getCodeBtnText=t+"秒":(e.getCodeBtnClass="",e.getCodeBtnText="重新获取",e.genVerifyCodeFlag=!1)}}),t&&t()},checkoutNum:function(t){if(this.cellPhone)if(kt.test(this.cellPhone))if(this.imgcode)if(this.imgcode.length<4)Toast("请检查图形验证码");else if(this.code||1===t){if(!(this.code.length<4&&1!==t))return!0;Toast("请检查短信验证码")}else Toast("请输入短信验证码");else Toast("请输入图形验证码");else Toast("请检查手机号");else Toast("请输入手机号")},countBackwards:function(t){var e=this,i=(t=t||{}).total?t.total:10,a=t.speed?t.speed:1,s=t.time?t.time:1e3,o=t.counted?t.counted:0,n=t.callback?t.callback:0,h=t.callbackOnce?t.callbackOnce:0,l=t.callbackEnd?t.callbackEnd:0,c=0<=i-o?i-o:0;setTimeout(function(){if(0!==c){var t=0<=c-a?c-a:0;o+=a,n&&n(t),h&&h(t),0==t&&l&&l(t),e.countBackwards({total:i,speed:a,time:s,counted:o,callback:n,callbackOnce:h,callbackEnd:l})}},s)}}},Ct={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login"},[i("div",{staticClass:"user-form"},[i("div",{staticClass:"form-cellPhone"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.cellPhone,expression:"cellPhone"}],attrs:{type:"number",placeholder:e.placeholders&&e.placeholders[0]||"请输入手机号"},domProps:{value:e.cellPhone},on:{input:function(t){t.target.composing||(e.cellPhone=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-imgcode"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.imgcode,expression:"imgcode"}],attrs:{type:"number",placeholder:e.placeholders&&e.placeholders[1]||"请输入图形验证码"},domProps:{value:e.imgcode},on:{input:function(t){t.target.composing||(e.imgcode=t.target.value)}}}),e._v(" "),i("img",{attrs:{src:e.imgcodeUrl},on:{click:function(t){return t.stopPropagation(),e.updateCode(t)}}})]),e._v(" "),i("div",{staticClass:"form-code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",placeholder:e.placeholders&&e.placeholders[2]||"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),i("span",{class:e.getCodeBtnClass,on:{click:function(t){return t.stopPropagation(),e.getCode(t)}}},[e._v(e._s(e.getCodeBtnText))])])]),e._v(" "),i("div",{staticClass:"user-btn",on:{click:e.confirmclicked}},[e._t("confirmBtn",[i("div",[e._v("确认")])])],2)])},staticRenderFns:[]};var Vt=i("VU/8")(yt,Ct,!1,function(t){i("5ywe")},"data-v-db7e2672",null).exports,It=(n()({},Object(h.e)(["activityId","openid","isLogin"])),n()({},Object(h.d)(["updateCellPhone","updateisLogin"]),{getCode:function(t){var e=this,i=t;i.openid=this.openid||"",M(i).then(function(t){e.$refs.login.countdown()}).catch(function(t){console.log(t.msg),t.msg&&(e.shoetext=t.msg,e.$refs.showtoast.showtime())})},submit:function(t){var e=this;t.openId=this.openid||"",t.channelId="zhulihuodong_"+this.activityId,this.issubmits&&(this.issubmits=!1,A(t).then(function(t){t.data.cellPhone&&(e.updateCellPhone(t.data.cellPhone),e.updateisLogin(2),e.$router.push("index"))}).catch(function(t){console.warn(t),e.issubmits=!0,t.msg&&(e.shoetext=t.msg,e.$refs.showtoast.showtime())}))}}),{name:"index",data:function(){return{shoetext:"",submitFlag:!1,placeholders:["","",""],issubmits:!0}},computed:n()({},Object(h.e)(["activityId","openid","isLogin"])),created:function(){console.log("登录"+this.openid)},components:{login:Vt,showtoast:st},beforeMount:function(){},methods:n()({},Object(h.d)(["updateCellPhone","updateisLogin"]),{getCode:function(t){var e=this,i=t;i.openid=this.openid||"",M(i).then(function(t){e.$refs.login.countdown()}).catch(function(t){console.log(t.msg),t.msg&&(e.shoetext=t.msg,e.$refs.showtoast.showtime())})},submit:function(t){var e=this;t.openId=this.openid||"",t.channelId="zhulihuodong_"+this.activityId,this.issubmits&&(this.issubmits=!1,A(t).then(function(t){t.data.cellPhone&&(e.updateCellPhone(t.data.cellPhone),e.updateisLogin(2),e.$router.push("index"))}).catch(function(t){console.warn(t),e.issubmits=!0,t.msg&&(e.shoetext=t.msg,e.$refs.showtoast.showtime())}))}})}),Tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"loginpage"},[t._m(0),t._v(" "),i("login",{ref:"login",attrs:{placeholders:t.placeholders},on:{confirm:t.submit,getCode:t.getCode}},[i("div",{staticClass:"loginbtn",attrs:{slot:"confirmBtn"},slot:"confirmBtn"},[t._v("立即领取")])])],1),t._v(" "),i("showtoast",{ref:"showtoast",attrs:{text:t.shoetext}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-top"},[e("img",{attrs:{src:"http://dev-pet-avatar.oss-cn-beijing.aliyuncs.com/html5/16081885700790118463.png",alt:""}})])}]};var Nt=i("VU/8")(It,Tt,!1,function(t){i("0V8U")},"data-v-56f6507f",null).exports;a.default.use(s.a);var _t=new s.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:bt},{path:"/login",name:"login",component:Nt}]}),Bt=config.cellPhoneReg;a.default.use(h.a);var jt=envConfig.shareDomain+"/static/content/html5/byvue/dist/2019/05/newstoreactivity/index.html",St=(new Date).getTime(),zt={getUrl:function(o){return function(t){var e=(t=t||{}).cellPhone?t.cellPhone:o.cellPhone,i=o.imei||"",a=o.system||"",s=o.activityId||"";return jt+"?cellPhone="+e+"&imei="+i+"&system="+a+"&activityId="+s+"&t="+St}}},$t={saveParams:function(t,e){e.cellPhone&&Bt.test(e.cellPhone)&&(t.cellPhone=e.cellPhone),e.imei&&(t.imei=e.imei),e.system&&(t.system=e.system),e.activityId&&(t.activityId=e.activityId),e.idenCode&&(t.idenCode=e.idenCode)},updateCellPhone:function(t,e){e&&Bt.test(e)&&(t.cellPhone=e)},updateIdenCode:function(t,e){e&&(t.idenCode=e)},updateopenid:function(t,e){e&&(t.openid=e)},updateisLogin:function(t,e){e&&(t.isLogin=e)},updateNickname:function(t,e){e&&(t.renickname=e)},updateHeadurl:function(t,e){e&&(t.headimgurl=e)}},Ft=new h.a.Store({state:{cellPhone:"",system:"",imei:"",activityId:"",idenCode:"",openid:"",renickname:"",headimgurl:"",isLogin:1},getters:zt,actions:{checkoutPhone:function(t,e){t.commit("updateCellPhone",e)}},mutations:$t}),Rt=i("Au9i"),Ot=m(),Dt=(n()({},Object(h.d)(["saveParams"])),m()),Jt={name:"App",methods:n()({},Object(h.d)(["saveParams"])),created:function(){this.saveParams(Dt)}},Lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},Ut=i("VU/8")(Jt,Lt,!1,null,null,null).exports;i("UoMW");!function(t,e){if((e=e||{}).favicon){var i=[];t.querySelector('link[rel="shortcut icon"]')&&i.push(t.querySelector('link[rel="shortcut icon"]')),t.querySelector('link[rel="icon"]')&&i.push(t.querySelector('link[rel="icon"]')),t.querySelector('link[rel="apple-touch-icon-precomposed"]')&&i.push(t.querySelector('link[rel="apple-touch-icon-precomposed"]'));var a=!0,s=!1,o=void 0;try{for(var n,h=u()(i);!(a=(n=h.next()).done);a=!0){n.value.setAttribute("href",e.favicon)}}catch(t){s=!0,o=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw o}}}}(document,config),window.MessageBox=Rt.MessageBox,a.default.component(Rt.Popup.name,Rt.Popup),new a.default({router:_t,store:Ft,components:{App:Ut},render:function(t){return t(Ut)}}).$mount("#app")},"0V8U":function(t,e){},"5sji":function(t,e){},"5ywe":function(t,e){},CRa3:function(t,e){},UoMW:function(t,e){var i,a,s,o,n,h;i=document,a=window,s=i.documentElement,o=a.config.pageWidth,n="orientationchange"in a?"orientationchange":"resize",h=function(){var t=s.clientWidth;s.style.fontSize=0<o?(t&&t<o?t:o)/7.5+"px":t/7.5+"px",a.rem=t/7.5},i.addEventListener&&(a.addEventListener(n,h,!1),i.addEventListener("DOMContentLoaded",h,!1),setTimeout(function(){0===parseInt(i.defaultView.getComputedStyle(s).fontSize)&&h()},3e3))},ttRA:function(t,e){}},["/hYq"]);
//# sourceMappingURL=app.e7b9e3393765aa8166b0.js.map